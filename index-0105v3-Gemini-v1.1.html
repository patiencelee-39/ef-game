<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>åŸ·è¡ŒåŠŸèƒ½èªçŸ¥è¨“ç·´ - ä¸­åŸå¤§å­¸ç‰¹æ•™ç³»ç ”ç©¶å·¥å…·</title>

    <meta
      name="description"
      content="ä¸­åŸå¤§å­¸ç‰¹æ®Šæ•™è‚²å­¸ç³»é–‹ç™¼çš„åŸ·è¡ŒåŠŸèƒ½èªçŸ¥è¨“ç·´å·¥å…·ï¼Œå°ˆç‚ºè½éšœå­¸ç«¥è¨­è¨ˆçš„å­¸è¡“ç ”ç©¶ç”¨é€”ç¶²é ã€‚"
    />
    <meta name="author" content="ä¸­åŸå¤§å­¸ç‰¹æ®Šæ•™è‚²å­¸ç³»ç ”ç©¶åœ˜éšŠ" />
    <meta
      name="keywords"
      content="åŸ·è¡ŒåŠŸèƒ½, èªçŸ¥è¨“ç·´, è½éšœæ•™è‚², ä¸­åŸå¤§å­¸, Go-NoGo"
    />

    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data:;"
    />

    <style>
      /* === [è‰¯å¥½å¯¦è¸] CSS è®Šæ•¸ (Variables) ===
         æˆ‘å€‘æŠŠé¡è‰²éƒ½å®šç¾©åœ¨é€™è£¡ï¼Œå°±åƒæ˜¯æŠŠé¡æ–™è£åœ¨è²¼æœ‰æ¨™ç±¤çš„ç½å­è£¡ã€‚
         ä»¥å¾Œè¦æ”¹é¡è‰²ï¼Œåªè¦æ”¹é€™è£¡ï¼Œæ•´å€‹ç¶²ç«™éƒ½æœƒä¸€èµ·è®Šï¼
      */
      :root {
        /* [è©¦è©¦çœ‹] ä¿®æ”¹é€™è£¡çš„è‰²ç¢¼ (ä¾‹å¦‚æ”¹æˆ #000000) è©¦è©¦çœ‹èƒŒæ™¯è®Šè‰² */
        --bg-color: #2c3e50; /* æ·±è—ç°è‰²èƒŒæ™¯ */
        --text-color: #ecf0f1; /* ç±³ç™½è‰²æ–‡å­— */
        --primary-color: #3498db; /* ä¸»è¦æŒ‰éˆ•è—è‰² */
        --success-color: #2ecc71; /* ç­”å°æ™‚çš„ç¶ è‰² */
        --error-color: #e74c3c; /* ç­”éŒ¯æ™‚çš„ç´…è‰² */
        --accent-yellow: #f1c40f; /* æ˜Ÿæ˜Ÿçš„é»ƒè‰² */
        --round1-color: #e67e22; /* ç¬¬ä¸€å›ä»£è¡¨è‰² (æ©˜è‰²) */
        --round2-color: #9b59b6; /* ç¬¬äºŒå›ä»£è¡¨è‰² (ç´«è‰²) */
        --practice-color: #1abc9c; /* ç·´ç¿’æ¨¡å¼ä»£è¡¨è‰² (é’è‰²) */
      }

      /* è¨­å®šæ•´å€‹ç¶²é çš„åŸºç¤æ¨£å¼ */
      body {
        font-family: "å¾®è»Ÿæ­£é»‘é«”", sans-serif; /* è¨­å®šå­—é«” */
        background-color: var(--bg-color); /* ä½¿ç”¨ä¸Šé¢è¨­å®šçš„è®Šæ•¸ */
        color: var(--text-color);
        text-align: center; /* è®“å…§å®¹ç½®ä¸­ */
        margin: 0;
        padding: 20px;
        /* Flexbox æ’ç‰ˆï¼šé€™æ˜¯ä¸€ç¨®å¾ˆå¼·å¤§çš„æ’ç‰ˆæ–¹å¼ï¼Œå¯ä»¥è®“å…§å®¹ä¹–ä¹–æ’å¥½ */
        display: flex;
        flex-direction: column; /* å‚ç›´æ’åˆ— */
        align-items: center; /* æ°´å¹³ç½®ä¸­ */
        min-height: 100vh; /* æœ€å°é«˜åº¦ç‚ºè¦–çª—é«˜åº¦çš„ 100% */
        touch-action: manipulation; /* å„ªåŒ–è§¸æ§è¢å¹•çš„é»æ“Šåæ‡‰ */
      }

      /* é¦–é èªªæ˜å€å¡Šçš„æ¨£å¼ */
      .landing-info {
        background: rgba(255, 255, 255, 0.1); /* åŠé€æ˜ç™½è‰²èƒŒæ™¯ */
        padding: 30px;
        border-radius: 15px; /* åœ“è§’ */
        max-width: 600px;
        margin-bottom: 20px;
        text-align: left; /* æ–‡å­—é å·¦å°é½Š */
        border-left: 5px solid var(--primary-color); /* å·¦é‚ŠåŠ ä¸€æ¢è—è‰²è£é£¾ç·š */
      }

      .landing-info h3 {
        margin-top: 0;
        color: var(--primary-color);
      }

      .landing-info p {
        line-height: 1.6; /* è¡Œé«˜ï¼Œè®“æ–‡å­—ä¸è¦æ“ åœ¨ä¸€èµ·ï¼Œæ¯”è¼ƒå¥½è®€ */
        opacity: 0.9; /* ç¨å¾®é€æ˜ä¸€é»é» */
      }

      /* éŠæˆ²è¦å‰‡èªªæ˜çš„å®¹å™¨ */
      .tutorial-container {
        display: flex; /* è®“å·¦å³å…©å€‹èªªæ˜æ¡†ä¸¦æ’ */
        flex-direction: row;
        justify-content: center;
        gap: 20px; /* å…©å€‹æ¡†æ¡†ä¹‹é–“çš„è·é›¢ */
        margin-bottom: 30px;
        width: 100%;
      }

      /* è¦å‰‡èªªæ˜çš„å°æ¡†æ¡† */
      .rule-box {
        background: rgba(255, 255, 255, 0.1);
        padding: 20px;
        border-radius: 15px;
        display: flex;
        flex-direction: column;
        align-items: center;
        flex: 1; /* è®“å·¦å³å…©å€‹æ¡†æ¡†ä¸€æ¨£å¯¬ */
        border: 2px solid rgba(255, 255, 255, 0.1);
      }

      /* çµ¦å·¦é‚Šå’Œå³é‚Šæ¡†æ¡†ä¸åŒçš„åº•è‰² */
      .rule-box.left-box {
        background: rgba(230, 126, 34, 0.2);
      }
      .rule-box.right-box {
        background: rgba(241, 196, 15, 0.2);
      }

      .rule-icon {
        font-size: 4em;
        margin-bottom: 10px;
      } /* åœ–æ¡ˆå¤§ä¸€é» */
      .rule-arrow {
        font-size: 2em;
        color: #bdc3c7;
        margin: 10px 0;
      }

      /* æ¨¡æ“¬éµç›¤æŒ‰éµçš„æ¨£å¼ */
      .rule-key {
        border: 3px solid #fff;
        border-radius: 10px;
        padding: 5px 20px;
        font-family: monospace; /* ç­‰å¯¬å­—é«”ï¼Œçœ‹èµ·ä¾†åƒç¨‹å¼ç¢¼æˆ–æŒ‰éµ */
        background: rgba(0, 0, 0, 0.3);
        font-size: 3.5em;
        font-weight: bold;
        display: inline-block;
        margin-bottom: 5px;
      }

      .key-desc {
        font-size: 1.2em;
        opacity: 0.9;
      }

      /* ä¸»è¦éŠæˆ²å€åŸŸ */
      .game-area {
        background-color: #34495e;
        border-radius: 15px;
        padding: 20px;
        width: 100%;
        max-width: 600px; /* é™åˆ¶æœ€å¤§å¯¬åº¦ï¼Œé¿å…åœ¨å¤§è¢å¹•ä¸Šå¤ªå¯¬ */
        margin: 20px auto;
        border: 5px solid transparent; /* é ç•™é‚Šæ¡†ä½ç½®çµ¦å›é¥‹å‹•ç•«ç”¨ */
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3); /* é™°å½±ï¼Œå¢åŠ ç«‹é«”æ„Ÿ */
        height: 600px;
        display: flex;
        flex-direction: column;
        justify-content: space-between; /* è®“å…§å®¹åˆ†æ•£å°é½Š (é ­ã€ä¸­ã€è…³) */
        align-items: center;
        position: relative; /* è®“è£¡é¢çš„çµ•å°å®šä½å…ƒç´ åƒè€ƒé€™å€‹ä½ç½® */
      }

      /* é¡¯ç¤ºã€Œç¬¬ä¸€å›ã€ã€ã€Œç·´ç¿’æ¨¡å¼ã€çš„æ¨™ç±¤ */
      .round-label {
        position: absolute; /* çµ•å°å®šä½ï¼šå¯ä»¥è‡ªç”±æ±ºå®šæ”¾åœ¨å“ª */
        top: 10px;
        left: 50%;
        transform: translateX(-50%); /* è®“å®ƒæ°´å¹³æ­£ä¸­å¤® */
        padding: 5px 15px;
        border-radius: 20px;
        font-size: 0.9em;
        font-weight: bold;
        z-index: 10; /* ç¢ºä¿å®ƒæµ®åœ¨æœ€ä¸Šå±¤ */
      }
      /* ä¸åŒæ¨¡å¼çš„æ¨™ç±¤é¡è‰² */
      .round-practice {
        background-color: var(--practice-color);
      }
      .round1-badge {
        background-color: var(--round1-color);
      }
      .round2-badge {
        background-color: var(--round2-color);
      }

      /* é€²åº¦æ¢å®¹å™¨ */
      .progress-container {
        width: 100%;
        height: 8px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 10px;
        overflow: hidden; /* ç¢ºä¿è£¡é¢çš„æ¢ä¸æœƒè·‘å‡ºåœ“è§’å¤– */
        margin-top: 10px;
      }
      /* é€²åº¦æ¢æœ¬é«” */
      .progress-bar {
        height: 100%;
        background: linear-gradient(90deg, #3498db, #2ecc71); /* æ¼¸å±¤è‰² */
        border-radius: 10px;
        transition: width 0.3s ease; /* å¯¬åº¦æ”¹è®Šæ™‚è¦æœ‰å‹•ç•«æ•ˆæœ */
        width: 0%; /* ä¸€é–‹å§‹æ˜¯ 0% */
      }

      /* === äº’å‹•å›é¥‹å‹•ç•« === */
      /* ç­”å°æ™‚çš„ç¶ è‰²é‚Šæ¡† */
      .feedback-success {
        animation: pulse-green 0.3s ease-out; /* åŸ·è¡Œ pulse-green å‹•ç•« */
        border-color: var(--success-color) !important;
      }
      /* ç­”éŒ¯æ™‚çš„ç´…è‰²é‚Šæ¡† */
      .feedback-error {
        animation: shake-red 0.2s ease-in-out; /* åŸ·è¡Œ shake-red å‹•ç•« */
        border-color: var(--error-color) !important;
      }

      /* å®šç¾©ç¶ è‰²è„ˆè¡å‹•ç•«é—œéµå½±æ ¼ */
      @keyframes pulse-green {
        0% {
          transform: scale(1);
          box-shadow: 0 0 0 0 rgba(46, 204, 113, 0.7);
        }
        50% {
          transform: scale(1.02);
          box-shadow: 0 0 0 15px rgba(46, 204, 113, 0);
        }
        100% {
          transform: scale(1);
          box-shadow: 0 0 0 0 rgba(46, 204, 113, 0);
        }
      }
      /* å®šç¾©ç´…è‰²éœ‡å‹•å‹•ç•«é—œéµå½±æ ¼ (å·¦å³æ™ƒå‹•) */
      @keyframes shake-red {
        0%,
        100% {
          transform: translateX(0);
        }
        25% {
          transform: translateX(-15px);
        }
        75% {
          transform: translateX(15px);
        }
      }

      /* é¡¯ç¤ºæ˜Ÿæ˜Ÿæˆ–å¤ªé™½çš„å€åŸŸ */
      .stimulus {
        font-size: 150px; /* åœ–æ¡ˆå¤§å° */
        height: 200px;
        width: 200px;
        display: flex;
        justify-content: center;
        align-items: center;
        transition: transform 0.1s;
        margin: 0 auto;
      }
      /* ç•¶åœ–æ¡ˆå‡ºç¾æ™‚çš„æ”¾å¤§æ•ˆæœ */
      .stimulus.pop {
        transform: scale(1.3);
      }

      /* ä¸‹æ–¹æŒ‰éˆ•å€ */
      .controls-area {
        width: 100%;
        display: flex;
        justify-content: space-around;
        padding-bottom: 20px;
        gap: 20px;
      }

      /* æŒ‰éµæŒ‰éˆ•æ¨£å¼ */
      .btn-key {
        flex: 1;
        height: 100px; /* <-- å¦‚æœåœ–æ¡ˆå¤ªå¤§è¢«åˆ‡æ‰ï¼Œå¯ä»¥æŠŠé€™å€‹é«˜åº¦æ”¹å¤§ä¸€é»ï¼Œä¾‹å¦‚ 120px */
        border: none;
        border-radius: 15px;
        font-size: 2em; /* æ§åˆ¶â­â˜€ï¸åœ–æ¡ˆå¤§å° */
        color: white;
        cursor: pointer; /* æ»‘é¼ ç§»ä¸Šå»è®Šæ‰‹æŒ‡ */
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        transition: transform 0.1s, opacity 0.3s;
        box-shadow: 0 4px 0 rgba(0, 0, 0, 0.2); /* è®“æŒ‰éˆ•æœ‰ç«‹é«”æ„Ÿ */
      }
      /* æŒ‰ä¸‹æŒ‰éˆ•æ™‚çš„æ•ˆæœ */
      .btn-key:active,
      .btn-key.active-key {
        transform: translateY(4px); /* å¾€ä¸‹å£“ */
        box-shadow: none; /* é™°å½±æ¶ˆå¤± */
      }

      .btn-f {
        background-color: #f1c40f;
        color: #2c3e50;
      }
      .btn-j {
        background-color: #e67e22;
      }

      /* ç¦ç”¨æŒ‰éˆ•çš„æ¨£å¼ (ä¾‹å¦‚ç¬¬äºŒå›ä¸èƒ½æŒ‰çš„æ™‚å€™) */
      .btn-disabled {
        background-color: #7f8c8d;
        opacity: 0.3;
        pointer-events: none; /* è®“å®ƒé»ä¸åˆ° */
      }

      .key-hint {
        font-size: 0.6em;
        opacity: 0.8;
        margin-bottom: 5px;
      }

      /* ç­”å°æ™‚åœ–æ¡ˆçš„å‹•ç•« */
      @keyframes pulse-correct {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.3);
          filter: brightness(1.5);
        }
        100% {
          transform: scale(1);
        }
      }
      /* ç­”éŒ¯æ™‚åœ–æ¡ˆçš„å‹•ç•« */
      @keyframes shake-error {
        0%,
        100% {
          transform: translateX(0) rotate(0deg);
        }
        25% {
          transform: translateX(-10px) rotate(-5deg);
        }
        75% {
          transform: translateX(10px) rotate(5deg);
        }
      }

      .correct-flash {
        animation: pulse-correct 0.5s ease-out;
        filter: drop-shadow(0 0 20px #2ecc71);
      }
      .error-flash {
        animation: shake-error 0.4s ease-in-out;
        filter: drop-shadow(0 0 20px #e74c3c);
      }

      /* === [è‰¯å¥½å¯¦è¸] æ§åˆ¶é¡¯ç¤ºç‹€æ…‹ ===
         ä½¿ç”¨ CSS class ä¾†æ§åˆ¶éš±è—ï¼Œè€Œä¸æ˜¯ç›´æ¥ç”¨ JS æ”¹ style.display
         é€™æ¨£æ¯”è¼ƒå¥½ç®¡ç†ã€‚
      */
      .hidden {
        display: none !important;
      }

      .screen-layer {
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }

      /* é€šç”¨æŒ‰éˆ•æ¨£å¼ */
      .btn {
        background-color: var(--primary-color);
        color: white;
        border: none;
        padding: 12px 25px;
        font-size: 1.2em;
        border-radius: 50px;
        cursor: pointer;
        margin-top: 15px;
      }

      /* æ–‡å­—é–ƒçˆå‹•ç•« */
      .blink-text {
        animation: blink 1.5s infinite;
      }
      @keyframes blink {
        0% {
          opacity: 1;
        }
        50% {
          opacity: 0.6;
        }
        100% {
          opacity: 1;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <h1>ğŸ§  åŸ·è¡ŒåŠŸèƒ½èªçŸ¥è¨“ç·´</h1>
      <p style="opacity: 0.7">
        ä¸­åŸå¤§å­¸ç‰¹æ®Šæ•™è‚²å­¸ç³» | å­¸è¡“ç ”ç©¶å·¥å…· v2.7 (å…¨åŸŸç©ºç™½éµ)
      </p>
    </header>

    <main class="game-area" id="gameContainer">
      <div id="landingPage" class="screen-layer">
        <div class="landing-info">
          <h3>ğŸ« é—œæ–¼æœ¬ç ”ç©¶å·¥å…·</h3>
          <p>
            æœ¬å·¥å…·ç”±
            <a
              href="https://special.cycu.edu.tw/"
              target="_blank"
              style="color: var(--primary-color); text-decoration: underline"
            >
              ä¸­åŸå¤§å­¸ç‰¹æ®Šæ•™è‚²å­¸ç³»
            </a>
            é–‹ç™¼ï¼Œæ—¨åœ¨å”åŠ©è½éšœå­¸ç«¥é€²è¡Œã€ŒåŸ·è¡ŒåŠŸèƒ½ã€çš„è¨“ç·´èˆ‡è©•ä¼°ã€‚
          </p>

          <hr
            style="
              border: 0;
              border-top: 1px solid rgba(255, 255, 255, 0.2);
              margin: 15px 0;
            "
          />

          <p><strong>ğŸ”’ éš±ç§æ¬Šè²æ˜ï¼š</strong></p>
          <p>
            æœ¬æ¸¬é©—ç‚ºç´”å‰ç«¯é‹ä½œï¼Œæ‚¨çš„åæ‡‰æ™‚é–“èˆ‡æ­£ç¢ºç‡æ•¸æ“š<b>åƒ…æš«å­˜æ–¼ç€è¦½å™¨ä¸­</b>ï¼Œæˆ‘å€‘ä¸æœƒå°‡ä»»ä½•å€‹äººè³‡æ–™ä¸Šå‚³è‡³ä¼ºæœå™¨ã€‚
          </p>

          <p style="margin-top: 15px; font-size: 0.9em; opacity: 0.8">
            ğŸ“§ å°ˆæ¡ˆè¯çµ¡äººï¼šç ”ç©¶åœ˜éšŠ (
            <a
              href="https://github.com/patiencelee-39/ef-training-game"
              target="_blank"
              style="color: var(--accent-yellow)"
              >GitHub å°ˆæ¡ˆé é¢</a
            >
            )
          </p>
        </div>

        <button class="btn" onclick="game.showTutorial()">
          ğŸ‘‰ é€²å…¥æ¸¬é©—èªªæ˜
        </button>
        <br />
        <small
          ><a href="privacy.html" style="color: #bdc3c7"
            >è©³ç´°éš±ç§æ¬Šæ”¿ç­–</a
          ></small
        >

        <div style="margin-top: 50px; font-size: 0.8em; opacity: 0.5">
          &copy; 2026 Chung Yuan Christian University. All Rights Reserved.
        </div>
      </div>

      <div id="introScreen" class="screen-layer hidden">
        <h2>ç·´ç¿’æ¨¡å¼</h2>
        <p style="margin-bottom: 20px; color: #bdc3c7">
          æˆ‘å€‘å…ˆç·´ç¿’ä¸€ä¸‹ï¼<br />çœ‹ â­ æŒ‰å·¦é‚ŠFéµï¼Œçœ‹ â˜€ï¸ æŒ‰å³é‚ŠJéµ
        </p>

        <div class="tutorial-container">
          <div class="rule-box left-box">
            <span class="rule-icon">â­</span>
            <span class="rule-arrow">â¬‡</span>
            <span class="rule-key">F</span>
            <span class="key-desc">å·¦æ‰‹</span>
          </div>
          <div class="rule-box right-box">
            <span class="rule-icon">â˜€ï¸</span>
            <span class="rule-arrow">â¬‡</span>
            <span class="rule-key">J</span>
            <span class="key-desc">å³æ‰‹</span>
          </div>
        </div>

        <button class="btn blink-text" onclick="game.startPractice()">
          âŒ¨ï¸ è«‹æŒ‰ç©ºç™½éµ (Space) é–‹å§‹ç·´ç¿’
        </button>
      </div>

      <div id="practiceEndScreen" class="screen-layer hidden">
        <h2>ğŸ‘ ç·´ç¿’å®Œæˆï¼</h2>
        <p>åšå¾—å¾ˆæ£’ï¼çŸ¥é“æ€éº¼ç©äº†å—ï¼Ÿ</p>
        <p>æ¥ä¸‹ä¾†è¦<b>æ­£å¼é–‹å§‹</b>å›‰ï¼</p>
        <div style="margin-top: 20px">
          <button class="btn blink-text" onclick="game.startRound1()">
            âŒ¨ï¸ è«‹æŒ‰ç©ºç™½éµ (Space) é–‹å§‹ç¬¬ä¸€å›
          </button>
        </div>
      </div>

      <div id="intermissionScreen" class="screen-layer hidden">
        <h2 style="color: var(--round2-color)">âš ï¸ è¦å‰‡æ”¹è®Šäº†ï¼</h2>

        <div class="tutorial-container">
          <div
            class="rule-box left-box"
            style="background: rgba(127, 140, 141, 0.5)"
          >
            <span class="rule-icon">â­</span>
            <span class="rule-arrow">â¬‡</span>
            <span class="rule-icon" style="font-size: 3em">ğŸ›‘</span>
            <span
              class="key-desc"
              style="color: var(--error-color); font-weight: bold"
              >ä¸è¦æŒ‰ï¼</span
            >
          </div>

          <div class="rule-box right-box">
            <span class="rule-icon">â˜€ï¸</span>
            <span class="rule-arrow">â¬‡</span>
            <span class="rule-key">J</span>
            <span class="key-desc">è¦æŒ‰ï¼</span>
          </div>
        </div>

        <button class="btn blink-text" onclick="game.startRound2()">
          âŒ¨ï¸ è«‹æŒ‰ç©ºç™½éµ (Space) é–‹å§‹ç¬¬äºŒå›
        </button>
      </div>

      <div
        id="playScreen"
        class="hidden"
        style="
          width: 100%;
          height: 100%;
          display: flex;
          flex-direction: column;
          justify-content: space-between;
        "
      >
        <div style="width: 100%">
          <div id="roundLabel" class="round-label round1-badge">ç¬¬ä¸€å›</div>
          <div
            style="
              margin-top: 25px;
              display: flex;
              justify-content: space-between;
            "
          >
            <span
              >é€²åº¦: <span id="currentTrialDisplay">0</span>/<span
                id="totalTrialDisplay"
                >10</span
              ></span
            >
          </div>
          <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
          </div>
        </div>

        <div id="stimulusBox" class="stimulus"></div>

        <div class="controls-area">
          <button
            id="btnF"
            class="btn-key btn-f"
            onpointerdown="game.handleInput('F')"
          >
            <span class="key-hint">æŒ‰éµ F</span>â­
          </button>
          <button
            id="btnJ"
            class="btn-key btn-j"
            onpointerdown="game.handleInput('J')"
          >
            <span class="key-hint">æŒ‰éµ J</span>â˜€ï¸
          </button>
        </div>
      </div>

      <div id="resultScreen" class="screen-layer hidden">
        <h2>ğŸ‰ å…¨éƒ¨å®Œæˆï¼</h2>
        <div
          style="
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 10px;
            width: 100%;
          "
        >
          <p>
            ç­”å°é¡Œæ•¸ï¼š<span
              id="scoreDisplay"
              style="color: var(--success-color); font-size: 1.5em"
              >0</span
            >
          </p>
          <p>å¹³å‡é€Ÿåº¦ï¼š<span id="avgTimeDisplay">0ms</span></p>
        </div>
        <button class="btn" onclick="location.reload()">ğŸ”„ å›åˆ°é¦–é </button>
        <button
          class="btn"
          onclick="game.exportData()"
          style="background-color: #7f8c8d"
        >
          ğŸ“¥ åŒ¯å‡ºè³‡æ–™
        </button>
      </div>
    </main>

    <script>
      /* === [è‰¯å¥½å¯¦è¸] è¨­å®šæª” (Configuration Object) ===
         åŸå‰‡ï¼šé¿å…åœ¨ç¨‹å¼ç¢¼ä¸­æ•£è½ã€Œé­”æ³•æ•¸å­—ã€(Magic Numbers)ã€‚
         æˆ‘å€‘æŠŠæ‰€æœ‰éœ€è¦èª¿æ•´çš„åƒæ•¸éƒ½æ”¾åœ¨é€™è£¡ï¼Œæ–¹ä¾¿ç®¡ç†ã€‚
         åƒè€ƒä¾†æºï¼šç¨‹å¼ç¢¼è‰¯å¥½å¯¦è¸å®Œæ•´æŒ‡å—.md (1.3 å¸¸æ•¸å‘½å)
      */
      const CONFIG = {
        // [è©¦è©¦çœ‹] ä¿®æ”¹é€™è£¡çš„æ•¸å­—ï¼Œå¯ä»¥æ”¹è®Šé¡Œç›®æ•¸é‡
        practiceTrials: 3, // ç·´ç¿’é¡Œæ•¸
        round1Trials: 3, // ç¬¬ä¸€å›é¡Œæ•¸
        round2Trials: 3, // ç¬¬äºŒå›é¡Œæ•¸

        // [è©¦è©¦çœ‹] ä¿®æ”¹é€™è£¡å¯ä»¥æ”¹è®Šé€Ÿåº¦ (å–®ä½æ˜¯æ¯«ç§’ï¼Œ1000æ¯«ç§’ = 1ç§’)
        stimulusDuration: 1500, // åœ–æ¡ˆå‡ºç¾å¤šä¹…æœƒæ¶ˆå¤±
        isiMin: 800, // å…©é¡Œä¹‹é–“æœ€å¿«ä¼‘æ¯å¤šä¹…
        isiMax: 1200, // å…©é¡Œä¹‹é–“æœ€æ…¢ä¼‘æ¯å¤šä¹…

        goRatio: 0.5, // å‡ºç¾ç›®æ¨™(Go)çš„æ©Ÿç‡ (0.5 = 50%)
      };

      /*
         === [è‰¯å¥½å¯¦è¸] å–®ä¸€è·è²¬åŸå‰‡èˆ‡ç‰©ä»¶å°è£ ===
         åŸå‰‡ï¼šå°‡éŠæˆ²çš„ç‹€æ…‹ (State) å’ŒåŠŸèƒ½ (Function) å°è£åœ¨ä¸€å€‹ `game` ç‰©ä»¶ä¸­ã€‚
         é€™æ¨£ä¸æœƒæ±™æŸ“å…¨åŸŸè®Šæ•¸ï¼Œä¹Ÿè®“ç¨‹å¼ç¢¼çµæ§‹æ›´æ¸…æ™°ã€‚
         åƒè€ƒä¾†æºï¼šç¨‹å¼ç¢¼è‰¯å¥½å¯¦è¸å®Œæ•´æŒ‡å—.md (2.1)
      */
      const game = {
        // State: è¨˜éŒ„éŠæˆ²ç•¶ä¸‹çš„ç‹€æ…‹
        state: {
          currentRound: 1, // ç›®å‰ç¬¬å¹¾å›
          currentTrial: 0, // ç›®å‰ç¬¬å¹¾é¡Œ
          totalTrials: 0, //ç¸½å…±å¹¾é¡Œ
          score: 0, // å¾—åˆ†
          results: [], // å„²å­˜æ¯ä¸€é¡Œçš„æ•¸æ“š
          isPlaying: false, // éŠæˆ²æ˜¯å¦é€²è¡Œä¸­
          isPractice: false, // æ˜¯å¦ç‚ºç·´ç¿’æ¨¡å¼
          currentStimulus: null, // ç¾åœ¨å‡ºç¾çš„æ˜¯æ˜Ÿæ˜Ÿé‚„æ˜¯å¤ªé™½
          startTime: 0, // é¡Œç›®å‡ºç¾çš„æ™‚é–“é» (ç”¨ä¾†ç®—åæ‡‰æ™‚é–“)
          responded: false, // ä½¿ç”¨è€…æ˜¯å¦å·²ç¶“æŒ‰éµ
          timer: null, // è¨ˆæ™‚å™¨ ID
        },

        // Elements: é å…ˆæŠ“å– HTML å…ƒç´ ï¼Œæå‡æ•ˆèƒ½
        elements: {
          container: document.getElementById("gameContainer"),
          screens: {
            landing: document.getElementById("landingPage"),
            intro: document.getElementById("introScreen"),
            practiceEnd: document.getElementById("practiceEndScreen"),
            intermission: document.getElementById("intermissionScreen"),
            play: document.getElementById("playScreen"),
            result: document.getElementById("resultScreen"),
          },
          stimulus: document.getElementById("stimulusBox"),
          btnF: document.getElementById("btnF"),
          btnJ: document.getElementById("btnJ"),
          roundLabel: document.getElementById("roundLabel"),
          trialDisplay: document.getElementById("currentTrialDisplay"),
          totalDisplay: document.getElementById("totalTrialDisplay"),
          scoreDisplay: document.getElementById("scoreDisplay"),
          avgTimeDisplay: document.getElementById("avgTimeDisplay"),
        },

        // --- æµç¨‹æ§åˆ¶å‡½æ•¸ ---

        // é¡¯ç¤ºæ•™å­¸ç•«é¢
        showTutorial: function () {
          this.showScreen("intro");
        },

        // é–‹å§‹ç·´ç¿’æ¨¡å¼
        startPractice: function () {
          this.state.isPractice = true;
          this.state.currentRound = 1;
          this.state.totalTrials = CONFIG.practiceTrials;

          // è¨­å®š UI
          this.elements.roundLabel.innerText = "ç·´ç¿’æ¨¡å¼";
          this.elements.roundLabel.className = "round-label round-practice";

          // å•Ÿç”¨ F éµ (å› ç‚ºç·´ç¿’æ¨¡å¼ F éµæ˜¯æœ‰ç”¨çš„)
          this.elements.btnF.classList.remove("btn-disabled");
          this.elements.btnF.innerHTML =
            '<span class="key-hint">æŒ‰éµ F</span>â­';

          this.initGameSession();
        },

        // é–‹å§‹ç¬¬ä¸€å› (æ­£å¼)
        startRound1: function () {
          this.state.isPractice = false;
          this.state.currentRound = 1;
          this.state.totalTrials = CONFIG.round1Trials;
          this.state.results = []; // æ¸…ç©ºä¹‹å‰çš„ç´€éŒ„

          this.elements.roundLabel.innerText = "ç¬¬ä¸€å›ï¼šè¾¨è­˜";
          this.elements.roundLabel.className = "round-label round1-badge";

          this.elements.btnF.classList.remove("btn-disabled");
          this.elements.btnF.innerHTML =
            '<span class="key-hint">æŒ‰éµ F</span>â­';

          this.initGameSession();
        },

        // é–‹å§‹ç¬¬äºŒå› (æŠ‘åˆ¶)
        startRound2: function () {
          this.state.isPractice = false;
          this.state.currentRound = 2;
          this.state.totalTrials = CONFIG.round2Trials;

          this.elements.roundLabel.innerText = "ç¬¬äºŒå›ï¼šæŠ‘åˆ¶";
          this.elements.roundLabel.className = "round-label round2-badge";

          // åœç”¨ F éµ (ç¬¬äºŒå›çœ‹åˆ°æ˜Ÿæ˜Ÿä¸èƒ½æŒ‰)
          this.elements.btnF.classList.add("btn-disabled");
          this.elements.btnF.innerHTML = '<span class="key-hint">â­</span>å¿ä½';

          this.initGameSession();
        },

        // åˆå§‹åŒ–ä¸€å›åˆçš„éŠæˆ²
        initGameSession: function () {
          this.state.currentTrial = 0;
          this.state.score = 0;
          this.state.isPlaying = true;
          this.elements.totalDisplay.innerText = this.state.totalTrials;
          this.showScreen("play");
          this.nextTrial(); // é–‹å§‹ç¬¬ä¸€é¡Œ
        },

        // é€²å…¥ä¸‹ä¸€é¡Œ
        nextTrial: function () {
          // æª¢æŸ¥æ˜¯å¦æ‰€æœ‰é¡Œç›®éƒ½åšå®Œäº†
          if (this.state.currentTrial >= this.state.totalTrials) {
            this.endSession();
            return;
          }

          this.state.currentTrial++;
          this.updateUI();

          // é‡ç½®ç•«é¢ç‹€æ…‹
          this.elements.stimulus.innerText = "";
          this.elements.container.className = "game-area"; // ç§»é™¤æˆåŠŸ/å¤±æ•—çš„å›é¥‹è‰²
          this.elements.stimulus.classList.remove("pop");
          this.state.responded = false;

          // éš¨æ©Ÿç­‰å¾…ä¸€æ®µæ™‚é–“å¾Œé¡¯ç¤ºé¡Œç›® (ISI)
          const delay =
            Math.floor(Math.random() * (CONFIG.isiMax - CONFIG.isiMin + 1)) +
            CONFIG.isiMin;
          setTimeout(() => this.showStimulus(), delay);
        },

        // é¡¯ç¤ºåˆºæ¿€ç‰© (æ˜Ÿæ˜Ÿæˆ–å¤ªé™½)
        showStimulus: function () {
          const isStar = Math.random() < CONFIG.goRatio;
          this.state.currentStimulus = isStar ? "sun" : "star";

          // [è©¦è©¦çœ‹] é€™è£¡å¯ä»¥ä¿®æ”¹é¡¯ç¤ºçš„åœ–æ¡ˆ
          if (isStar) {
            this.elements.stimulus.innerText = "â˜€ï¸";
            this.elements.stimulus.style.color = "#f39c12"; // å¤ªé™½é¡è‰²
          } else {
            this.elements.stimulus.innerText = "â­";
            this.elements.stimulus.style.color = "#f1c40f"; // æ˜Ÿæ˜Ÿé¡è‰²
          }

          // è¨˜éŒ„é–‹å§‹æ™‚é–“ (ç‚ºäº†è¨ˆç®—åæ‡‰æ™‚é–“)
          this.state.startTime = Date.now();

          // è¨­å®šå€’æ•¸è¨ˆæ™‚ï¼Œå¦‚æœä½ éƒ½ä¸æŒ‰ï¼Œæ™‚é–“åˆ°å°±ç®—é€¾æ™‚
          this.state.timer = setTimeout(() => {
            if (!this.state.responded) {
              this.handleTimeout();
            }
          }, CONFIG.stimulusDuration);
        },

        // è™•ç†ä½¿ç”¨è€…è¼¸å…¥ (æŒ‰éµæˆ–é»æ“Š)
        handleInput: function (keyInput) {
          // é˜²å‘†ï¼šå¦‚æœæ²’åœ¨ç©ã€æˆ–å·²ç¶“æŒ‰éäº†ã€æˆ–åœ–æ¡ˆé‚„æ²’å‡ºä¾†ï¼Œå°±ä¸ç†æœƒ
          if (
            !this.state.isPlaying ||
            this.state.responded ||
            !this.elements.stimulus.innerText
          )
            return;

          this.state.responded = true;
          clearTimeout(this.state.timer); // æ¸…é™¤é€¾æ™‚è¨ˆæ™‚å™¨

          // æŒ‰éˆ•çš„è¦–è¦ºå›é¥‹ (æŒ‰ä¸‹å»çš„æ•ˆæœ)
          const btn =
            keyInput === "J" ? this.elements.btnJ : this.elements.btnF;
          btn.classList.add("active-key");
          setTimeout(() => btn.classList.remove("active-key"), 100);

          // è¨ˆç®—åæ‡‰æ™‚é–“
          const reactionTime = Date.now() - this.state.startTime;
          const stimulus = this.state.currentStimulus;
          let isCorrect = false;

          // åˆ¤æ–·å°éŒ¯é‚è¼¯
          if (this.state.currentRound === 1) {
            // ç¬¬ä¸€å›ï¼šæ˜Ÿæ˜ŸæŒ‰ Fï¼Œå¤ªé™½æŒ‰ J
            if (stimulus === "star" && keyInput === "F") isCorrect = true;
            else if (stimulus === "sun" && keyInput === "J") isCorrect = true;
          } else {
            // ç¬¬äºŒå›ï¼šå¤ªé™½æŒ‰ Jï¼Œæ˜Ÿæ˜Ÿä¸èƒ½æŒ‰ (ä½†é€™è£¡ä½¿ç”¨è€…æŒ‰äº†ï¼Œæ‰€ä»¥å¦‚æœé€™é¡Œæ˜¯æ˜Ÿæ˜Ÿå°±éŒ¯äº†)
            if (stimulus === "sun" && keyInput === "J") isCorrect = true;
            else isCorrect = false;
          }

          this.triggerFeedback(isCorrect);
          this.recordResult(isCorrect, reactionTime, keyInput);

          setTimeout(() => this.nextTrial(), 800); // å»¶é²ä¸€ä¸‹å†é€²ä¸‹ä¸€é¡Œ
        },

        // è™•ç†é€¾æ™‚ (ä½¿ç”¨è€…åœ¨æ™‚é–“å…§æ²’æœ‰æŒ‰éµ)
        handleTimeout: function () {
          this.state.responded = true;
          const stimulus = this.state.currentStimulus;
          let isCorrect = false;

          if (this.state.currentRound === 1) {
            // ç¬¬ä¸€å›ï¼šå¿…é ˆæŒ‰éµï¼Œæ‰€ä»¥æ²’æŒ‰å°±éŒ¯
            isCorrect = false;
          } else {
            // ç¬¬äºŒå›ï¼šæ˜Ÿæ˜Ÿä¸èƒ½æŒ‰ï¼Œæ‰€ä»¥å¦‚æœé€™é¡Œæ˜¯æ˜Ÿæ˜Ÿä¸”æ²’æŒ‰ï¼Œå°±å°äº†ï¼
            if (stimulus === "star") isCorrect = true;
            else isCorrect = false;
          }

          if (isCorrect) this.triggerFeedback(true);
          else this.triggerFeedback(false);

          this.recordResult(isCorrect, 0, "none");
          setTimeout(() => this.nextTrial(), 800);
        },

        // è§¸ç™¼è¦–è¦ºå›é¥‹ (ç•«é¢é–ƒç¶ è‰²æˆ–ç´…è‰²)
        triggerFeedback: function (isSuccess) {
          // å…ˆç§»é™¤ä¹‹å‰çš„ classï¼Œè§¸ç™¼é‡ç¹ª (magic trick for restarting css animation)
          this.elements.container.classList.remove(
            "feedback-success",
            "feedback-error"
          );
          this.elements.stimulus.classList.remove(
            "correct-flash",
            "error-flash"
          );
          void this.elements.container.offsetWidth;

          if (isSuccess) {
            this.elements.container.classList.add("feedback-success");
            this.elements.stimulus.classList.add("correct-flash");
          } else {
            this.elements.container.classList.add("feedback-error");
            this.elements.stimulus.classList.add("error-flash");
          }
        },

        // è¨˜éŒ„è©²é¡Œçµæœ
        recordResult: function (isCorrect, rt, inputKey) {
          if (isCorrect) {
            this.state.score++;
            // åˆ†æ•¸å‹•ç•«
            const scoreEl = document.getElementById("scoreDisplay");
            if (scoreEl) {
              scoreEl.style.transform = "scale(1.3)";
              scoreEl.style.color = "#2ecc71";
              setTimeout(() => {
                scoreEl.style.transform = "scale(1)";
              }, 300);
            }
          }

          // åªæœ‰æ­£å¼æ¸¬é©—æ‰è¨˜éŒ„æ•¸æ“šï¼Œç·´ç¿’æ¨¡å¼ä¸è¨˜
          if (!this.state.isPractice) {
            this.state.results.push({
              round: this.state.currentRound,
              trial: this.state.currentTrial,
              stimulus: this.state.currentStimulus,
              input: inputKey,
              correct: isCorrect ? "yes" : "no",
              rt: rt,
            });
          }
        },

        // çµæŸé€™ä¸€å›åˆ
        endSession: function () {
          this.state.isPlaying = false;

          if (this.state.isPractice) {
            this.showScreen("practiceEnd");
          } else if (this.state.currentRound === 1) {
            this.showScreen("intermission");
          } else {
            this.showFinalResult();
          }
        },

        // é¡¯ç¤ºæœ€çµ‚æˆç¸¾
        showFinalResult: function () {
          this.showScreen("result");
          // è¨ˆç®—æ­£ç¢ºé¡Œæ•¸
          const totalCorrect = this.state.results.filter(
            (r) => r.correct === "yes"
          ).length;
          // è¨ˆç®—å¹³å‡åæ‡‰æ™‚é–“ (åªç®—ç­”å°ä¸”æœ‰æŒ‰éµçš„)
          const validTrials = this.state.results.filter(
            (r) => r.input === "J" && r.correct === "yes"
          );
          const avgRT =
            validTrials.length > 0
              ? Math.round(
                  validTrials.reduce((sum, r) => sum + r.rt, 0) /
                    validTrials.length
                )
              : 0;

          this.elements.scoreDisplay.innerText = totalCorrect;
          this.elements.avgTimeDisplay.innerText = avgRT + "ms";
        },

        // æ›´æ–°ä»‹é¢ (é€²åº¦æ¢)
        updateUI: function () {
          this.elements.trialDisplay.innerText = this.state.currentTrial;
          const progressBar = document.getElementById("progressBar");
          if (progressBar) {
            // é€™è£¡åŸæœ¬æ˜¯æ‹¿ã€Œç•¶å‰é¡Œè™Ÿã€ä¾†ç®—ï¼Œæ‰€ä»¥ç¬¬ä¸€é¡Œå°±æ˜¯ 1/10 = 10%
            // â˜… ä¿®æ”¹é€™è£¡ï¼š(ç•¶å‰é¡Œè™Ÿ - 1) ä»£è¡¨ã€Œå·²å®Œæˆã€çš„æ•¸é‡
            // ä¾‹å¦‚ç¬¬1é¡Œï¼š(1-1)/10 = 0%
            // ä¾‹å¦‚ç¬¬5é¡Œï¼š(5-1)/10 = 40%
            const progress =
              ((this.state.currentTrial - 1) / this.state.totalTrials) * 100;
            progressBar.style.width = progress + "%";
            // é€²åº¦æ¢é¡è‰²éš¨é€²åº¦è®ŠåŒ–
            if (progress < 30) progressBar.style.background = "#3498db";
            else if (progress < 70) progressBar.style.background = "#f39c12";
            else progressBar.style.background = "#2ecc71";
          }
        },

        // åˆ‡æ›é¡¯ç¤ºçš„ç•«é¢ (Helper function)
        showScreen: function (name) {
          // å…ˆæŠŠæ‰€æœ‰ç•«é¢éƒ½åŠ ä¸Š hidden
          Object.values(this.elements.screens).forEach((el) =>
            el.classList.add("hidden")
          );
          // å†æŠŠæŒ‡å®šçš„ç•«é¢ç§»é™¤ hidden
          this.elements.screens[name].classList.remove("hidden");
        },

        /*
           === [GSB å®‰å…¨] åŒ¯å‡ºè³‡æ–™åŠŸèƒ½ ===
           Google æ©Ÿå™¨äººå°ã€Œè‡ªå‹•ä¸‹è¼‰ã€éå¸¸æ•æ„Ÿã€‚
           é€™è£¡çš„å®‰å…¨è¨­è¨ˆåŸå‰‡ï¼š
           1. å¿…é ˆæ˜¯ .csv (ç´”æ–‡å­—æ ¼å¼)ï¼Œçµ•å°ä¸èƒ½æ˜¯ .exe æˆ– .zipã€‚
           2. å¿…é ˆç”±ä½¿ç”¨è€…é»æ“ŠæŒ‰éˆ•è§¸ç™¼ (ä¸å¯ä»¥ç¶²é ä¸€æ‰“é–‹å°±è‡ªå‹•ä¸‹è¼‰)ã€‚
           3. é€é Blob ç‰©ä»¶åœ¨ç€è¦½å™¨å…§ç”¢ç”Ÿæª”æ¡ˆï¼Œä¸éœ€è¦å¾Œç«¯ä¼ºæœå™¨ã€‚
           åƒè€ƒä¾†æºï¼šå¦‚ä½•é¿å…ç¶²ç«™è¢«GSBåˆ¤æ–·ç‚ºå±éšªç¶²ç«™.md (6.1)
        */
        exportData: function () {
          // å»ºç«‹ CSV æ¨™é ­
          let csv =
            "data:text/csv;charset=utf-8,Round,Trial,Stimulus,InputKey,Correct,RT(ms)\n";
          // å°‡æ•¸æ“šè½‰æ›æˆ CSV æ ¼å¼å­—ä¸²
          this.state.results.forEach((r) => {
            csv += `${r.round},${r.trial},${r.stimulus},${r.input},${r.correct},${r.rt}\n`;
          });

          // ç·¨ç¢¼ URI ä¸¦å»ºç«‹ä¸‹è¼‰é€£çµ
          const encodedUri = encodeURI(csv);
          const link = document.createElement("a");
          link.setAttribute("href", encodedUri);
          link.setAttribute("download", "ef_training_data.csv"); // [å®‰å…¨] ä½¿ç”¨å®‰å…¨çš„å‰¯æª”å
          document.body.appendChild(link);
          link.click(); // æ¨¡æ“¬é»æ“Šä¸‹è¼‰
          document.body.removeChild(link); // ä¸‹è¼‰å¾Œç§»é™¤é€£çµ
        },
      };

      /* === [è‰¯å¥½å¯¦è¸] äº‹ä»¶å§”æ´¾èˆ‡å…¨åŸŸæŒ‰éµç›£è½ ===
       åƒè€ƒä¾†æºï¼šç¨‹å¼ç¢¼è‰¯å¥½å¯¦è¸å®Œæ•´æŒ‡å—.md (2. ç« )
       é€™è£¡æˆ‘å€‘çµ±ä¸€ç›£è½éµç›¤äº‹ä»¶ï¼Œä¸¦æ ¹æ“šã€Œç•¶å‰é¡¯ç¤ºçš„ç•«é¢ã€æ±ºå®šç©ºç™½éµçš„åŠŸèƒ½ã€‚
       é€™æ¯”åœ¨æ¯å€‹æŒ‰éˆ•ä¸Šå–®ç¨å¯« onclick æ›´å®¹æ˜“ç®¡ç†ï¼Œä¹Ÿé˜²æ­¢äº†ã€Œåªæœ‰ç¬¬ä¸€æ¬¡æœ‰æ•ˆã€çš„ Bugã€‚
      */
      document.addEventListener("keydown", function (event) {
        // æª¢æŸ¥æ˜¯å¦æŒ‰ä¸‹äº†ç©ºç™½éµ (Space)
        if (event.code === "Space" || event.key === " ") {
          const screens = game.elements.screens;

          // 1. å¦‚æœåœ¨ã€Œæ•™å­¸ç•«é¢ã€ï¼ŒæŒ‰ç©ºç™½éµ -> é–‹å§‹ç·´ç¿’
          if (!screens.intro.classList.contains("hidden")) {
            event.preventDefault(); // é˜²æ­¢ç¶²é å› ç‚ºæŒ‰ç©ºç™½éµè€Œå¾€ä¸‹æ²å‹•
            game.startPractice();
            return;
          }

          // 2. å¦‚æœåœ¨ã€Œç·´ç¿’çµæŸç•«é¢ã€ï¼ŒæŒ‰ç©ºç™½éµ -> é–‹å§‹ç¬¬ä¸€å›
          if (!screens.practiceEnd.classList.contains("hidden")) {
            event.preventDefault();
            game.startRound1();
            return;
          }

          // 3. å¦‚æœåœ¨ã€Œä¸­å ´ä¼‘æ¯ç•«é¢ã€ï¼ŒæŒ‰ç©ºç™½éµ -> é–‹å§‹ç¬¬äºŒå›
          if (!screens.intermission.classList.contains("hidden")) {
            event.preventDefault();
            game.startRound2();
            return;
          }
        }

        // ä¸€èˆ¬éŠæˆ²æ§åˆ¶ (J/F)
        if (!game.state.isPlaying) return;
        const key = event.key.toUpperCase();
        if (key === "J" || key === "F") {
          game.handleInput(key);
        }
      });
    </script>
  </body>
</html>
