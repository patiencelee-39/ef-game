<!doctype html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <link rel="preconnect" href="https://www.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://www.googleapis.com" crossorigin />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self' 'unsafe-inline' https://www.gstatic.com; style-src 'self' 'unsafe-inline'; img-src 'self' data:; media-src 'self'; connect-src 'self' https://*.firebaseio.com https://*.googleapis.com wss://*.firebaseio.com https://*.firebasedatabase.app wss://*.firebasedatabase.app"
    />
    <title>тіатЁЦТѕ┐жќЊ - тЪиУАїтіЪУЃйУеЊуи┤жЂіТѕ▓</title>
    <link rel="icon" href="../favicon.svg" type="image/svg+xml" />
    <link rel="apple-touch-icon" href="../favicon.svg" />
    <link rel="manifest" href="../manifest.json" />
    <meta name="theme-color" content="#302b63" />
    <link rel="stylesheet" href="../css/themes/base.css" />
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="stylesheet" href="../css/components/landscape-hint.css" />
    <link rel="stylesheet" href="../css/pages/room-join.css" />
    <link rel="stylesheet" href="../css/components/navbar.css" />
    <!-- Firebase SDK -->
    <script
      defer
      src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"
    ></script>
    <script
      defer
      src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"
    ></script>
    <script
      defer
      src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"
    ></script>
    <!-- ТЄЅућеуеІт╝ЈУЁ│Тюг -->
    <script defer src="../js/utils/constants.js"></script>
    <script defer src="../js/firebase-config.js"></script>
    <script defer src="../js/utils/room-code.js"></script>
    <script defer src="../js/multiplayer/room-manager.js"></script>
    <script defer src="../js/shared/navbar.js"></script>
    <script defer src="../js/shared/landscape-hint.js"></script>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>­ЪћЌ тіатЁЦТѕ┐жќЊ</h1>
        <p class="subtitle">У╝ИтЁЦТѕ┐жќЊС╗Буб╝С╗ЦтіатЁЦжЂіТѕ▓</p>
      </header>

      <main class="join-container" id="main-content">
        <div class="form-group">
          <label for="playerName">ТѓеуџётљЇтГЌ</label>
          <input
            type="text"
            id="playerName"
            class="player-name-input"
            placeholder="У╝ИтЁЦТѓеуџётљЇтГЌ"
            maxlength="20"
          />
        </div>

        <div class="form-group">
          <label id="codeLabel">Тѕ┐жќЊС╗Буб╝</label>
          <div
            class="code-input-group"
            role="group"
            aria-labelledby="codeLabel"
          >
            <input
              type="text"
              class="code-input"
              id="code1"
              maxlength="1"
              autocomplete="off"
              aria-label="Тѕ┐жќЊС╗Буб╝угг 1 уб╝"
            />
            <input
              type="text"
              class="code-input"
              id="code2"
              maxlength="1"
              autocomplete="off"
              aria-label="Тѕ┐жќЊС╗Буб╝угг 2 уб╝"
            />
            <input
              type="text"
              class="code-input"
              id="code3"
              maxlength="1"
              autocomplete="off"
              aria-label="Тѕ┐жќЊС╗Буб╝угг 3 уб╝"
            />
            <span class="code-separator" aria-hidden="true">-</span>
            <input
              type="text"
              class="code-input"
              id="code4"
              maxlength="1"
              autocomplete="off"
              aria-label="Тѕ┐жќЊС╗Буб╝угг 4 уб╝"
            />
            <input
              type="text"
              class="code-input"
              id="code5"
              maxlength="1"
              autocomplete="off"
              aria-label="Тѕ┐жќЊС╗Буб╝угг 5 уб╝"
            />
            <input
              type="text"
              class="code-input"
              id="code6"
              maxlength="1"
              autocomplete="off"
              aria-label="Тѕ┐жќЊС╗Буб╝угг 6 уб╝"
            />
          </div>
        </div>

        <div class="loading" id="loading">ТГБтюет░ІТЅЙТѕ┐жќЊ...</div>

        <div
          class="join-status"
          id="joinStatus"
          role="alert"
          aria-live="assertive"
        ></div>

        <div class="room-info" id="roomInfo">
          <h3>­ЪЊІ Тѕ┐жќЊУ│ЄУеі</h3>
          <div class="room-info-item">
            <span>Тѕ┐СИ╗№╝џ</span>
            <span id="roomHost">-</span>
          </div>
          <div class="room-info-item">
            <span>ујЕт«ХС║║ТЋИ№╝џ</span>
            <span id="playerCount">-</span>
          </div>
          <div class="room-info-item">
            <span>жЌютЇАТЋИжЄЈ№╝џ</span>
            <span id="stageCount">-</span>
          </div>
        </div>

        <div class="btn-group">
          <button
            class="btn-secondary"
            onclick="location.href = '../index.html'"
          >
            У┐ћтЏъждќжаЂ
          </button>
          <button class="btn-primary" id="joinBtn" onclick="joinRoom()">
            тіатЁЦТѕ┐жќЊ
          </button>
        </div>
      </main>

      <footer>
        <p>&copy; 2026 тЪиУАїтіЪУЃйУеЊуи┤жЂіТѕ▓. All rights reserved.</p>
      </footer>
    </div>

    <script defer src="../js/multiplayer/room-join-controller.js"></script>
  </body>
</html>
