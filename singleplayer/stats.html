<!doctype html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline'; img-src 'self' data:;"
    />
    <title>我的統計 — 執行功能訓練遊戲</title>
    <link rel="icon" href="../favicon.svg" type="image/svg+xml" />
    <link rel="apple-touch-icon" href="../favicon.svg" />
    <link rel="manifest" href="../manifest.json" />
    <meta name="theme-color" content="#302b63" />
    <link rel="stylesheet" href="../css/themes/base.css" />
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="stylesheet" href="../css/components/navbar.css" />
    <link rel="stylesheet" href="../css/components/landscape-hint.css" />
    <link rel="stylesheet" href="../css/pages/stats.css" />
    <!-- style block extracted → css/pages/stats.css -->
    <!-- === 依賴 === -->
    <script defer src="../js/game-config.js"></script>
    <script defer src="../js/adventure-maps-config.js"></script>
    <script defer src="../js/utils/storage.js"></script>
    <script defer src="../js/utils/level-calculator.js"></script>
    <script defer src="../js/utils/badge-checker.js"></script>
    <script defer src="../js/singleplayer/progress-tracker.js"></script>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/chart.js@4/dist/chart.umd.min.js"
    ></script>
    <script defer src="../js/shared/navbar.js"></script>
    <script defer src="../js/shared/landscape-hint.js"></script>
    <script defer src="../js/singleplayer/stats-controller.js"></script>
  </head>
  <body>
    <main class="stats-page" id="main-content">
      <!-- Header -->
      <div class="stats-header">
        <button class="btn-back" onclick="history.back()" aria-label="返回">
          ←
        </button>
        <h1>📈 我的統計</h1>
      </div>

      <!-- 總覽 -->
      <div class="stats-card" id="overviewCard">
        <h2>📋 總覽</h2>
        <div class="overview-grid" id="overviewGrid"></div>
      </div>

      <!-- 探險進度 -->
      <div class="stats-card" id="progressCard">
        <h2>🗺️ 探險進度</h2>
        <div id="progressContent"></div>
      </div>

      <!-- 規則表現比較 -->
      <div class="stats-card" id="ruleCompareCard">
        <h2>📊 各規則最佳成績</h2>
        <div id="ruleCompareContent"></div>
      </div>

      <!-- 正確率趨勢（Chart.js） -->
      <div class="stats-card" id="chartCard">
        <h2>📈 成績總覽圖</h2>
        <div class="chart-wrapper">
          <canvas id="performanceChart"></canvas>
        </div>
      </div>

      <!-- 徽章收集 -->
      <div class="stats-card" id="badgeCard">
        <h2>🏅 徽章收集</h2>
        <div id="badgeContent"></div>
      </div>
    </main>

    <!-- script block extracted → js/singleplayer/stats-controller.js -->
  </body>
</html>
