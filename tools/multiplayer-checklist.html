<!doctype html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data:"
    />
    <title>âœ… å¤šäººç«¶è³½æ¸¬è©¦ Check List - EF Game</title>
    <link rel="icon" href="../favicon.svg" type="image/svg+xml" />
    <link rel="stylesheet" href="../css/themes/base.css" />
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="preload" href="../css/components/navbar.css" as="style" onload="this.rel='stylesheet'" />
    <noscript><link rel="stylesheet" href="../css/components/navbar.css" /></noscript>
    <style>
      body {
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
        min-height: 100vh;
        color: #e0e0e0;
        font-family: var(--font-family-main, "Noto Sans TC", sans-serif);
      }
      .dev-page {
        max-width: 800px;
        margin: 0 auto;
        padding: 24px 16px 60px;
      }
      .dev-page h1 {
        text-align: center;
        margin-bottom: 4px;
        font-size: 1.5rem;
      }
      .dev-subtitle {
        text-align: center;
        color: #aaa;
        font-size: 0.85rem;
        margin-bottom: 24px;
      }
      .btn-back {
        display: inline-block;
        color: #aaa;
        text-decoration: none;
        font-size: 0.85rem;
        margin-bottom: 16px;
      }
      .btn-back:hover { color: #fff; }

      /* Check List æ¨£å¼ */
      .cl-section {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 16px;
        padding: 20px;
        margin-bottom: 20px;
      }
      .cl-section h2 {
        font-size: 1.05rem;
        margin: 0 0 14px;
        color: #4db6ac;
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .cl-item {
        display: flex;
        align-items: flex-start;
        gap: 10px;
        padding: 8px 10px;
        border-radius: 8px;
        margin-bottom: 4px;
        font-size: 0.85rem;
        line-height: 1.5;
        transition: background 0.15s;
      }
      .cl-item:hover {
        background: rgba(255, 255, 255, 0.03);
      }
      .cl-item input[type="checkbox"] {
        width: 18px;
        height: 18px;
        margin-top: 2px;
        cursor: pointer;
        flex-shrink: 0;
        accent-color: #4db6ac;
      }
      .cl-item label {
        cursor: pointer;
        flex: 1;
      }
      .cl-item.checked label {
        text-decoration: line-through;
        color: #666;
      }
      .cl-note {
        font-size: 0.78rem;
        color: #888;
        margin-left: 28px;
        margin-top: -2px;
        margin-bottom: 6px;
      }
      .cl-divider {
        border: none;
        border-top: 1px solid rgba(255, 255, 255, 0.06);
        margin: 10px 0;
      }
      .cl-progress {
        text-align: center;
        font-size: 0.82rem;
        color: #aaa;
        margin-bottom: 20px;
        padding: 10px;
        background: rgba(77, 182, 172, 0.08);
        border-radius: 10px;
      }
      .cl-progress .count {
        font-size: 1.4rem;
        font-weight: 700;
        color: #4db6ac;
      }
      .cl-bar {
        height: 6px;
        background: rgba(255, 255, 255, 0.08);
        border-radius: 3px;
        margin-top: 8px;
        overflow: hidden;
      }
      .cl-bar-fill {
        height: 100%;
        background: #4db6ac;
        border-radius: 3px;
        transition: width 0.3s;
        width: 0%;
      }
      .btn-row {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
        margin-top: 16px;
      }
      .btn-action {
        flex: 1;
        min-width: 120px;
        padding: 10px 16px;
        border-radius: 10px;
        border: none;
        cursor: pointer;
        font-size: 0.85rem;
        transition: all 0.2s;
      }
      .btn-amber {
        background: rgba(255, 180, 50, 0.15);
        border: 1px solid rgba(255, 180, 50, 0.3);
        color: #ffb432;
      }
      .btn-amber:hover { background: rgba(255, 180, 50, 0.3); }
      .btn-danger {
        background: rgba(255, 80, 80, 0.15);
        border: 1px solid rgba(255, 80, 80, 0.3);
        color: #ff6b6b;
      }
      .btn-danger:hover { background: rgba(255, 80, 80, 0.3); }
    </style>
  </head>
  <body>
    <div class="dev-page">
      <a class="btn-back" href="admin.html">â† è¿”å›é–‹ç™¼è€…å·¥å…·</a>
      <h1>âœ… å¤šäººç«¶è³½æ¸¬è©¦ Check List</h1>
      <p class="dev-subtitle">å¤šäººæ¨¡å¼å®Œæ•´æ¸¬è©¦æµç¨‹ï¼Œé€é …ç¢ºèª</p>

      <!-- é€²åº¦æ¢ -->
      <div class="cl-progress">
        <span class="count" id="clDone">0</span> / <span id="clTotal">0</span> é …å®Œæˆ
        <div class="cl-bar"><div class="cl-bar-fill" id="clBar"></div></div>
      </div>

      <!-- ===== 1. äº‹å‰ç’°å¢ƒ ===== -->
      <div class="cl-section">
        <h2>ğŸ”§ 1. äº‹å‰ç’°å¢ƒç¢ºèª</h2>
        <div class="cl-item"><input type="checkbox" id="c1" /><label for="c1">è‡³å°‘æº–å‚™ 2 å°è¨­å‚™ï¼ˆæ‰‹æ©Ÿï¼å¹³æ¿ï¼é›»è…¦çš†å¯æ··ç”¨ï¼‰</label></div>
        <div class="cl-item"><input type="checkbox" id="c2" /><label for="c2">æ‰€æœ‰è¨­å‚™çš†å·²é€£ä¸ŠåŒä¸€å€‹ç©©å®šçš„ Wi-Fi ç¶²è·¯</label></div>
        <div class="cl-item"><input type="checkbox" id="c3" /><label for="c3">é–‹å•ŸéŠæˆ²ç¶²ç«™ï¼Œç¢ºèªé¦–é è¼‰å…¥æ­£å¸¸</label></div>
        <div class="cl-item"><input type="checkbox" id="c4" /><label for="c4">ç¢ºèª Firebase é€£ç·šæ­£å¸¸ï¼ˆç„¡ç´…è‰²éŒ¯èª¤è¨Šæ¯ï¼‰</label></div>
        <div class="cl-item"><input type="checkbox" id="c5" /><label for="c5">ç€è¦½å™¨è¨­ç‚ºå…¨è¢å¹•æ¨¡å¼ï¼ˆé¿å…èª¤è§¸ç¶²å€åˆ—ï¼‰</label></div>
        <div class="cl-item"><input type="checkbox" id="c6" /><label for="c6">éŸ³é‡èª¿è‡³é©ä¸­ï¼ˆéŠæˆ²æœ‰éŸ³æ•ˆå’ŒèªéŸ³æç¤ºï¼‰</label></div>
      </div>

      <!-- ===== 2. å»ºç«‹æˆ¿é–“ ===== -->
      <div class="cl-section">
        <h2>ğŸ  2. å»ºç«‹æˆ¿é–“</h2>
        <div class="cl-item"><input type="checkbox" id="c7" /><label for="c7">ä¸»æŒäººï¼ˆè¨­å‚™ Aï¼‰é€²å…¥ã€Œå¤šäººç«¶è³½ â†’ å»ºç«‹æˆ¿é–“ã€</label></div>
        <div class="cl-item"><input type="checkbox" id="c8" /><label for="c8">è¼¸å…¥æš±ç¨±å¾Œï¼Œç³»çµ±ç”¢ç”Ÿ 4 ä½æ•¸æˆ¿é–“ä»£ç¢¼</label></div>
        <div class="cl-item"><input type="checkbox" id="c9" /><label for="c9">ç¢ºèªæˆ¿é–“ä»£ç¢¼é¡¯ç¤ºæ¸…æ™°ï¼Œå¯å£é ­å‘Šè¨´å…¶ä»–ç©å®¶</label></div>
        <div class="cl-item"><input type="checkbox" id="c10" /><label for="c10">ä¸»æŒäººé€²å…¥ç­‰å€™å®¤ï¼Œç•«é¢é¡¯ç¤ºè‡ªå·±çš„æš±ç¨±</label></div>
      </div>

      <!-- ===== 3. åŠ å…¥æˆ¿é–“ ===== -->
      <div class="cl-section">
        <h2>ğŸšª 3. åŠ å…¥æˆ¿é–“</h2>
        <div class="cl-item"><input type="checkbox" id="c11" /><label for="c11">åƒåŠ è€…ï¼ˆè¨­å‚™ Bï¼‰é€²å…¥ã€Œå¤šäººç«¶è³½ â†’ åŠ å…¥æˆ¿é–“ã€</label></div>
        <div class="cl-item"><input type="checkbox" id="c12" /><label for="c12">è¼¸å…¥æˆ¿é–“ä»£ç¢¼ + æš±ç¨±ï¼ŒæŒ‰ã€ŒåŠ å…¥ã€æˆåŠŸé€²å…¥ç­‰å€™å®¤</label></div>
        <div class="cl-item"><input type="checkbox" id="c13" /><label for="c13">ä¸»æŒäººç•«é¢å³æ™‚é¡¯ç¤ºæ–°åƒåŠ è€…ï¼ˆä¸éœ€åˆ·æ–°ï¼‰</label></div>
        <div class="cl-item"><input type="checkbox" id="c14" /><label for="c14">åƒåŠ è€…ç•«é¢ä¹Ÿèƒ½çœ‹åˆ°æ‰€æœ‰å·²åŠ å…¥çš„ç©å®¶æ¸…å–®</label></div>
        <div class="cl-item"><input type="checkbox" id="c15" /><label for="c15">è¼¸å…¥éŒ¯èª¤ä»£ç¢¼æ™‚ï¼Œç•«é¢æœ‰æ˜ç¢ºéŒ¯èª¤æç¤º</label></div>
      </div>

      <!-- ===== 4. éŠæˆ²è¨­å®šèˆ‡é–‹å§‹ ===== -->
      <div class="cl-section">
        <h2>âš™ï¸ 4. éŠæˆ²è¨­å®šèˆ‡é–‹å§‹</h2>
        <div class="cl-item"><input type="checkbox" id="c16" /><label for="c16">ä¸»æŒäººå¯é¸æ“‡éŠæˆ²é—œå¡ï¼ˆè¦å‰‡é¡å‹ï¼‰</label></div>
        <div class="cl-item"><input type="checkbox" id="c17" /><label for="c17">ä¸»æŒäººæŒ‰ä¸‹ã€Œé–‹å§‹éŠæˆ²ã€æŒ‰éˆ•</label></div>
        <div class="cl-item"><input type="checkbox" id="c18" /><label for="c18">æ‰€æœ‰è¨­å‚™åŒæ™‚é€²å…¥å€’æ•¸è¨ˆæ™‚ç•«é¢</label></div>
        <div class="cl-item"><input type="checkbox" id="c19" /><label for="c19">å€’æ•¸çµæŸå¾Œï¼ŒéŠæˆ²åŒæ­¥é–‹å§‹</label></div>
      </div>

      <!-- ===== 5. éŠæˆ²é€²è¡Œä¸­ ===== -->
      <div class="cl-section">
        <h2>ğŸ® 5. éŠæˆ²é€²è¡Œä¸­</h2>
        <div class="cl-item"><input type="checkbox" id="c20" /><label for="c20">å„è¨­å‚™é¡¯ç¤ºçš„åˆºæ¿€ï¼ˆåœ–ç‰‡ï¼‰æ˜¯å¦æ¸…æ¥šå¯è¾¨</label></div>
        <div class="cl-item"><input type="checkbox" id="c21" /><label for="c21">è§¸æ§ï¼éµç›¤æŒ‰éµå›æ‡‰æ­£å¸¸ï¼Œç„¡å»¶é²æˆ–ç„¡åæ‡‰</label></div>
        <div class="cl-item"><input type="checkbox" id="c22" /><label for="c22">ç­”å°ï¼ç­”éŒ¯æœ‰å°æ‡‰çš„è¦–è¦ºï¼‹éŸ³æ•ˆå›é¥‹</label></div>
        <div class="cl-item"><input type="checkbox" id="c23" /><label for="c23">å³æ™‚æ’åæˆ–å°æ‰‹é€²åº¦æœ‰é¡¯ç¤ºï¼ˆå¦‚æœ‰ï¼‰</label></div>
        <div class="cl-item"><input type="checkbox" id="c24" /><label for="c24">å·¥ä½œè¨˜æ†¶ï¼ˆWMï¼‰é—œå¡çš„è¨˜æ†¶åºåˆ—æ­£ç¢ºå‘ˆç¾</label></div>
        <div class="cl-item"><input type="checkbox" id="c25" /><label for="c25">éŠæˆ²ä¸æœƒå¡ä½æˆ–ç™½å±</label></div>
      </div>

      <!-- ===== 6. çµæœèˆ‡æ’è¡Œ ===== -->
      <div class="cl-section">
        <h2>ğŸ† 6. çµæœèˆ‡æ’è¡Œ</h2>
        <div class="cl-item"><input type="checkbox" id="c26" /><label for="c26">éŠæˆ²çµæŸå¾Œï¼Œå„è¨­å‚™é¡¯ç¤ºçµæœç•«é¢</label></div>
        <div class="cl-item"><input type="checkbox" id="c27" /><label for="c27">çµæœé é¡¯ç¤ºï¼šæ­£ç¢ºç‡ã€åæ‡‰æ™‚é–“ã€å¾—åˆ†</label></div>
        <div class="cl-item"><input type="checkbox" id="c28" /><label for="c28">æ‰€æœ‰ç©å®¶çš„æ’åæ¸…å–®æ­£ç¢ºé¡¯ç¤º</label></div>
        <div class="cl-item"><input type="checkbox" id="c29" /><label for="c29">å¦‚æœ‰ä¸–ç•Œæ’è¡Œæ¦œï¼Œåˆ†æ•¸æœ‰æ­£ç¢ºä¸Šå‚³</label></div>
        <div class="cl-item"><input type="checkbox" id="c30" /><label for="c30">çµæœé å¯æ­£ç¢ºè¿”å›é¦–é æˆ–å†ç©ä¸€æ¬¡</label></div>
      </div>

      <!-- ===== 7. ç•°å¸¸æ¸¬è©¦ ===== -->
      <div class="cl-section">
        <h2>âš ï¸ 7. ç•°å¸¸ç‹€æ³æ¸¬è©¦</h2>
        <div class="cl-item"><input type="checkbox" id="c31" /><label for="c31">éŠæˆ²ä¸­ä¸€å°è¨­å‚™ç¶²è·¯ä¸­æ–· â†’ å¦ä¸€å°ä¸æœƒå¡ä½</label></div>
        <div class="cl-item"><input type="checkbox" id="c32" /><label for="c32">æˆ¿é–“å…§ä¸€äººé›¢é–‹ç€è¦½å™¨ â†’ éŠæˆ²ä»èƒ½ç¹¼çºŒæˆ–æœ‰æç¤º</label></div>
        <div class="cl-item"><input type="checkbox" id="c33" /><label for="c33">é‡æ–°æ•´ç†é é¢å¾Œï¼Œèƒ½å›åˆ°é©ç•¶ç‹€æ…‹ï¼ˆéç™½å±ï¼‰</label></div>
        <div class="cl-item"><input type="checkbox" id="c34" /><label for="c34">æˆ¿é–“ä»£ç¢¼éæœŸæˆ–å·²é–‹å§‹çš„æˆ¿é–“ä¸å¯å†åŠ å…¥</label></div>
        <div class="cl-item"><input type="checkbox" id="c35" /><label for="c35">å…©å°è¨­å‚™ä½¿ç”¨ç›¸åŒæš±ç¨±æ™‚èƒ½æ­£ç¢ºå€åˆ†</label></div>
      </div>

      <!-- ===== 8. æ¸…ç† ===== -->
      <div class="cl-section">
        <h2>ğŸ§¹ 8. æ¸¬è©¦å¾Œæ¸…ç†</h2>
        <div class="cl-item"><input type="checkbox" id="c36" /><label for="c36">å›åˆ°ã€Œé–‹ç™¼è€…å·¥å…·ã€æ¸…é™¤æ¸¬è©¦ç”¨æˆ¿é–“è³‡æ–™</label></div>
        <div class="cl-item"><input type="checkbox" id="c37" /><label for="c37">ç¢ºèªä¸–ç•Œæ’è¡Œæ¦œä¸ä¿ç•™æ¸¬è©¦ç”¨å‡è³‡æ–™</label></div>
        <div class="cl-item"><input type="checkbox" id="c38" /><label for="c38">è¨˜éŒ„æœ¬æ¬¡æ¸¬è©¦ç™¼ç¾çš„å•é¡Œï¼ˆå¦‚æœ‰ï¼‰</label></div>
      </div>

      <!-- å‚™è¨»å€ -->
      <div class="cl-section">
        <h2>ğŸ“ æ¸¬è©¦å‚™è¨»</h2>
        <textarea
          id="clNotes"
          rows="4"
          style="
            width: 100%; box-sizing: border-box; padding: 10px 12px;
            background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.12);
            border-radius: 8px; color: #e0e0e0; font-size: 0.85rem;
            font-family: inherit; outline: none; resize: vertical;
          "
          placeholder="è¨˜éŒ„æœ¬æ¬¡æ¸¬è©¦çš„ä»»ä½•å•é¡Œã€è§€å¯Ÿæˆ–æ”¹å–„å»ºè­°â€¦"
        ></textarea>
      </div>

      <!-- æ“ä½œæŒ‰éˆ• -->
      <div class="btn-row">
        <button class="btn-action btn-amber" onclick="exportChecklist()">ğŸ“„ åŒ¯å‡ºæ¸¬è©¦çµæœ</button>
        <button class="btn-action btn-danger" onclick="resetChecklist()">ğŸ”„ é‡ç½®å…¨éƒ¨</button>
      </div>
    </div>

    <script defer src="../js/shared/navbar.js"></script>
    <script>
    (function () {
      "use strict";

      var STORAGE_KEY = "mp-checklist-state";
      var boxes = document.querySelectorAll('.cl-item input[type="checkbox"]');
      var totalEl = document.getElementById("clTotal");
      var doneEl = document.getElementById("clDone");
      var barEl = document.getElementById("clBar");

      totalEl.textContent = boxes.length;

      // è¼‰å…¥å·²å­˜ç‹€æ…‹
      function loadState() {
        try {
          var saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || "{}");
          boxes.forEach(function (cb) {
            if (saved[cb.id]) {
              cb.checked = true;
              cb.closest(".cl-item").classList.add("checked");
            }
          });
          var notes = localStorage.getItem(STORAGE_KEY + "-notes");
          if (notes) document.getElementById("clNotes").value = notes;
        } catch (_) {}
        updateProgress();
      }

      function saveState() {
        var state = {};
        boxes.forEach(function (cb) { state[cb.id] = cb.checked; });
        localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
        localStorage.setItem(STORAGE_KEY + "-notes", document.getElementById("clNotes").value);
      }

      function updateProgress() {
        var done = 0;
        boxes.forEach(function (cb) { if (cb.checked) done++; });
        doneEl.textContent = done;
        barEl.style.width = (boxes.length ? (done / boxes.length * 100) : 0) + "%";
      }

      boxes.forEach(function (cb) {
        cb.addEventListener("change", function () {
          this.closest(".cl-item").classList.toggle("checked", this.checked);
          updateProgress();
          saveState();
        });
      });

      document.getElementById("clNotes").addEventListener("input", function () {
        saveState();
      });

      // åŒ¯å‡º
      window.exportChecklist = function () {
        var lines = ["å¤šäººç«¶è³½æ¸¬è©¦ Check List", "åŒ¯å‡ºæ™‚é–“ï¼š" + new Date().toLocaleString("zh-TW"), ""];
        document.querySelectorAll(".cl-section").forEach(function (sec) {
          var h2 = sec.querySelector("h2");
          if (h2) lines.push(h2.textContent);
          sec.querySelectorAll(".cl-item").forEach(function (item) {
            var cb = item.querySelector('input[type="checkbox"]');
            var lbl = item.querySelector("label");
            lines.push((cb && cb.checked ? "  âœ… " : "  â¬œ ") + (lbl ? lbl.textContent : ""));
          });
          lines.push("");
        });
        var notes = document.getElementById("clNotes").value.trim();
        if (notes) {
          lines.push("ğŸ“ æ¸¬è©¦å‚™è¨»");
          lines.push(notes);
        }
        var blob = new Blob([lines.join("\n")], { type: "text/plain;charset=utf-8" });
        var a = document.createElement("a");
        a.href = URL.createObjectURL(blob);
        a.download = "å¤šäººç«¶è³½æ¸¬è©¦çµæœ_" + new Date().toISOString().slice(0, 10) + ".txt";
        a.click();
        URL.revokeObjectURL(a.href);
      };

      // é‡ç½®
      window.resetChecklist = function () {
        if (!confirm("ç¢ºå®šè¦é‡ç½®æ‰€æœ‰å‹¾é¸å—ï¼Ÿ")) return;
        boxes.forEach(function (cb) {
          cb.checked = false;
          cb.closest(".cl-item").classList.remove("checked");
        });
        document.getElementById("clNotes").value = "";
        updateProgress();
        localStorage.removeItem(STORAGE_KEY);
        localStorage.removeItem(STORAGE_KEY + "-notes");
      };

      loadState();
    })();
    </script>
  </body>
</html>
