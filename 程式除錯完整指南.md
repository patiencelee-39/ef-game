> âš ï¸ **å·²æ£„ç”¨ï¼ˆDeprecatedï¼‰**  
> æœ¬æ–‡ä»¶å…§å®¹å·²åˆä½µè‡³ [é–‹ç™¼è¦ç¯„èˆ‡å·¥å…·.md â€” Part 2](é–‹ç™¼è¦ç¯„èˆ‡å·¥å…·.md#part-2ç¨‹å¼é™¤éŒ¯æŒ‡å—)ã€‚  
> æ­¤æª”æ¡ˆåƒ…ä½œç‚ºæ­·å²å‚™ä»½ä¿ç•™ï¼Œ**è«‹å‹¿å†ä¿®æ”¹æœ¬æ–‡ä»¶**ã€‚  
> æ£„ç”¨æ—¥æœŸï¼š2026/02/13

---

# ç¨‹å¼é™¤éŒ¯å®Œæ•´æŒ‡å—

> DCCS éŠæˆ²é–‹ç™¼å°ˆç”¨é™¤éŒ¯æ–‡ä»¶
> æœ€å¾Œæ›´æ–°ï¼š2026å¹´2æœˆ13æ—¥

## ç›®éŒ„

1. [ä»€éº¼æ˜¯ã€ŒåŸ‹æ¨ã€é™¤éŒ¯](#ä»€éº¼æ˜¯åŸ‹æ¨é™¤éŒ¯)
2. [Console å®¶æ—æ–¹æ³•](#console-å®¶æ—æ–¹æ³•)
3. [Debugger æ™‚é–“æš«åœå¤§æ³•](#debugger-æ™‚é–“æš«åœå¤§æ³•)
4. [Visual Debugging ç•«é¢é¡¯ç¤º](#visual-debugging-ç•«é¢é¡¯ç¤º)
5. [Network Tab ç¶²è·¯åµæ¢](#network-tab-ç¶²è·¯åµæ¢)
6. [éŒ¯èª¤è™•ç†æ©Ÿåˆ¶](#éŒ¯èª¤è™•ç†æ©Ÿåˆ¶)
7. [è‡ªè¨‚ DEBUG å·¥å…·ç³»çµ±](#è‡ªè¨‚-debug-å·¥å…·ç³»çµ±)
8. [æ•ˆèƒ½ç›£æ§å·¥å…·](#æ•ˆèƒ½ç›£æ§å·¥å…·)
9. [é€²éšé™¤éŒ¯æŠ€å·§](#é€²éšé™¤éŒ¯æŠ€å·§)
10. [VS Code æ•´åˆåµéŒ¯](#vs-code-æ•´åˆåµéŒ¯)
11. [Chrome DevTools é€²éšæ–·é»](#chrome-devtools-é€²éšæ–·é»)
12. [é™¤éŒ¯æ€ç¶­æ–¹æ³•è«–](#é™¤éŒ¯æ€ç¶­æ–¹æ³•è«–) ğŸ†•
13. [é™¤éŒ¯æ–¹æ³•æ¯”è¼ƒè¡¨](#é™¤éŒ¯æ–¹æ³•æ¯”è¼ƒè¡¨)
14. [DCCS éŠæˆ²å°ˆç”¨é™¤éŒ¯ç­–ç•¥](#dccs-éŠæˆ²å°ˆç”¨é™¤éŒ¯ç­–ç•¥)

---

## ä»€éº¼æ˜¯ã€ŒåŸ‹æ¨ã€é™¤éŒ¯

### æ¦‚å¿µèªªæ˜

ã€ŒåŸ‹æ¨ã€å°±åƒåœ¨ç¨‹å¼ç¢¼çš„é—œéµä½ç½®æ’ä¸Šæ——å­ï¼Œç•¶ç¨‹å¼åŸ·è¡Œæ™‚å¯ä»¥è¿½è¹¤ï¼š

- **ç¨‹å¼åŸ·è¡Œåˆ°å“ªè£¡äº†**
- **è®Šæ•¸çš„å€¼æ˜¯ä»€éº¼**
- **æ˜¯å¦ç™¼ç”ŸéŒ¯èª¤**
- **åŸ·è¡ŒèŠ±äº†å¤šå°‘æ™‚é–“**

### ç‚ºä»€éº¼éœ€è¦é™¤éŒ¯

```javascript
// æ²’æœ‰é™¤éŒ¯ï¼šç¨‹å¼å£äº†ï¼Œå®Œå…¨ä¸çŸ¥é“å“ªè£¡æœ‰å•é¡Œ
function calculateScore() {
  let score = playerCards.length * 10;
  return score;
}

// æœ‰é™¤éŒ¯ï¼šå¯ä»¥è¿½è¹¤æ¯ä¸€æ­¥
function calculateScore() {
  console.log("ğŸ” é–‹å§‹è¨ˆç®—åˆ†æ•¸");
  console.log("ç©å®¶å¡ç‰‡æ•¸é‡:", playerCards.length);
  let score = playerCards.length * 10;
  console.log("è¨ˆç®—çµæœ:", score);
  return score;
}
```

[â†‘ å›åˆ°ç›®éŒ„](#ç›®éŒ„)

---

## Console å®¶æ—æ–¹æ³•

### 1. console.log() - åŸºæœ¬è¼¸å‡º

**ç”¨é€”ï¼š** æœ€åŸºæœ¬çš„é™¤éŒ¯æ–¹æ³•ï¼Œè¼¸å‡ºè®Šæ•¸å€¼æˆ–è¨Šæ¯

```javascript
// åŸºæœ¬ç”¨æ³•
console.log("éŠæˆ²é–‹å§‹");
console.log("ç©å®¶åˆ†æ•¸:", playerScore);

// è¼¸å‡ºå¤šå€‹è®Šæ•¸
console.log("ç•¶å‰ç‹€æ…‹:", {
  round: currentRound,
  player: currentPlayer,
  score: playerScore,
});

// ä½¿ç”¨ç¯„æœ¬å­—ä¸²
console.log(`ç¬¬ ${currentRound} å›åˆï¼Œç©å®¶ ${currentPlayer} å¾—åˆ†`);
```

**å„ªé»ï¼š**

- âœ… é›¶å­¸ç¿’æˆæœ¬ï¼Œç«‹å³å¯ç”¨
- âœ… å¿«é€Ÿé©—è­‰è®Šæ•¸å€¼
- âœ… ä¸å½±éŸ¿ç¨‹å¼åŸ·è¡Œ

**ç¼ºé»ï¼š**

- âŒ å¤§é‡ log æœƒè®“ console å¾ˆäº‚
- âŒ æ­£å¼ç’°å¢ƒéœ€è¦æ‰‹å‹•ç§»é™¤
- âŒ æ²’æœ‰é¡è‰²å€åˆ†ï¼Œä¸å¥½è¾¨è­˜

---

### 2. console.error() - éŒ¯èª¤è¨Šæ¯ï¼ˆç´…è‰²ï¼‰

**ç”¨é€”ï¼š** é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ï¼Œä»¥ç´…è‰²æ–‡å­—å‘ˆç¾ï¼Œå¼•èµ·æ³¨æ„

```javascript
// è³‡æ–™é©—è­‰å¤±æ•—
if (!playerId) {
  console.error("âŒ éŒ¯èª¤ï¼šæ‰¾ä¸åˆ°ç©å®¶ ID");
}

// API è«‹æ±‚å¤±æ•—
fetch("/api/scores").catch((error) => {
  console.error("âŒ åˆ†æ•¸è¼‰å…¥å¤±æ•—:", error.message);
});

// Firebase é€£ç·šå•é¡Œ
firebase
  .auth()
  .signInAnonymously()
  .catch((error) => {
    console.error("âŒ Firebase é©—è­‰å¤±æ•—:", {
      code: error.code,
      message: error.message,
    });
  });
```

**æœ€ä½³ä½¿ç”¨æ™‚æ©Ÿï¼š**

- è³‡æ–™é©—è­‰å¤±æ•—
- API è«‹æ±‚éŒ¯èª¤
- æ‰¾ä¸åˆ°å¿…è¦çš„ DOM å…ƒç´ 
- Firebase é€£ç·šå•é¡Œ

---

### 3. console.warn() - è­¦å‘Šè¨Šæ¯ï¼ˆé»ƒè‰²ï¼‰

**ç”¨é€”ï¼š** é¡¯ç¤ºè­¦å‘Šè¨Šæ¯ï¼Œä»¥é»ƒè‰²æ–‡å­—å‘ˆç¾

```javascript
// æ•ˆèƒ½è­¦å‘Š
if (cardDeck.length > 1000) {
  console.warn("âš ï¸ è­¦å‘Šï¼šå¡ç‰‡æ•¸é‡éå¤šï¼Œå¯èƒ½å½±éŸ¿æ•ˆèƒ½");
}

// éæ™‚çš„ API
function oldFunction() {
  console.warn("âš ï¸ æ­¤å‡½å¼å·²éæ™‚ï¼Œè«‹ä½¿ç”¨ newFunction()");
  // ... å‡½å¼å…§å®¹
}

// è³‡æ–™ä¸å®Œæ•´
if (!player.name) {
  console.warn("âš ï¸ ç©å®¶åç¨±æœªè¨­å®šï¼Œå°‡ä½¿ç”¨é è¨­å€¼");
  player.name = "è¨ªå®¢";
}
```

**æœ€ä½³ä½¿ç”¨æ™‚æ©Ÿï¼š**

- æ½›åœ¨çš„æ•ˆèƒ½å•é¡Œ
- ä½¿ç”¨éæ™‚çš„åŠŸèƒ½
- éè‡´å‘½æ€§çš„è³‡æ–™å•é¡Œ

---

### 4. console.table() - è¡¨æ ¼é¡¯ç¤ºï¼ˆğŸ”¥ å¼·åŠ›æ¨è–¦ï¼‰

**ç”¨é€”ï¼š** å°‡é™£åˆ—æˆ–ç‰©ä»¶ä»¥è¡¨æ ¼å½¢å¼é¡¯ç¤ºï¼Œä¸€ç›®ç­ç„¶

```javascript
// é¡¯ç¤ºæ’è¡Œæ¦œè³‡æ–™
const leaderboard = [
  { rank: 1, name: "ç©å®¶A", score: 95 },
  { rank: 2, name: "ç©å®¶B", score: 87 },
  { rank: 3, name: "ç©å®¶C", score: 82 },
];
console.table(leaderboard);

// é¡¯ç¤ºå¡ç‰‡è³‡æ–™
const cardDeck = [
  { id: 1, type: "circle", color: "red" },
  { id: 2, type: "square", color: "blue" },
  { id: 3, type: "triangle", color: "green" },
];
console.table(cardDeck);

// é¡¯ç¤ºç©å®¶ç‹€æ…‹
const players = {
  player1: { score: 45, round: 3 },
  player2: { score: 38, round: 3 },
};
console.table(players);
```

**é¡¯ç¤ºæ•ˆæœï¼š**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”
â”‚ (index) â”‚ rank â”‚  name  â”‚ score â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    0    â”‚  1   â”‚ 'ç©å®¶A' â”‚  95   â”‚
â”‚    1    â”‚  2   â”‚ 'ç©å®¶B' â”‚  87   â”‚
â”‚    2    â”‚  3   â”‚ 'ç©å®¶C' â”‚  82   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æœ€ä½³ä½¿ç”¨æ™‚æ©Ÿï¼š**

- æª¢æŸ¥é™£åˆ—è³‡æ–™çµæ§‹
- æª¢è¦–æ’è¡Œæ¦œè³‡æ–™
- å°æ¯”å¤šç­†è³‡æ–™
- é©—è­‰è³‡æ–™æ ¼å¼

---

### 5. console.group() - ç¾¤çµ„é¡¯ç¤º

**ç”¨é€”ï¼š** å°‡ç›¸é—œçš„ log è¨Šæ¯åˆ†çµ„ï¼Œæ–¹ä¾¿é–±è®€

```javascript
// å¡ç‰‡ç¿»é–‹æµç¨‹
console.group("ğŸƒ å¡ç‰‡ç¿»é–‹æµç¨‹");
console.log("å¡ç‰‡ ID:", cardId);
console.log("å¡ç‰‡é¡å‹:", cardType);
console.log("æ˜¯å¦é…å°æˆåŠŸ:", isMatched);
console.groupEnd();

// å›åˆçµç®—
console.group(`ğŸ“Š ç¬¬ ${round} å›åˆçµç®—`);
console.log("ç©å®¶1åˆ†æ•¸:", player1Score);
console.log("ç©å®¶2åˆ†æ•¸:", player2Score);
console.log("å‹è€…:", winner);
console.groupEnd();

// å¯æŠ˜ç–Šç¾¤çµ„
console.groupCollapsed("ğŸ”§ è©³ç´°é™¤éŒ¯è³‡è¨Š"); // é è¨­æŠ˜ç–Š
console.log("è¨˜æ†¶é«”ä½¿ç”¨:", performance.memory);
console.log("åŸ·è¡Œæ™‚é–“:", executionTime);
console.groupEnd();
```

**æœ€ä½³ä½¿ç”¨æ™‚æ©Ÿï¼š**

- è¤‡é›œçš„å¤šæ­¥é©Ÿæµç¨‹
- ç›¸é—œçš„å¤šå€‹è®Šæ•¸
- è©³ç´°çš„é™¤éŒ¯è³‡è¨Š

---

### 6. console.time() / console.timeEnd() - è¨ˆæ™‚

**ç”¨é€”ï¼š** æ¸¬é‡ç¨‹å¼ç¢¼åŸ·è¡Œæ™‚é–“

```javascript
// æ¸¬é‡å‡½å¼åŸ·è¡Œæ™‚é–“
console.time("å¡ç‰‡æ´—ç‰Œæ™‚é–“");
shuffleCards(cardDeck);
console.timeEnd("å¡ç‰‡æ´—ç‰Œæ™‚é–“");
// è¼¸å‡ºï¼šå¡ç‰‡æ´—ç‰Œæ™‚é–“: 3.245ms

// æ¸¬é‡è³‡æ–™è¼‰å…¥æ™‚é–“
console.time("Firebase è³‡æ–™è¼‰å…¥");
await firebase.database().ref("scores").once("value");
console.timeEnd("Firebase è³‡æ–™è¼‰å…¥");
// è¼¸å‡ºï¼šFirebase è³‡æ–™è¼‰å…¥: 234.567ms

// æ¸¬é‡éŠæˆ²åˆå§‹åŒ–
console.time("éŠæˆ²åˆå§‹åŒ–");
initializeGame();
loadAssets();
setupEventListeners();
console.timeEnd("éŠæˆ²åˆå§‹åŒ–");
```

**æœ€ä½³ä½¿ç”¨æ™‚æ©Ÿï¼š**

- æ•ˆèƒ½å„ªåŒ–
- æ‰¾å‡ºæ…¢é€Ÿå‡½å¼
- æ¯”è¼ƒä¸åŒå¯¦ä½œæ–¹å¼

---

### 7. console.trace() - è¿½è¹¤å‘¼å«å †ç–Š

**ç”¨é€”ï¼š** é¡¯ç¤ºå‡½å¼è¢«å‘¼å«çš„å®Œæ•´è·¯å¾‘

```javascript
function updateScore(newScore) {
  console.trace("updateScore è¢«å‘¼å«");
  playerScore = newScore;
}

// è¼¸å‡ºï¼š
// updateScore è¢«å‘¼å«
//   at updateScore (game.js:123)
//   at handleCardMatch (game.js:89)
//   at checkMatch (game.js:45)
//   at onClick (game.js:12)
```

**æœ€ä½³ä½¿ç”¨æ™‚æ©Ÿï¼š**

- è¿½è¹¤å‡½å¼è¢«èª°å‘¼å«
- æ‰¾å‡ºæ„å¤–çš„å‡½å¼åŸ·è¡Œ
- ç†è§£è¤‡é›œçš„å‘¼å«é—œä¿‚

---

### 8. console.assert() - æ–·è¨€

**ç”¨é€”ï¼š** ç•¶æ¢ä»¶ç‚º false æ™‚æ‰è¼¸å‡ºéŒ¯èª¤

```javascript
// é©—è­‰ç©å®¶æ•¸é‡
console.assert(players.length === 2, "å¿…é ˆæœ‰ 2 ä½ç©å®¶");

// é©—è­‰å›åˆæ•¸
console.assert(currentRound <= totalRounds, "å›åˆæ•¸ä¸èƒ½è¶…éç¸½å›åˆæ•¸");

// é©—è­‰åˆ†æ•¸
console.assert(score >= 0, "åˆ†æ•¸ä¸èƒ½æ˜¯è² æ•¸", { score });
```

**æœ€ä½³ä½¿ç”¨æ™‚æ©Ÿï¼š**

- é–‹ç™¼éšæ®µçš„è³‡æ–™é©—è­‰
- ç¢ºä¿å‰ç½®æ¢ä»¶æ­£ç¢º
- å¿«é€Ÿç™¼ç¾é‚è¼¯éŒ¯èª¤

---

### 9. console.count() - è¨ˆç®—å‘¼å«æ¬¡æ•¸ ğŸ†•

**ç”¨é€”ï¼š** è¨ˆç®—æŸæ®µç¨‹å¼ç¢¼è¢«åŸ·è¡Œäº†å¹¾æ¬¡ï¼Œç‰¹åˆ¥é©åˆè¿½è¹¤ã€Œäº‹ä»¶æ˜¯å¦è¢«é‡è¤‡è§¸ç™¼ã€

```javascript
// è¿½è¹¤æŒ‰éˆ•é»æ“Šæ¬¡æ•¸
function handleCardClick(cardId) {
  console.count("å¡ç‰‡é»æ“Š"); // å¡ç‰‡é»æ“Š: 1, å¡ç‰‡é»æ“Š: 2, ...
  // ...è™•ç†é‚è¼¯
}

// è¿½è¹¤å‡½å¼è¢«å‘¼å«æ¬¡æ•¸
function render() {
  console.count("render å‘¼å«"); // ç™¼ç¾è¢«å‘¼å«å¤ªå¤šæ¬¡ï¼Ÿå¯èƒ½æœ‰æ•ˆèƒ½å•é¡Œ
  // ...æ¸²æŸ“é‚è¼¯
}

// åˆ†åˆ¥è¨ˆç®—ä¸åŒäº‹ä»¶
function handleEvent(type) {
  console.count(type); // ä¾ç…§ type åˆ†é–‹è¨ˆç®—
}
handleEvent("click"); // click: 1
handleEvent("click"); // click: 2
handleEvent("hover"); // hover: 1

// é‡ç½®è¨ˆæ•¸å™¨
console.countReset("å¡ç‰‡é»æ“Š"); // é‡æ–°å¾ 1 é–‹å§‹è¨ˆç®—
```

**æœ€ä½³ä½¿ç”¨æ™‚æ©Ÿï¼š**

- æ‡·ç–‘äº‹ä»¶è¢«é‡è¤‡ç¶å®šæˆ–é‡è¤‡è§¸ç™¼
- ç¢ºèªè¿´åœˆåŸ·è¡Œäº†æ­£ç¢ºçš„æ¬¡æ•¸
- è¿½è¹¤å‡½å¼å‘¼å«é »ç‡ï¼ˆæ•ˆèƒ½åˆ†æï¼‰
- æª¢æŸ¥ `requestAnimationFrame` æˆ– `setInterval` çš„è§¸ç™¼é »ç‡

---

### 10. console.dir() - ç‰©ä»¶å±¬æ€§æª¢è¦– ğŸ†•

**ç”¨é€”ï¼š** ä»¥ç‰©ä»¶çš„æ–¹å¼é¡¯ç¤º DOM å…ƒç´ çš„æ‰€æœ‰å±¬æ€§ï¼Œè€Œéé¡¯ç¤º HTML æ¨™ç±¤

```javascript
const btn = document.getElementById("start-button");

// console.log é¡¯ç¤º HTML çµæ§‹
console.log(btn);
// â†’ <button id="start-button" class="btn-primary">é–‹å§‹éŠæˆ²</button>

// console.dir é¡¯ç¤ºç‰©ä»¶å±¬æ€§
console.dir(btn);
// â†’ button#start-button {
//     id: "start-button",
//     className: "btn-primary",
//     disabled: false,
//     onclick: Æ’(),
//     textContent: "é–‹å§‹éŠæˆ²",
//     style: CSSStyleDeclaration {...},
//     ... å®Œæ•´çš„ DOM å±¬æ€§åˆ—è¡¨
//   }
```

**`console.log` vs `console.dir` å·®ç•°ï¼š**

| ç‰¹æ€§     | `console.log`      | `console.dir`            |
| -------- | ------------------ | ------------------------ |
| DOM å…ƒç´  | é¡¯ç¤º HTML æ¨™ç±¤çµæ§‹ | é¡¯ç¤º JavaScript ç‰©ä»¶å±¬æ€§ |
| ä¸€èˆ¬ç‰©ä»¶ | æ•ˆæœç›¸åŒ           | æ•ˆæœç›¸åŒ                 |
| é©åˆæª¢æŸ¥ | å…ƒç´ çš„è¦–è¦ºçµæ§‹     | å…ƒç´ çš„å±¬æ€§å’Œäº‹ä»¶ç¶å®š     |

**æœ€ä½³ä½¿ç”¨æ™‚æ©Ÿï¼š**

- æª¢æŸ¥ DOM å…ƒç´ ç¶å®šäº†å“ªäº›äº‹ä»¶è™•ç†å™¨
- æŸ¥çœ‹å…ƒç´ çš„ `disabled`ã€`hidden` ç­‰å±¬æ€§å€¼
- ç¢ºèªå…ƒç´ çš„è¨ˆç®—å¾Œæ¨£å¼
- é™¤éŒ¯ã€ŒæŒ‰éˆ•é»ä¸äº†ã€ç­‰ DOM å±¬æ€§å•é¡Œ

---

### 11. è‡ªè¨‚æ¨£å¼çš„ console.log

**ç”¨é€”ï¼š** ä½¿ç”¨ CSS æ¨£å¼è®“ log æ›´é†’ç›®

```javascript
// å½©è‰²æ¨™é¡Œ
console.log(
  "%cğŸ® éŠæˆ²é–‹å§‹ï¼",
  "color: #00ff00; font-size: 24px; font-weight: bold;",
);

// å¤šè‰²è¨Šæ¯
console.log(
  "%cæˆåŠŸ %cç©å®¶å¾—åˆ†: %c95åˆ†",
  "color: green; font-weight: bold",
  "color: black",
  "color: orange; font-size: 16px",
);

// èƒŒæ™¯é¡è‰²
console.log(
  "%c éŒ¯èª¤ %c æ‰¾ä¸åˆ°ç©å®¶è³‡æ–™",
  "background: red; color: white; padding: 2px 5px; border-radius: 3px",
  "color: red; padding-left: 5px",
);

// å¯¦ç”¨çš„é™¤éŒ¯æ¨™è¨˜
const LOG_STYLES = {
  success: "color: #4CAF50; font-weight: bold",
  error: "color: #f44336; font-weight: bold",
  warning: "color: #FF9800; font-weight: bold",
  info: "color: #2196F3; font-weight: bold",
};

console.log("%câœ“ åˆå§‹åŒ–å®Œæˆ", LOG_STYLES.success);
console.log("%câœ— è¼‰å…¥å¤±æ•—", LOG_STYLES.error);
```

[â†‘ å›åˆ°ç›®éŒ„](#ç›®éŒ„)

---

## Debugger æ™‚é–“æš«åœå¤§æ³•

### æ¦‚å¿µèªªæ˜

`debugger` æ˜¯æœ€å¼·å¤§çš„é™¤éŒ¯å·¥å…·ï¼Œå¯ä»¥è®“ç¨‹å¼åŸ·è¡Œã€Œå‡çµã€åœ¨ç‰¹å®šä½ç½®ï¼Œè®“ä½ å¯ä»¥ï¼š

- æª¢æŸ¥æ‰€æœ‰è®Šæ•¸çš„å³æ™‚å€¼
- é€è¡ŒåŸ·è¡Œç¨‹å¼ç¢¼
- è§€å¯Ÿç¨‹å¼åŸ·è¡Œæµç¨‹
- å‹•æ…‹ä¿®æ”¹è®Šæ•¸å€¼é€²è¡Œæ¸¬è©¦

### åŸºæœ¬ä½¿ç”¨æ–¹å¼

```javascript
function handleCardClick(cardId) {
  debugger; // ğŸš¨ ç¨‹å¼æœƒåœ¨é€™è£¡æš«åœ

  const card = findCard(cardId);
  const isMatched = checkMatch(card);
  updateScore(isMatched);
}
```

### ä½¿ç”¨æ­¥é©Ÿ

1. åœ¨ç¨‹å¼ç¢¼ä¸­åŠ å…¥ `debugger;`
2. æ‰“é–‹ç€è¦½å™¨é–‹ç™¼è€…å·¥å…· (F12)
3. é‡æ–°æ•´ç†é é¢æˆ–è§¸ç™¼è©²å‡½å¼
4. ç¨‹å¼æœƒæš«åœåœ¨ `debugger` é‚£ä¸€è¡Œ

### æš«åœå¾Œå¯ä»¥åšä»€éº¼

#### 1. æª¢æŸ¥è®Šæ•¸å€¼

```javascript
function calculateBonus(score, level) {
  debugger; // æš«åœåœ¨é€™è£¡
  // ğŸ‘† æ»‘é¼ ç§»åˆ° score æˆ– level ä¸Šï¼Œæœƒé¡¯ç¤ºç›®å‰çš„å€¼

  let bonus = score * level * 0.1;
  // ğŸ‘† ä¹Ÿå¯ä»¥çœ‹åˆ° bonus çš„è¨ˆç®—çµæœ

  return bonus;
}
```

#### 2. åœ¨ Console ä¸­åŸ·è¡Œç¨‹å¼ç¢¼

```javascript
// æš«åœæ™‚ï¼Œå¯ä»¥åœ¨ Console è¼¸å…¥ï¼š
score; // æŸ¥çœ‹ score çš„å€¼
score = 100; // ä¿®æ”¹ score çš„å€¼
playerCards.length; // æŸ¥çœ‹é™£åˆ—é•·åº¦
console.table(players); // é¡¯ç¤ºæ‰€æœ‰ç©å®¶è³‡æ–™
```

#### 3. é€æ­¥åŸ·è¡Œ (Step Controls)

- **Step Over (F10)**: åŸ·è¡Œä¸‹ä¸€è¡Œï¼ˆä¸é€²å…¥å‡½å¼å…§éƒ¨ï¼‰
- **Step Into (F11)**: åŸ·è¡Œä¸‹ä¸€è¡Œï¼ˆé€²å…¥å‡½å¼å…§éƒ¨ï¼‰
- **Step Out (Shift+F11)**: è·³å‡ºç›®å‰å‡½å¼
- **Continue (F8)**: ç¹¼çºŒåŸ·è¡Œåˆ°ä¸‹ä¸€å€‹ä¸­æ–·é»

```javascript
function gameLoop() {
  debugger; // æš«åœé» 1

  updateTimer(); // æŒ‰ F10 è·³éé€™å€‹å‡½å¼
  checkGameState(); // æŒ‰ F11 é€²å…¥é€™å€‹å‡½å¼å…§éƒ¨çœ‹ç´°ç¯€

  if (isGameOver) {
    endGame(); // æŒ‰ Shift+F11 è·³å‡º gameLoop
  }
}
```

### æ¢ä»¶å¼ä¸­æ–·é»

åªåœ¨ç‰¹å®šæ¢ä»¶ä¸‹æ‰æš«åœ

```javascript
// åªåœ¨åˆ†æ•¸è¶…é 100 æ™‚æš«åœ
function updateScore(newScore) {
  if (newScore > 100) {
    debugger;
  }
  playerScore = newScore;
}

// åªåœ¨éŒ¯èª¤ç™¼ç”Ÿæ™‚æš«åœ
try {
  riskyOperation();
} catch (error) {
  debugger; // åªæœ‰ç™¼ç”ŸéŒ¯èª¤æ‰æœƒæš«åœ
  console.error(error);
}

// åªåœ¨ç‰¹å®šç©å®¶æ™‚æš«åœ
function handlePlayerAction(playerId) {
  if (playerId === "player2") {
    debugger; // åªæª¢æŸ¥ player2 çš„è¡Œç‚º
  }
  // ...
}
```

### Chrome DevTools ä¸­çš„ä¸­æ–·é»

#### 1. è¡Œè™Ÿä¸­æ–·é»

- ç›´æ¥é»æ“Š DevTools ä¸­çš„è¡Œè™Ÿ
- ç¨‹å¼åŸ·è¡Œåˆ°é‚£ä¸€è¡Œæœƒè‡ªå‹•æš«åœ
- ä¸éœ€è¦ä¿®æ”¹ç¨‹å¼ç¢¼

#### 2. æ¢ä»¶ä¸­æ–·é»

```javascript
// å³éµé»æ“Šè¡Œè™Ÿ â†’ "Add conditional breakpoint"
// è¼¸å…¥æ¢ä»¶ï¼šscore > 50
// åªæœ‰ç•¶ score > 50 æ™‚æ‰æœƒæš«åœ
```

#### 3. DOM ä¸­æ–·é»

- å³éµé»æ“Š HTML å…ƒç´ 
- Break on â†’ subtree modifications / attribute modifications / node removal
- ç•¶ DOM è¢«ä¿®æ”¹æ™‚è‡ªå‹•æš«åœ

#### 4. XHR/Fetch ä¸­æ–·é»

- åœ¨ DevTools çš„ Sources é¢æ¿
- XHR/fetch Breakpoints
- ç•¶ç™¼é€ç‰¹å®šçš„ AJAX è«‹æ±‚æ™‚æš«åœ

### å¯¦éš›ç¯„ä¾‹ï¼šé™¤éŒ¯å¡ç‰‡é…å°é‚è¼¯

```javascript
function checkCardMatch(card1, card2) {
  debugger; // ğŸš¨ æš«åœé»ï¼šé–‹å§‹æª¢æŸ¥é…å°

  console.log("æª¢æŸ¥é…å°:", { card1, card2 });

  // æ­¤æ™‚å¯ä»¥ï¼š
  // 1. æŸ¥çœ‹ card1 å’Œ card2 çš„å®Œæ•´å…§å®¹
  // 2. åœ¨ Console è¼¸å…¥ card1.type === card2.type æ¸¬è©¦æ¢ä»¶
  // 3. é€æ­¥åŸ·è¡Œçœ‹æ¯å€‹æ¢ä»¶çš„çµæœ

  const typeMatch = card1.type === card2.type;
  debugger; // ğŸš¨ æš«åœé»ï¼šæª¢æŸ¥é¡å‹é…å°çµæœ

  const colorMatch = card1.color === card2.color;
  debugger; // ğŸš¨ æš«åœé»ï¼šæª¢æŸ¥é¡è‰²é…å°çµæœ

  return typeMatch && colorMatch;
}
```

### æ³¨æ„äº‹é …

**å„ªé»ï¼š**

- âœ… æœ€å¼·å¤§ï¼šå¯ä»¥æª¢æŸ¥æ‰€æœ‰è®Šæ•¸ï¼Œä¸ç”¨äº‹å…ˆåŸ‹ log
- âœ… äº’å‹•å¼ï¼šå¯ä»¥å‹•æ…‹åŸ·è¡Œç¨‹å¼ç¢¼æ¸¬è©¦
- âœ… å®Œæ•´çš„åŸ·è¡Œæµç¨‹æ§åˆ¶

**ç¼ºé»ï¼š**

- âŒ æœƒæš«åœç¨‹å¼åŸ·è¡Œï¼ˆä¸é©åˆè¨ˆæ™‚å™¨ã€å‹•ç•«ï¼‰
- âŒ å­¸ç¿’æ›²ç·šè¼ƒé«˜
- âŒ ç™¼ä½ˆå‰å¿…é ˆç§»é™¤æ‰€æœ‰ `debugger`

**æœ€ä½³ä½¿ç”¨æ™‚æ©Ÿï¼š**

- è¤‡é›œçš„é‚è¼¯åˆ¤æ–·ï¼ˆå¦‚å¡ç‰‡é…å°è¦å‰‡ï¼‰
- ä¸ç¢ºå®šå•é¡Œåœ¨å“ªè£¡æ™‚
- éœ€è¦è¿½è¹¤è®Šæ•¸è®ŠåŒ–éç¨‹
- ç†è§£åˆ¥äººå¯«çš„ç¨‹å¼ç¢¼

[â†‘ å›åˆ°ç›®éŒ„](#ç›®éŒ„)

---

## Visual Debugging ç•«é¢é¡¯ç¤º

### æ¦‚å¿µèªªæ˜

åœ¨éŠæˆ²ç•«é¢ä¸Šç›´æ¥é¡¯ç¤ºé™¤éŒ¯è³‡è¨Šï¼Œä¸éœ€è¦åˆ‡æ›åˆ° Consoleï¼Œç‰¹åˆ¥é©åˆéŠæˆ²é–‹ç™¼ã€‚

### åŸºæœ¬å¯¦ä½œï¼šå»ºç«‹é™¤éŒ¯é¢æ¿

```html
<!-- HTML çµæ§‹ -->
<div id="debug-panel" class="debug-panel">
  <h3>ğŸ› é™¤éŒ¯é¢æ¿</h3>
  <div id="debug-content"></div>
</div>
```

```css
/* CSS æ¨£å¼ */
.debug-panel {
  position: fixed;
  top: 10px;
  right: 10px;
  background: rgba(0, 0, 0, 0.85);
  color: #00ff00;
  padding: 15px;
  font-family: "Courier New", monospace;
  font-size: 12px;
  border-radius: 8px;
  border: 2px solid #00ff00;
  z-index: 99999;
  min-width: 250px;
  max-width: 400px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
}

.debug-panel h3 {
  margin: 0 0 10px 0;
  color: #00ff00;
  font-size: 14px;
  border-bottom: 1px solid #00ff00;
  padding-bottom: 5px;
}

.debug-item {
  display: flex;
  justify-content: space-between;
  margin: 5px 0;
  padding: 3px 0;
}

.debug-label {
  color: #00ffff;
}

.debug-value {
  color: #ffff00;
  font-weight: bold;
}

/* éš±è—é™¤éŒ¯é¢æ¿çš„æ§åˆ¶ */
.debug-panel.hidden {
  display: none;
}
```

### JavaScript å¯¦ä½œ

```javascript
// Visual Debug é¡åˆ¥
class VisualDebugger {
  constructor() {
    this.panel = document.getElementById("debug-panel");
    this.content = document.getElementById("debug-content");
    this.enabled = true; // æ§åˆ¶é–‹é—œ
    this.updateInterval = null;
    this.data = {};
  }

  // åˆå§‹åŒ–
  init() {
    if (!this.panel) {
      this.createPanel();
    }
    this.setupToggleKey(); // è¨­å®šå¿«æ·éµ
  }

  // å‹•æ…‹å»ºç«‹é¢æ¿
  createPanel() {
    const panel = document.createElement("div");
    panel.id = "debug-panel";
    panel.className = "debug-panel";
    panel.innerHTML = `
      <h3>ğŸ› é™¤éŒ¯é¢æ¿ <span style="float:right; cursor:pointer;" onclick="visualDebug.toggle()">âœ•</span></h3>
      <div id="debug-content"></div>
    `;
    document.body.appendChild(panel);
    this.panel = panel;
    this.content = document.getElementById("debug-content");
  }

  // æ›´æ–°å–®ä¸€è³‡æ–™
  set(key, value) {
    this.data[key] = value;
    this.render();
  }

  // æ‰¹æ¬¡æ›´æ–°è³‡æ–™
  update(dataObject) {
    Object.assign(this.data, dataObject);
    this.render();
  }

  // æ¸²æŸ“é¡¯ç¤º
  render() {
    if (!this.enabled || !this.content) return;

    let html = "";
    for (const [key, value] of Object.entries(this.data)) {
      const displayValue = this.formatValue(value);
      html += `
        <div class="debug-item">
          <span class="debug-label">${key}:</span>
          <span class="debug-value">${displayValue}</span>
        </div>
      `;
    }
    this.content.innerHTML = html;
  }

  // æ ¼å¼åŒ–é¡¯ç¤ºå€¼
  formatValue(value) {
    if (typeof value === "object") {
      return JSON.stringify(value);
    }
    return String(value);
  }

  // é–‹å§‹è‡ªå‹•æ›´æ–°
  startAutoUpdate(callback, interval = 100) {
    this.stopAutoUpdate();
    this.updateInterval = setInterval(() => {
      callback();
      this.render();
    }, interval);
  }

  // åœæ­¢è‡ªå‹•æ›´æ–°
  stopAutoUpdate() {
    if (this.updateInterval) {
      clearInterval(this.updateInterval);
      this.updateInterval = null;
    }
  }

  // åˆ‡æ›é¡¯ç¤º/éš±è—
  toggle() {
    this.enabled = !this.enabled;
    if (this.panel) {
      this.panel.classList.toggle("hidden");
    }
  }

  // è¨­å®šå¿«æ·éµï¼ˆæŒ‰ D éµåˆ‡æ›ï¼‰
  setupToggleKey() {
    document.addEventListener("keydown", (e) => {
      if (e.key === "d" || e.key === "D") {
        if (!e.target.matches("input, textarea")) {
          this.toggle();
        }
      }
    });
  }

  // æ¸…é™¤è³‡æ–™
  clear() {
    this.data = {};
    this.render();
  }
}

// å»ºç«‹å…¨åŸŸå¯¦ä¾‹
const visualDebug = new VisualDebugger();
```

### ä½¿ç”¨ç¯„ä¾‹

#### 1. åŸºæœ¬ä½¿ç”¨

```javascript
// åˆå§‹åŒ–
visualDebug.init();

// é¡¯ç¤ºå–®ä¸€è³‡æ–™
visualDebug.set("å›åˆ", currentRound);
visualDebug.set("ç©å®¶", currentPlayer);
visualDebug.set("åˆ†æ•¸", playerScore);

// æ‰¹æ¬¡æ›´æ–°
visualDebug.update({
  å›åˆ: `${currentRound} / ${totalRounds}`,
  ç‹€æ…‹: gameState,
  ç©å®¶1: player1Score,
  ç©å®¶2: player2Score,
  è¨ˆæ™‚å™¨: `${timer}ç§’`,
});
```

#### 2. DCCS éŠæˆ²æ•´åˆ

```javascript
// åœ¨éŠæˆ²åˆå§‹åŒ–æ™‚
function initGame() {
  visualDebug.init();

  // è¨­å®šè‡ªå‹•æ›´æ–°
  visualDebug.startAutoUpdate(() => {
    visualDebug.update({
      éŠæˆ²ç‹€æ…‹: gameState,
      ç•¶å‰å›åˆ: `${currentRound} / ${totalRounds}`,
      ç•¶å‰ç©å®¶: currentPlayer,
      ç©å®¶1åˆ†æ•¸: scores.player1,
      ç©å®¶2åˆ†æ•¸: scores.player2,
      å·²ç¿»å¡ç‰‡: flippedCards.length,
      é…å°æˆåŠŸ: matchedPairs,
      å‰©é¤˜æ™‚é–“: `${remainingTime}ç§’`,
      FPS: Math.round(fps),
    });
  }, 100); // æ¯ 100ms æ›´æ–°ä¸€æ¬¡
}

// åœ¨ç‰¹å®šäº‹ä»¶ä¸­æ›´æ–°
function handleCardFlip(cardId) {
  const card = cards[cardId];
  visualDebug.set("æœ€å¾Œç¿»é–‹", `${card.type}-${card.color}`);

  // è™•ç†å¡ç‰‡é‚è¼¯...
}
```

#### 3. æ•ˆèƒ½ç›£æ§

```javascript
// ç›£æ§ FPS
let lastTime = performance.now();
let fps = 60;

function updateFPS() {
  const now = performance.now();
  const delta = now - lastTime;
  fps = 1000 / delta;
  lastTime = now;

  visualDebug.set("FPS", Math.round(fps));
  visualDebug.set("Frame Time", `${delta.toFixed(2)}ms`);
}

// åœ¨éŠæˆ²å¾ªç’°ä¸­å‘¼å«
function gameLoop() {
  updateFPS();
  // ...å…¶ä»–éŠæˆ²é‚è¼¯
  requestAnimationFrame(gameLoop);
}
```

#### 4. è¨˜æ†¶é«”ç›£æ§

```javascript
// ç›£æ§è¨˜æ†¶é«”ä½¿ç”¨ï¼ˆåƒ… Chromeï¼‰
function updateMemoryInfo() {
  if (performance.memory) {
    const used = (performance.memory.usedJSHeapSize / 1048576).toFixed(2);
    const total = (performance.memory.totalJSHeapSize / 1048576).toFixed(2);

    visualDebug.update({
      è¨˜æ†¶é«”ä½¿ç”¨: `${used} MB`,
      è¨˜æ†¶é«”ç¸½é‡: `${total} MB`,
    });
  }
}

setInterval(updateMemoryInfo, 1000);
```

### é€²éšåŠŸèƒ½

#### 1. åˆ†é¡é¡¯ç¤º

```javascript
class AdvancedVisualDebugger extends VisualDebugger {
  constructor() {
    super();
    this.categories = {};
  }

  // åˆ†é¡è¨­å®šè³‡æ–™
  setCategory(category, key, value) {
    if (!this.categories[category]) {
      this.categories[category] = {};
    }
    this.categories[category][key] = value;
    this.renderCategorized();
  }

  // åˆ†é¡æ¸²æŸ“
  renderCategorized() {
    if (!this.enabled || !this.content) return;

    let html = "";
    for (const [category, data] of Object.entries(this.categories)) {
      html += `<div style="margin-top: 10px; border-top: 1px solid #00ff00; padding-top: 5px;">`;
      html += `<div style="color: #ff00ff; font-weight: bold;">${category}</div>`;

      for (const [key, value] of Object.entries(data)) {
        html += `
          <div class="debug-item">
            <span class="debug-label">${key}:</span>
            <span class="debug-value">${this.formatValue(value)}</span>
          </div>
        `;
      }
      html += `</div>`;
    }
    this.content.innerHTML = html;
  }
}

// ä½¿ç”¨ç¯„ä¾‹
const advDebug = new AdvancedVisualDebugger();
advDebug.init();

advDebug.setCategory("éŠæˆ²ç‹€æ…‹", "å›åˆ", currentRound);
advDebug.setCategory("éŠæˆ²ç‹€æ…‹", "éšæ®µ", gamePhase);
advDebug.setCategory("ç©å®¶è³‡è¨Š", "ç©å®¶1", player1.name);
advDebug.setCategory("ç©å®¶è³‡è¨Š", "åˆ†æ•¸", player1.score);
advDebug.setCategory("æ•ˆèƒ½", "FPS", fps);
```

#### 2. åœ–è¡¨é¡¯ç¤º

```javascript
// ç°¡æ˜“æŠ˜ç·šåœ–ï¼ˆé¡¯ç¤ºåˆ†æ•¸è®ŠåŒ–ï¼‰
class ChartDebugger {
  constructor() {
    this.data = [];
    this.maxPoints = 50;
    this.canvas = null;
  }

  init(containerId) {
    this.canvas = document.createElement("canvas");
    this.canvas.width = 300;
    this.canvas.height = 100;
    this.canvas.style.background = "#000";
    document.getElementById(containerId).appendChild(this.canvas);
    this.ctx = this.canvas.getContext("2d");
  }

  addPoint(value) {
    this.data.push(value);
    if (this.data.length > this.maxPoints) {
      this.data.shift();
    }
    this.render();
  }

  render() {
    const ctx = this.ctx;
    const width = this.canvas.width;
    const height = this.canvas.height;

    ctx.clearRect(0, 0, width, height);

    if (this.data.length < 2) return;

    const max = Math.max(...this.data, 100);
    const step = width / (this.maxPoints - 1);

    ctx.strokeStyle = "#00ff00";
    ctx.lineWidth = 2;
    ctx.beginPath();

    this.data.forEach((value, index) => {
      const x = index * step;
      const y = height - (value / max) * height;

      if (index === 0) {
        ctx.moveTo(x, y);
      } else {
        ctx.lineTo(x, y);
      }
    });

    ctx.stroke();
  }
}
```

### ä½¿ç”¨æ™‚æ©Ÿ

**å„ªé»ï¼š**

- âœ… æœ€é©åˆéŠæˆ²é–‹ç™¼ï¼šçœ¼ç›ä¸ç”¨é›¢é–‹éŠæˆ²ç•«é¢
- âœ… å³æ™‚ç›£æ§ï¼šå¯ä»¥é‚Šç©é‚Šçœ‹æ•¸æ“šè®ŠåŒ–
- âœ… å°éæŠ€è¡“äººå“¡å‹å–„ï¼šæ¸¬è©¦å“¡å¯ä»¥çœ‹æ‡‚
- âœ… éŒ„å½±æ™‚å¯ä»¥è¨˜éŒ„ç‹€æ…‹

**ç¼ºé»ï¼š**

- âŒ éœ€è¦é¡å¤–å¯«é¡¯ç¤ºé‚è¼¯
- âŒ å¯èƒ½é®æ“‹éŠæˆ²ç•«é¢
- âŒ å¤§é‡æ›´æ–°æœƒå½±éŸ¿æ•ˆèƒ½
- âŒ æ­£å¼ç‰ˆéœ€è¦å®Œå…¨ç§»é™¤

**æœ€ä½³ä½¿ç”¨æ™‚æ©Ÿï¼š**

- éŠæˆ²ç‹€æ…‹ç›£æ§ï¼ˆå›åˆã€éšæ®µï¼‰
- ç©å®¶è³‡è¨Šè¿½è¹¤ï¼ˆåˆ†æ•¸ã€é€²åº¦ï¼‰
- æ•ˆèƒ½ç›£æ§ï¼ˆFPSã€è¨˜æ†¶é«”ï¼‰
- å¤šäººé€£ç·šé™¤éŒ¯ï¼ˆåŒæ­¥ç‹€æ…‹ï¼‰
- å±•ç¤ºæˆ–éŒ„å½±æ™‚éœ€è¦é¡¯ç¤ºè³‡è¨Š

[â†‘ å›åˆ°ç›®éŒ„](#ç›®éŒ„)

---

## Network Tab ç¶²è·¯åµæ¢

### æ¦‚å¿µèªªæ˜

Network Tab æ˜¯ç€è¦½å™¨é–‹ç™¼è€…å·¥å…·ä¸­å°ˆé–€ç”¨ä¾†ç›£æ§æ‰€æœ‰ç¶²è·¯è«‹æ±‚çš„é¢æ¿ï¼Œç‰¹åˆ¥é©åˆé™¤éŒ¯ï¼š

- Firebase é€£ç·šå•é¡Œ
- API è«‹æ±‚éŒ¯èª¤
- è³‡æºè¼‰å…¥å¤±æ•—ï¼ˆåœ–ç‰‡ã€éŸ³æ•ˆã€å­—å‹ï¼‰
- CORS è·¨åŸŸå•é¡Œ
- CSP (Content Security Policy) éŒ¯èª¤

### é–‹å•Ÿ Network Tab

1. æŒ‰ F12 é–‹å•Ÿé–‹ç™¼è€…å·¥å…·
2. é»é¸ä¸Šæ–¹çš„ **Network** åˆ†é 
3. é‡æ–°æ•´ç†é é¢ (F5) é–‹å§‹è¨˜éŒ„

### ä»‹é¢èªªæ˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Filter: All / XHR / JS / CSS / Img / Media / Font      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¤
â”‚ Name    â”‚ Status â”‚ Type   â”‚ Size â”‚ Time â”‚ ...    â”‚     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤
â”‚ index.html â”‚ 200 â”‚ documentâ”‚ 5KB  â”‚ 123msâ”‚        â”‚  âœ“ â”‚
â”‚ style.css  â”‚ 200 â”‚ css     â”‚ 2KB  â”‚ 45ms â”‚        â”‚  âœ“ â”‚
â”‚ game.js    â”‚ 200 â”‚ script  â”‚ 15KB â”‚ 67ms â”‚        â”‚  âœ“ â”‚
â”‚ card.png   â”‚ 404 â”‚ image   â”‚ -    â”‚ -    â”‚        â”‚  âœ— â”‚
â”‚ api/score  â”‚ 500 â”‚ xhr     â”‚ -    â”‚ -    â”‚        â”‚  âœ— â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜
```

### ç‹€æ…‹ç¢¼èªªæ˜

| ç‹€æ…‹ç¢¼   | æ„ç¾©          | å¸¸è¦‹åŸå›              |
| -------- | ------------- | -------------------- |
| **200**  | âœ… æˆåŠŸ       | è«‹æ±‚æˆåŠŸï¼Œä¸€åˆ‡æ­£å¸¸   |
| **304**  | âœ… æœªä¿®æ”¹     | ä½¿ç”¨å¿«å–ç‰ˆæœ¬ï¼ˆæ­£å¸¸ï¼‰ |
| **400**  | âŒ éŒ¯èª¤è«‹æ±‚   | å‚³é€çš„è³‡æ–™æ ¼å¼éŒ¯èª¤   |
| **401**  | âŒ æœªæˆæ¬Š     | éœ€è¦ç™»å…¥æˆ–æ¬Šé™ä¸è¶³   |
| **403**  | âŒ ç¦æ­¢è¨ªå•   | Firebase è¦å‰‡é˜»æ“‹    |
| **404**  | âŒ æ‰¾ä¸åˆ°     | æª”æ¡ˆè·¯å¾‘éŒ¯èª¤         |
| **500**  | âŒ ä¼ºæœå™¨éŒ¯èª¤ | å¾Œç«¯ç¨‹å¼å‡ºéŒ¯         |
| **CORS** | âŒ è·¨åŸŸéŒ¯èª¤   | è·¨åŸŸè³‡æºåˆ†äº«è¢«é˜»æ“‹   |

### ä½¿ç”¨æ–¹æ³•

#### 1. æª¢æŸ¥è¼‰å…¥å¤±æ•—çš„è³‡æº

```javascript
// å‡è¨­ç¨‹å¼ç¢¼
const img = new Image();
img.src = "/images/card.png"; // è·¯å¾‘éŒ¯èª¤

// Network Tab æœƒé¡¯ç¤ºï¼š
// âŒ GET /images/card.png â†’ 404 (Not Found)

// è§£æ±ºæ–¹æ³•ï¼šæª¢æŸ¥æª”æ¡ˆè·¯å¾‘æ˜¯å¦æ­£ç¢º
```

**æª¢æŸ¥æ­¥é©Ÿï¼š**

1. æ‰¾åˆ°ç´…è‰²çš„å¤±æ•—è«‹æ±‚
2. é»æ“Šè©²è«‹æ±‚æŸ¥çœ‹è©³ç´°è³‡è¨Š
3. æŸ¥çœ‹ **Headers** åˆ†é çš„ Request URL
4. ç¢ºèªè·¯å¾‘æ˜¯å¦æ­£ç¢º

#### 2. Firebase é€£ç·šå•é¡Œ

```javascript
// é€£æ¥ Firebase
firebase
  .database()
  .ref("scores")
  .once("value")
  .catch((error) => console.error(error));

// Network Tab æª¢æŸ¥ï¼š
// 1. æ‰¾åˆ° Firebase çš„ API è«‹æ±‚ (é¡ä¼¼ firebaseio.com)
// 2. æª¢æŸ¥ç‹€æ…‹ç¢¼
//    - 403: è³‡æ–™åº«è¦å‰‡é˜»æ“‹ â†’ æª¢æŸ¥ database.rules.json
//    - 401: æœªæˆæ¬Š â†’ éœ€è¦å…ˆç™»å…¥
//    - ç¶²è·¯éŒ¯èª¤: æª¢æŸ¥ firebase-config.js è¨­å®š
```

**Firebase å¸¸è¦‹éŒ¯èª¤ï¼š**

| éŒ¯èª¤è¨Šæ¯          | åŸå›                          | è§£æ±ºæ–¹æ³•                 |
| ----------------- | ---------------------------- | ------------------------ |
| PERMISSION_DENIED | è³‡æ–™åº«è¦å‰‡é˜»æ“‹               | ä¿®æ”¹ database.rules.json |
| INVALID_ORIGIN    | CSP è¨­å®šå•é¡Œ                 | æª¢æŸ¥ meta CSP æ¨™ç±¤       |
| Network Error     | ç¶²è·¯æ–·ç·šæˆ– Firebase è¨­å®šéŒ¯èª¤ | æª¢æŸ¥ç¶²è·¯å’Œ config        |

#### 3. æª¢æŸ¥ API è«‹æ±‚èˆ‡å›æ‡‰

```javascript
// ç™¼é€ API è«‹æ±‚
fetch("/api/leaderboard")
  .then((res) => res.json())
  .then((data) => console.log(data));

// Network Tab ä¸­ï¼š
// 1. é»æ“Š /api/leaderboard è«‹æ±‚
// 2. æŸ¥çœ‹åˆ†é è³‡è¨Šï¼š
```

**Headers åˆ†é ï¼š**

```
Request URL: https://example.com/api/leaderboard
Request Method: GET
Status Code: 200 OK
```

**Response åˆ†é ï¼š**

```json
{
  "success": true,
  "data": [
    { "name": "ç©å®¶A", "score": 95 },
    { "name": "ç©å®¶B", "score": 87 }
  ]
}
```

**Timing åˆ†é ï¼š**

```
DNS Lookup: 5ms
Initial Connection: 12ms
SSL: 45ms
Request Sent: 1ms
Waiting (TTFB): 234ms  â† ä¼ºæœå™¨å›æ‡‰æ™‚é–“
Content Download: 8ms
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Total: 305ms
```

#### 4. CORS è·¨åŸŸå•é¡Œ

```javascript
// å˜—è©¦å¾å…¶ä»–ç¶²åŸŸè¼‰å…¥è³‡æ–™
fetch("https://api.example.com/data").catch((error) => console.error(error));

// Network Tab é¡¯ç¤ºï¼š
// âŒ CORS policy: No 'Access-Control-Allow-Origin' header

// è©³ç´°éŒ¯èª¤è¨Šæ¯ï¼š
// Access to fetch at 'https://api.example.com/data' from origin
// 'http://localhost:5000' has been blocked by CORS policy
```

**è§£æ±ºæ–¹æ³•ï¼š**

1. å¾Œç«¯åŠ ä¸Š CORS æ¨™é ­
2. ä½¿ç”¨ä»£ç†ä¼ºæœå™¨
3. ä½¿ç”¨ JSONPï¼ˆèˆŠæ–¹æ³•ï¼‰

#### 5. CSP (Content Security Policy) å•é¡Œ

```html
<!-- HTML ä¸­çš„ CSP è¨­å®š -->
<meta http-equiv="Content-Security-Policy" content="default-src 'self'" />
```

```javascript
// å˜—è©¦è¼‰å…¥å¤–éƒ¨è³‡æº
const script = document.createElement("script");
script.src = "https://cdn.example.com/library.js";
document.head.appendChild(script);

// Network Tab é¡¯ç¤ºï¼š
// âŒ Refused to load the script because it violates the following
//    Content Security Policy directive: "default-src 'self'"
```

**æª¢æŸ¥æ­¥é©Ÿï¼š**

1. æ‰¾åˆ°è¢«é˜»æ“‹çš„è«‹æ±‚ï¼ˆæœƒé¡¯ç¤º CSP éŒ¯èª¤ï¼‰
2. æŸ¥çœ‹ Console é¢æ¿çš„è©³ç´°éŒ¯èª¤è¨Šæ¯
3. ä¿®æ”¹ HTML ä¸­çš„ CSP meta æ¨™ç±¤ï¼ŒåŠ å…¥å…è¨±çš„ä¾†æº

```html
<!-- ä¿®æ­£å¾Œçš„ CSP -->
<meta
  http-equiv="Content-Security-Policy"
  content="default-src 'self'; 
               script-src 'self' https://cdn.example.com;
               style-src 'self' 'unsafe-inline';"
/>
```

#### 6. æª¢æŸ¥éŸ³æ•ˆ/åœ–ç‰‡è¼‰å…¥

```javascript
// è¼‰å…¥éŸ³æ•ˆæª”æ¡ˆ
const audio = new Audio("/audio/bgm/game-music.mp3");
audio.play();

// Network Tab æª¢æŸ¥ï¼š
// 1. Filter é¸æ“‡ "Media"
// 2. æŸ¥çœ‹éŸ³æ•ˆæª”æ¡ˆæ˜¯å¦æˆåŠŸè¼‰å…¥
//    - 200: æˆåŠŸ
//    - 404: æª”æ¡ˆè·¯å¾‘éŒ¯èª¤
//    - éƒ¨åˆ†è¼‰å…¥: æª”æ¡ˆæå£æˆ–æ ¼å¼ä¸æ”¯æ´
```

### é€²éšæŠ€å·§

#### 1. ä¿ç•™ Log (Preserve Log)

```
åœ¨ Network Tab ä¸­å‹¾é¸ "Preserve log"
â†’ é é¢é‡æ–°è¼‰å…¥æˆ–è·³è½‰å¾Œï¼Œä»ä¿ç•™ä¹‹å‰çš„è«‹æ±‚è¨˜éŒ„
â†’ é©åˆé™¤éŒ¯é é¢è·³è½‰å•é¡Œ
```

#### 2. åœç”¨å¿«å– (Disable Cache)

```
å‹¾é¸ "Disable cache"
â†’ æ¯æ¬¡éƒ½é‡æ–°è¼‰å…¥è³‡æºï¼Œä¸ä½¿ç”¨ç€è¦½å™¨å¿«å–
â†’ é©åˆæ¸¬è©¦è³‡æºæ›´æ–°
```

#### 3. æ¨¡æ“¬æ…¢é€Ÿç¶²è·¯ (Throttling)

```
Network é¢æ¿ä¸Šæ–¹é¸æ“‡ç¶²è·¯é€Ÿåº¦ï¼š
- Online: æ­£å¸¸ç¶²é€Ÿ
- Fast 3G: å¿«é€Ÿ 3G
- Slow 3G: æ…¢é€Ÿ 3G
- Offline: é›¢ç·š

â†’ æ¸¬è©¦åœ¨æ…¢é€Ÿç¶²è·¯ä¸‹çš„ä½¿ç”¨é«”é©—
```

#### 4. è¤‡è£½è«‹æ±‚ç‚ºç¨‹å¼ç¢¼

```
å³éµé»æ“Šè«‹æ±‚ â†’ Copy â†’ Copy as fetch

// æœƒè¤‡è£½æˆï¼š
fetch("https://api.example.com/data", {
  "headers": {
    "accept": "application/json",
  },
  "method": "GET"
});

// å¯ä»¥ç›´æ¥åœ¨ Console ä¸­æ¸¬è©¦
```

#### 5. é‡é€è«‹æ±‚ (Replay XHR)

```
å³éµé»æ“Š XHR/Fetch è«‹æ±‚ â†’ Replay XHR
â†’ é‡æ–°ç™¼é€åŒæ¨£çš„è«‹æ±‚ï¼Œä¸ç”¨é‡æ–°æ•´ç†é é¢
```

### DCCS éŠæˆ²å°ˆç”¨æª¢æŸ¥æ¸…å–®

#### å•Ÿå‹•éŠæˆ²æ™‚æª¢æŸ¥ï¼š

```
âœ“ Firebase SDK è¼‰å…¥ (firebasejs.com)
âœ“ Firebase Config åˆå§‹åŒ–
âœ“ å¡ç‰‡åœ–ç‰‡è¼‰å…¥ (200 OK)
âœ“ éŸ³æ•ˆæª”æ¡ˆè¼‰å…¥ (200 OK)
âœ“ å­—å‹æª”æ¡ˆè¼‰å…¥ (200 OK)
```

#### éŠæˆ²é€²è¡Œä¸­æª¢æŸ¥ï¼š

```
âœ“ åˆ†æ•¸å„²å­˜è«‹æ±‚ (Firebase Realtime Database)
âœ“ æ’è¡Œæ¦œè®€å–è«‹æ±‚
âœ“ å¤šäººé€£ç·šåŒæ­¥è«‹æ±‚
âœ“ æ²’æœ‰ 4xx æˆ– 5xx éŒ¯èª¤
```

#### å¸¸è¦‹å•é¡Œé™¤éŒ¯æµç¨‹ï¼š

```
å•é¡Œï¼šèªéŸ³ç„¡æ³•æ’­æ”¾
â†’ Network Tab æœå°‹ .mp3 æˆ– .wav
â†’ æª¢æŸ¥ç‹€æ…‹ç¢¼æ˜¯å¦ 200
â†’ æª¢æŸ¥æª”æ¡ˆå¤§å°æ˜¯å¦æ­£ç¢º
â†’ é»æ“Šè«‹æ±‚ï¼ŒPreview åˆ†é å¯ä»¥è©¦è½

å•é¡Œï¼šFirebase é€£ç·šå¤±æ•—
â†’ Network Tab æœå°‹ firebaseio.com
â†’ æª¢æŸ¥ç‹€æ…‹ç¢¼
â†’ 403: æª¢æŸ¥ database.rules.json
â†’ 401: æª¢æŸ¥ä½¿ç”¨è€…æ˜¯å¦å·²ç™»å…¥
â†’ Headers åˆ†é æŸ¥çœ‹éŒ¯èª¤è©³æƒ…

å•é¡Œï¼šå¡ç‰‡åœ–ç‰‡ç„¡æ³•é¡¯ç¤º
â†’ Network Tab æœå°‹ .png æˆ– .jpg
â†’ æª¢æŸ¥æ˜¯å¦ 404 Not Found
â†’ ç¢ºèªåœ–ç‰‡è·¯å¾‘æ˜¯å¦æ­£ç¢º
â†’ æª¢æŸ¥æª”æ¡ˆåç¨±å¤§å°å¯«
```

### ä½¿ç”¨æ™‚æ©Ÿ

**å„ªé»ï¼š**

- âœ… å°ˆé–€è§£æ±ºç¶²è·¯ç›¸é—œå•é¡Œ
- âœ… å¯ä»¥çœ‹åˆ°å®Œæ•´çš„è«‹æ±‚/å›æ‡‰å…§å®¹
- âœ… å¯ä»¥æ¸¬è©¦ä¸åŒç¶²è·¯é€Ÿåº¦
- âœ… å¯ä»¥æ‰¾å‡ºæ•ˆèƒ½ç“¶é ¸

**ç¼ºé»ï¼š**

- âŒ åªèƒ½æª¢æŸ¥ç¶²è·¯è«‹æ±‚
- âŒ ç„¡æ³•æª¢æŸ¥ç¨‹å¼é‚è¼¯éŒ¯èª¤
- âŒ éœ€è¦äº†è§£ HTTP å”å®š

**æœ€ä½³ä½¿ç”¨æ™‚æ©Ÿï¼š**

- Firebase é€£ç·šå•é¡Œ
- è³‡æºè¼‰å…¥å¤±æ•—
- API è«‹æ±‚éŒ¯èª¤
- CORS/CSP å•é¡Œ
- æ•ˆèƒ½å„ªåŒ–ï¼ˆæ‰¾å‡ºæ…¢é€Ÿè«‹æ±‚ï¼‰

[â†‘ å›åˆ°ç›®éŒ„](#ç›®éŒ„)

---

## Elements Tab â€” CSS / æ¨£å¼é™¤éŒ¯ ğŸ†•

### æ¦‚å¿µèªªæ˜

Elements é¢æ¿æ˜¯é™¤éŒ¯ CSSã€ä½ˆå±€ã€ä¸»é¡Œåˆ‡æ›çš„æ ¸å¿ƒå·¥å…·ã€‚åœ¨æœ¬å°ˆæ¡ˆä¸­ï¼ŒCSS è®Šæ•¸é©…å‹•æ•´å€‹é…è‰²ç³»çµ±ï¼Œ`data-theme` æ§åˆ¶ä¸»é¡Œåˆ‡æ›ï¼Œå‹•ç•«å›é¥‹å½±éŸ¿éŠæˆ²é«”é©—â€”â€”é€™äº›éƒ½éœ€è¦ Elements é¢æ¿ä¾†é™¤éŒ¯ã€‚

### é–‹å•Ÿæ–¹å¼

```
1. F12 â†’ é»é¸ Elements åˆ†é 
2. æˆ–ç›´æ¥ Ctrl/Cmd + Shift + Cï¼ˆæª¢æŸ¥å…ƒç´ æ¨¡å¼ï¼‰
3. é»é¸ç•«é¢ä¸Šçš„ä»»ä½•å…ƒç´ ï¼Œå³å´æœƒé¡¯ç¤ºè©²å…ƒç´ çš„æ¨£å¼
```

### Styles é¢æ¿ï¼šæª¢æŸ¥èˆ‡ä¿®æ”¹æ¨£å¼

```
å³å´ Styles åˆ†é çš„çµæ§‹ï¼ˆç”±ä¸Šåˆ°ä¸‹ï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ element.style { }              â”‚ â† è¡Œå…§æ¨£å¼
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ .correct-feedback {            â”‚ â† åŒ¹é…çš„ CSS è¦å‰‡
â”‚   animation: pulse-green 0.6s; â”‚   (å¯å³æ™‚ä¿®æ”¹æ¸¬è©¦)
â”‚ }                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [data-theme="field-primary"] { â”‚ â† ä¸»é¡Œ CSS è®Šæ•¸
â”‚   --primary-blue: #4A90D9;     â”‚
â”‚ }                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ :root {                        â”‚ â† åŸºç¤ CSS è®Šæ•¸
â”‚   --bg-dark: #1a2332;          â”‚
â”‚ }                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å³æ™‚ä¿®æ”¹æ¸¬è©¦**ï¼šç›´æ¥åœ¨ Styles é¢æ¿é»æ“Šå€¼å°±èƒ½ä¿®æ”¹ï¼Œä¸éœ€è¦æ”¹ç¨‹å¼ç¢¼ã€‚

### CSS Custom Properties é™¤éŒ¯

æœ¬å°ˆæ¡ˆå¤§é‡ä½¿ç”¨ CSS è®Šæ•¸ï¼ˆ`--bg-dark`ã€`--primary-blue` ç­‰ï¼‰ã€‚è¿½è¹¤è®Šæ•¸å€¼ä¾†æºï¼š

```
æ­¥é©Ÿï¼š
1. é¸å–ç›®æ¨™å…ƒç´ 
2. åœ¨ Styles é¢æ¿ä¸­æ‰¾åˆ°ä½¿ç”¨ var() çš„å±¬æ€§
3. æ»‘é¼ ç§»åˆ° var(--variable) ä¸Š â†’ é¡¯ç¤ºã€Œè¨ˆç®—å¾Œçš„å€¼ã€
4. åœ¨ Computed åˆ†é å¯ä»¥çœ‹åˆ°æœ€çµ‚å¥—ç”¨çš„å€¼
5. å¦‚æœå€¼ä¸å°ï¼Œå¾€ä¸Šè¿½æº¯æ˜¯å“ªå€‹ CSS è¦å‰‡è¦†å¯«äº†

å¸¸è¦‹å•é¡Œï¼š
- ä¸»é¡Œè‰²æ²’è®Š â†’ æª¢æŸ¥ data-theme å±¬æ€§æ˜¯å¦æ­£ç¢ºåˆ‡æ›
- é¡è‰²ä¸å° â†’ è¿½è¹¤ var() çš„è§£æéˆï¼ˆåŸºç¤è‰² vs ä¸»é¡Œè‰²è¦†å¯«ï¼‰
```

**å¿«é€Ÿæª¢æŸ¥ data-theme**ï¼š

```javascript
// åœ¨ Console ä¸­æª¢æŸ¥ç›®å‰ä¸»é¡Œ
document.documentElement.getAttribute("data-theme");

// å³æ™‚åˆ‡æ›ä¸»é¡Œæ¸¬è©¦
document.documentElement.setAttribute("data-theme", "rule-independent");
```

### Force Element Stateï¼ˆå¼·åˆ¶ç‹€æ…‹ï¼‰

æª¢æŸ¥ `:hover`ã€`:active`ã€`:focus` æ¨£å¼æ˜¯å¦æ­£ç¢ºï¼š

```
æ­¥é©Ÿï¼š
1. é¸å–ç›®æ¨™å…ƒç´ 
2. Styles é¢æ¿ä¸Šæ–¹ï¼Œé»æ“Š :hov æŒ‰éˆ•
3. å‹¾é¸ :hoverã€:activeã€:focus ç­‰
4. å…ƒç´ æœƒä¿æŒåœ¨è©²ç‹€æ…‹ï¼Œæ–¹ä¾¿æª¢æŸ¥æ¨£å¼
```

**é©ç”¨å ´æ™¯**ï¼š

- æŒ‰éˆ• hover é¡è‰²ä¸å°
- æ¢ç´¢é» active ç‹€æ…‹æ¨£å¼å•é¡Œ
- è¼¸å…¥æ¡† focus å¤–æ¡†ä¸æ˜é¡¯

### Chrome Animation é¢æ¿

é™¤éŒ¯ `pulse-green`ã€`shake-red` ç­‰å‹•ç•«æ•ˆæœï¼š

```
æ­¥é©Ÿï¼š
1. F12 â†’ é»æ“Šå³ä¸Šè§’ â‹® â†’ More tools â†’ Animations
2. è§¸ç™¼å‹•ç•«ï¼ˆä¾‹å¦‚ç­”å°/ç­”éŒ¯ï¼‰
3. Animation é¢æ¿æœƒéŒ„è£½å‹•ç•«
4. å¯ä»¥ï¼š
   - èª¿æ•´æ’­æ”¾é€Ÿåº¦ï¼ˆ25% / 50% / 100%ï¼‰
   - æš«åœåœ¨ä»»æ„æ™‚é–“é»
   - æŸ¥çœ‹ timing function æ›²ç·š
   - ä¿®æ”¹ duration æ¸¬è©¦æ•ˆæœ
```

### Layout Inspectorï¼ˆFlexbox / Gridï¼‰

ç¢ºèªéŠæˆ²ä»‹é¢çš„ä½ˆå±€æ˜¯å¦æ­£ç¢ºï¼š

```
æ­¥é©Ÿï¼š
1. é¸å–ä½¿ç”¨ flex æˆ– grid çš„å®¹å™¨å…ƒç´ 
2. Layout åˆ†é ä¸­æœƒå‡ºç¾ Flexbox/Grid åœ–ç¤º
3. é»æ“Šå¯ä»¥é¡¯ç¤ºä½ˆå±€è¼”åŠ©ç·š
4. è¦–è¦ºåŒ–æª¢æŸ¥å°é½Šã€é–“è·ã€æ’åˆ—æ–¹å‘
```

### éŠæˆ²å°ˆç”¨ CSS é™¤éŒ¯é€ŸæŸ¥

| å•é¡Œ           | é™¤éŒ¯æ­¥é©Ÿ                                                    |
| -------------- | ----------------------------------------------------------- |
| ä¸»é¡Œè‰²æ²’æœ‰åˆ‡æ› | Console: `document.documentElement.dataset.theme` â†’ ç¢ºèªå€¼  |
| CSS è®Šæ•¸å€¼ä¸å° | Elements â†’ Computed â†’ æœå°‹è®Šæ•¸å â†’ è¿½æº¯è¦†å¯«éˆ               |
| å‹•ç•«ä¸æ’­æ”¾     | Elements â†’ Styles â†’ ç¢ºèª `animation` å±¬æ€§ â†’ Animations é¢æ¿ |
| æŒ‰éˆ•æ¨£å¼ç•°å¸¸   | Force State (`:hover` / `:active`) â†’ æª¢æŸ¥å„ªå…ˆç´šè¦†è“‹         |
| å¹³æ¿ä½ˆå±€è·‘æ‰   | Device Mode â†’ åˆ‡æ›è£ç½® â†’ Layout Inspector æª¢æŸ¥ flex         |
| è§¸æ§å€åŸŸå¤ªå°   | Elements â†’ è¨ˆç®— width/height â†’ éœ€ â‰¥ 48Ã—48px                 |

[â†‘ å›åˆ°ç›®éŒ„](#ç›®éŒ„)

---

## Application Tab â€” å„²å­˜ç©ºé–“é™¤éŒ¯ ğŸ†•

### æ¦‚å¿µèªªæ˜

Application Tab æ˜¯æª¢è¦–èˆ‡ç®¡ç†ç€è¦½å™¨å„²å­˜ç©ºé–“çš„å·¥å…·ã€‚æœ¬å°ˆæ¡ˆçš„å–®äººæ¨¡å¼ä»¥ localStorage ç‚ºæ ¸å¿ƒå„²å­˜å±¤ï¼ˆ`playerProfile`ã€`adventureProgress`ã€`classData`ï¼‰ï¼Œæ‰€æœ‰é€²åº¦å’Œè¨­å®šéƒ½å­˜åœ¨é€™è£¡ã€‚

### é–‹å•Ÿæ–¹å¼

```
F12 â†’ é»é¸ Application åˆ†é 
å·¦å´é¢æ¿ï¼š
â”œâ”€â”€ Storage
â”‚   â”œâ”€â”€ Local Storage     â† ä¸»è¦ä½¿ç”¨
â”‚   â”œâ”€â”€ Session Storage
â”‚   â”œâ”€â”€ IndexedDB
â”‚   â””â”€â”€ Cookies
â”œâ”€â”€ Cache
â”‚   â””â”€â”€ Cache Storage
â””â”€â”€ Background Services
```

### æª¢è¦– localStorage

```
æ­¥é©Ÿï¼š
1. å±•é–‹ Local Storage â†’ é»æ“Šä½ çš„ç¶²ç«™åŸŸå
2. å³å´æœƒé¡¯ç¤ºæ‰€æœ‰ key-value å°
3. é»æ“ŠæŸå€‹ key å¯ä»¥æŸ¥çœ‹/ç·¨è¼¯å€¼

å°æŠ€å·§ï¼š
- ä¸Šæ–¹æœ‰æœå°‹æ¡†ï¼Œå¯ä»¥æœå°‹ key åç¨±
- é›™æ“Š value å¯ä»¥ç›´æ¥ç·¨è¼¯
- å³éµ â†’ Delete å¯ä»¥åˆªé™¤å–®ä¸€ key
- å³éµ â†’ Clear å¯ä»¥æ¸…é™¤æ‰€æœ‰ localStorage
```

### å°ˆæ¡ˆå¸¸ç”¨ Key é€ŸæŸ¥

| Key                 | ç”¨é€”           | æª¢æŸ¥é‡é»                                                   |
| ------------------- | -------------- | ---------------------------------------------------------- |
| `playerProfile`     | ç©å®¶èº«ä»½èˆ‡åå¥½ | `nickname`ã€`level`ã€`badges`ã€`soundSettings`             |
| `adventureProgress` | æ¢éšªåœ°åœ–é€²åº¦   | `currentMapIndex`ã€`currentPointIndex`ã€`fieldRuleRecords` |
| `classData`         | ç­ç´šæ’è¡Œè³‡æ–™   | CSV è³‡æ–™å®Œæ•´æ€§                                             |
| `storageVersion`    | çµæ§‹ç‰ˆæœ¬è™Ÿ     | é·ç§»æ˜¯å¦æˆåŠŸ                                               |

### JSON æ ¼å¼åŒ–æª¢è¦–

localStorage å­˜çš„æ˜¯ JSON å­—ä¸²ï¼Œç›´æ¥çœ‹å¾ˆé›£è®€ã€‚åœ¨ Console ä¸­æ ¼å¼åŒ–ï¼š

```javascript
// æ ¼å¼åŒ–æª¢è¦– playerProfile
console.table(JSON.parse(localStorage.getItem("playerProfile")));

// æ ¼å¼åŒ–æª¢è¦– adventureProgress
const progress = JSON.parse(localStorage.getItem("adventureProgress"));
console.log("ç•¶å‰åœ°åœ–:", progress.currentMapIndex);
console.log("ç•¶å‰æ¢ç´¢é»:", progress.currentPointIndex);
console.log("è‡ªç”±é¸æ“‡è§£é–:", progress.freeChoiceUnlocked);
console.table(progress.fieldRuleRecords);

// æª¢æŸ¥ç‰¹å®šæ¢ç´¢é»
console.table(progress.maps[0].points);
```

### å¿«é€Ÿæ¸¬è©¦æ“ä½œ

```javascript
// é‡ç½®æ‰€æœ‰é€²åº¦ï¼ˆæ¸¬è©¦ç”¨ï¼‰
localStorage.removeItem("adventureProgress");
location.reload();

// å¿«é€Ÿè·³åˆ°ç‰¹å®šé€²åº¦
const progress = JSON.parse(localStorage.getItem("adventureProgress"));
progress.currentMapIndex = 1; // è·³åˆ°ç¬¬äºŒå¼µåœ°åœ–
progress.currentPointIndex = 4; // è·³åˆ°ç¬¬äº”å€‹æ¢ç´¢é»
localStorage.setItem("adventureProgress", JSON.stringify(progress));
location.reload();

// æ¨¡æ“¬å…¨é€šé—œ
progress.freeChoiceUnlocked = true;
progress.maps.forEach((map) =>
  map.points.forEach((p) => {
    p.passed = true;
    p.starsEarned = 3;
  }),
);
localStorage.setItem("adventureProgress", JSON.stringify(progress));

// å¿«é€Ÿåˆ‡æ›éŸ³æ•ˆè¨­å®š
const profile = JSON.parse(localStorage.getItem("playerProfile"));
profile.soundSettings = { sfx: false, voice: true };
localStorage.setItem("playerProfile", JSON.stringify(profile));
```

### å¸¸è¦‹å•é¡Œæ’æŸ¥

| å•é¡Œ         | æ’æŸ¥æ­¥é©Ÿ                                                              |
| ------------ | --------------------------------------------------------------------- |
| é€²åº¦æ¶ˆå¤±     | Application â†’ Local Storage â†’ ç¢ºèª `adventureProgress` æ˜¯å¦å­˜åœ¨       |
| è¨­å®šæ²’ç”Ÿæ•ˆ   | Console ä¸­ `JSON.parse(localStorage.getItem('playerProfile'))` ç¢ºèªå€¼ |
| è³‡æ–™çµæ§‹éŒ¯èª¤ | æ¯”å° `storageVersion` â†’ æ˜¯å¦éœ€è¦é·ç§»                                  |
| å„²å­˜å¤±æ•—     | try-catch åŒ…è£ `setItem` â†’ å¯èƒ½æ˜¯ QuotaExceededError                  |

[â†‘ å›åˆ°ç›®éŒ„](#ç›®éŒ„)

---

## ğŸ”Š éŸ³è¨Šé™¤éŒ¯ ğŸ†•

### æ¦‚å¿µèªªæ˜

æœ¬å°ˆæ¡ˆæœ‰è¤‡é›œçš„éŸ³æ•ˆç³»çµ±ï¼šç”·å¥³è²é›™è»Œåˆºæ¿€ç‰©èªéŸ³ã€å›é¥‹éŸ³æ•ˆã€å¾½ç« æ’­å ±ã€WM èªéŸ³ã€‚æœ€å¸¸è¦‹çš„ bug æ˜¯**åœ¨ iPad/æ‰‹æ©Ÿä¸ŠèªéŸ³ä¸æ’­æ”¾**ã€‚

### Web Audio API ç‹€æ…‹æª¢æŸ¥

```javascript
// æª¢æŸ¥ AudioContext ç‹€æ…‹
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
console.log("AudioContext ç‹€æ…‹:", audioCtx.state);
// 'suspended' â†’ éœ€è¦ä½¿ç”¨è€…äº’å‹•æ‰èƒ½æ’­æ”¾
// 'running'   â†’ æ­£å¸¸å¯æ’­æ”¾
// 'closed'    â†’ å·²é—œé–‰

// å¼·åˆ¶æ¢å¾©ï¼ˆéœ€åœ¨ä½¿ç”¨è€…äº’å‹•äº‹ä»¶ä¸­ï¼‰
document.addEventListener(
  "click",
  () => {
    if (audioCtx.state === "suspended") {
      audioCtx.resume().then(() => {
        console.log("âœ… AudioContext å·²æ¢å¾©");
      });
    }
  },
  { once: true },
);
```

### è‡ªå‹•æ’­æ”¾æ”¿ç­–é™¤éŒ¯

**é€™æ˜¯ iPad/æ‰‹æ©Ÿä¸Šæœ€å¸¸è¦‹çš„éŸ³è¨Šå•é¡Œ**ï¼š

```javascript
// è¨ºæ–·ï¼šæ˜¯å¦è¢«è‡ªå‹•æ’­æ”¾æ”¿ç­–é˜»æ“‹
function testAutoplay() {
  const audio = new Audio("audio/sfx/sfx-correct.mp3");
  audio
    .play()
    .then(() => console.log("âœ… è‡ªå‹•æ’­æ”¾å…è¨±"))
    .catch((error) => {
      console.error("âŒ è‡ªå‹•æ’­æ”¾è¢«é˜»æ“‹:", error.message);
      console.warn("ğŸ’¡ è§£æ±ºæ–¹æ³•ï¼šç¢ºä¿åœ¨ä½¿ç”¨è€…äº’å‹•ï¼ˆclick/touchï¼‰å¾Œæ‰æ’­æ”¾");
    });
}

// æ­£ç¢ºåšæ³•ï¼šåœ¨ä½¿ç”¨è€…äº’å‹•äº‹ä»¶ä¸­åˆå§‹åŒ–éŸ³è¨Š
document.getElementById("startGameBtn").addEventListener("click", () => {
  // ç¬¬ä¸€æ¬¡äº’å‹•æ™‚æ’­æ”¾ä¸€å€‹éœéŸ³éŸ³æ•ˆä¾†ã€Œè§£é–ã€éŸ³è¨Š
  const silentAudio = new Audio();
  silentAudio.play().catch(() => {});
});
```

### ç”·å¥³è²è·¯å¾‘é™¤éŒ¯

```javascript
// æª¢æŸ¥èªéŸ³è·¯å¾‘æ˜¯å¦æ­£ç¢º
function debugVoicePath(stimulusType, gameField, ruleContext) {
  const pack = STIMULI_PACKS[currentPack];
  const field = pack[gameField];
  const stimulus = field.goStimulus; // æˆ– noGoStimulus

  console.group("ğŸ”Š èªéŸ³è·¯å¾‘é™¤éŒ¯");
  console.log("åˆºæ¿€ç‰©:", stimulusType);
  console.log("éŠæˆ²å ´:", gameField);
  console.log("è¦å‰‡è„ˆçµ¡:", ruleContext);

  // æ··åˆè¦å‰‡ä¸­ï¼šå¥³è² = è¦å‰‡Aï¼Œç”·è² = è¦å‰‡B
  const isFemale = ruleContext === "rule1" || ruleContext === "mixed-rule1";
  const voicePath = isFemale ? stimulus.voiceFemale : stimulus.voiceMale;

  console.log("æ€§åˆ¥:", isFemale ? "å¥³è²" : "ç”·è²");
  console.log("éŸ³æª”è·¯å¾‘:", voicePath);

  // æ¸¬è©¦æª”æ¡ˆæ˜¯å¦å­˜åœ¨
  fetch(voicePath)
    .then((res) =>
      console.log("æª”æ¡ˆç‹€æ…‹:", res.status === 200 ? "âœ… å­˜åœ¨" : "âŒ 404"),
    )
    .catch(() => console.error("âŒ ç„¡æ³•è¼‰å…¥"));

  console.groupEnd();
}
```

### å¤šéŸ³æ•ˆä¸¦ç™¼æ’æŸ¥

```javascript
// åŒæ™‚æ’­æ”¾å¤šå€‹éŸ³æ•ˆæ™‚å¯èƒ½äº’ç›¸å¹²æ“¾
function debugAudioConcurrency() {
  console.group("ğŸ”Š éŸ³æ•ˆä¸¦ç™¼æª¢æŸ¥");

  // åˆ—å‡ºç›®å‰æ­£åœ¨æ’­æ”¾çš„éŸ³æ•ˆ
  const audioElements = document.querySelectorAll("audio");
  audioElements.forEach((audio, i) => {
    console.log(`éŸ³æ•ˆ ${i}:`, {
      src: audio.src,
      paused: audio.paused,
      currentTime: audio.currentTime,
      duration: audio.duration,
    });
  });

  console.groupEnd();
}
```

### éŸ³è¨Šé™¤éŒ¯é€ŸæŸ¥

| å•é¡Œ           | æ’æŸ¥æ–¹æ³•                                                          |
| -------------- | ----------------------------------------------------------------- |
| iPad ä¸Šæ²’è²éŸ³  | æª¢æŸ¥ `AudioContext.state` â†’ æ˜¯å¦ `suspended`                      |
| ç‰¹å®šèªéŸ³ä¸æ’­æ”¾ | Network Tab æœ `.mp3` â†’ ç¢ºèªè·¯å¾‘å’Œ 200 OK                         |
| ç”·å¥³è²æå     | Console å°å‡º `ruleContext` + èªéŸ³è·¯å¾‘                             |
| éŸ³æ•ˆå¡é “/é‡ç–Š  | `debugAudioConcurrency()` æª¢æŸ¥ä¸¦ç™¼æ•¸é‡                            |
| éŸ³é‡è¨­å®šä¸ç”Ÿæ•ˆ | `JSON.parse(localStorage.getItem('playerProfile')).soundSettings` |

[â†‘ å›åˆ°ç›®éŒ„](#ç›®éŒ„)

---

## ğŸ“± è¡Œå‹•è£ç½® / è§¸æ§é™¤éŒ¯ ğŸ†•

### æ¦‚å¿µèªªæ˜

æœ¬å°ˆæ¡ˆçš„ä¸»è¦ä½¿ç”¨å ´æ™¯æ˜¯**å¹¼å…’åœ¨ iPad ä¸Šæ“ä½œ**ï¼Œæ‰€æœ‰æŒ‰éˆ•è§¸æ§å€åŸŸå¿…é ˆ â‰¥ 48Ã—48pxã€‚è¡Œå‹•è£ç½®é™¤éŒ¯æ˜¯å¿…å‚™æŠ€èƒ½ã€‚

### Chrome Device Modeï¼ˆè£ç½®æ¨¡æ“¬ï¼‰

```
æ­¥é©Ÿï¼š
1. F12 â†’ é»æ“Šå·¦ä¸Šè§’çš„ ğŸ“± è£ç½®åˆ‡æ›æŒ‰éˆ•ï¼ˆToggle Device Toolbarï¼‰
2. ä¸Šæ–¹é¸æ“‡è£ç½®ï¼šiPad / iPad Pro / iPhone / è‡ªè¨‚å°ºå¯¸
3. å¯ä»¥æ¨¡æ“¬è§¸æ§äº‹ä»¶ï¼ˆæ»‘é¼ æœƒè®Šæˆåœ“é»ï¼‰
4. å¯ä»¥æ—‹è½‰æ–¹å‘ï¼ˆç›´å‘/æ©«å‘ï¼‰

å¿«æ·éµï¼šCtrl/Cmd + Shift + M
```

**æ¨è–¦æ¸¬è©¦è£ç½®**ï¼š

| è£ç½®           | è§£æåº¦      | é‡é»æ¸¬è©¦     |
| -------------- | ----------- | ------------ |
| iPad (10th)    | 820 Ã— 1180  | ä¸»è¦ç›®æ¨™è£ç½® |
| iPad Pro 12.9" | 1024 Ã— 1366 | å¤§è¢å¹•ä½ˆå±€   |
| iPhone SE      | 375 Ã— 667   | æœ€å°è¢å¹•     |
| è‡ªè¨‚           | ä»»æ„        | é‚Šç•Œæƒ…æ³     |

### è§¸æ§äº‹ä»¶é™¤éŒ¯

```javascript
// ç›£è½æ‰€æœ‰è§¸æ§äº‹ä»¶ï¼ˆåœ¨ Console ä¸­åŸ·è¡Œï¼‰
["touchstart", "touchend", "touchmove", "click"].forEach((event) => {
  document.addEventListener(event, (e) => {
    console.log(`ğŸ“± ${event}:`, {
      target: e.target.tagName + "#" + e.target.id,
      x: e.touches ? e.touches[0]?.clientX : e.clientX,
      y: e.touches ? e.touches[0]?.clientY : e.clientY,
    });
  });
});

// æª¢æŸ¥è§¸æ§å€åŸŸå¤§å°
function checkTouchTargets() {
  const buttons = document.querySelectorAll('button, [role="button"], a');
  const tooSmall = [];

  buttons.forEach((btn) => {
    const rect = btn.getBoundingClientRect();
    if (rect.width < 48 || rect.height < 48) {
      tooSmall.push({
        element: btn.textContent.trim().substring(0, 20),
        width: Math.round(rect.width),
        height: Math.round(rect.height),
        id: btn.id || btn.className,
      });
    }
  });

  if (tooSmall.length > 0) {
    console.warn("âš ï¸ è§¸æ§å€åŸŸéå°çš„æŒ‰éˆ•ï¼ˆéœ€ â‰¥ 48Ã—48pxï¼‰ï¼š");
    console.table(tooSmall);
  } else {
    console.log("âœ… æ‰€æœ‰æŒ‰éˆ•è§¸æ§å€åŸŸ OK");
  }
}
checkTouchTargets();
```

### Safari Web Inspectorï¼ˆiPad å¯¦æ©Ÿé™¤éŒ¯ï¼‰

```
æ­¥é©Ÿï¼ˆéœ€è¦ Mac + iPad + Lightning/USB-C ç·šï¼‰ï¼š
1. iPad: è¨­å®š â†’ Safari â†’ é€²éš â†’ æ‰“é–‹ã€ŒWeb Inspectorã€
2. Mac: Safari â†’ åå¥½è¨­å®š â†’ é€²éš â†’ æ‰“é–‹ã€Œåœ¨é¸å–®åˆ—ä¸­é¡¯ç¤ºã€é–‹ç™¼ã€é¸å–®ã€
3. iPad ä¸Šç”¨ Safari é–‹å•ŸéŠæˆ²ç¶²é 
4. Mac Safari â†’ é–‹ç™¼ â†’ é¸æ“‡ä½ çš„ iPad â†’ é¸æ“‡é é¢
5. å‡ºç¾å®Œæ•´çš„ Inspectorï¼ˆConsoleã€Elementsã€Network...ï¼‰

é€™æ˜¯ iPad ä¸Šå”¯ä¸€å¯é çš„é™¤éŒ¯æ–¹å¼ï¼
```

### å¸¸è¦‹è¡Œå‹•è£ç½®å•é¡Œ

| å•é¡Œ            | åŸå›                 | è§£æ±ºæ–¹æ³•                           |
| --------------- | ------------------- | ---------------------------------- |
| iPad ä¸ŠéŸ³æ•ˆä¸æ’­ | è‡ªå‹•æ’­æ”¾æ”¿ç­–        | éœ€ä½¿ç”¨è€…äº’å‹•å¾Œæ‰æ’­æ”¾ï¼ˆè¦‹éŸ³è¨Šé™¤éŒ¯ï¼‰ |
| æŒ‰éˆ•é»ä¸åˆ°      | è§¸æ§å€åŸŸ < 48px     | åŠ å¤§æŒ‰éˆ•å°ºå¯¸æˆ– padding             |
| ç•«é¢å¯ä»¥ç¸®æ”¾    | viewport è¨­å®šå•é¡Œ   | ç¢ºèª `user-scalable=no`            |
| 300ms é»æ“Šå»¶é²  | èˆŠç‰ˆè¡Œå‹•ç€è¦½å™¨      | åŠ  `touch-action: manipulation`    |
| CSS hover å¡ä½  | è§¸æ§æ²’æœ‰ hover é›¢é–‹ | ç”¨ `@media (hover: hover)` é™åˆ¶    |
| è™›æ“¬éµç›¤æ“‹ä½    | è¼¸å…¥æ¡†è¢«é®è“‹        | `visualViewport` API èª¿æ•´          |

[â†‘ å›åˆ°ç›®éŒ„](#ç›®éŒ„)

---

## éŒ¯èª¤è™•ç†æ©Ÿåˆ¶

### 1. Try-Catch éŒ¯èª¤æ•æ‰

#### åŸºæœ¬ç”¨æ³•

```javascript
// åŸºæœ¬çµæ§‹
try {
  // å¯èƒ½å‡ºéŒ¯çš„ç¨‹å¼ç¢¼
  riskyOperation();
} catch (error) {
  // éŒ¯èª¤è™•ç†
  console.error("ç™¼ç”ŸéŒ¯èª¤:", error);
} finally {
  // ç„¡è«–æ˜¯å¦å‡ºéŒ¯éƒ½æœƒåŸ·è¡Œ
  cleanup();
}
```

#### å¯¦éš›ç¯„ä¾‹

**ä¾‹1ï¼šJSON è§£æ**

```javascript
function loadGameConfig(jsonString) {
  try {
    const config = JSON.parse(jsonString);
    return config;
  } catch (error) {
    console.error("âŒ è¨­å®šæª”æ ¼å¼éŒ¯èª¤:", error.message);
    // å›å‚³é è¨­è¨­å®š
    return getDefaultConfig();
  }
}
```

**ä¾‹2ï¼šLocalStorage æ“ä½œ**

```javascript
function saveGameProgress(data) {
  try {
    const jsonData = JSON.stringify(data);
    localStorage.setItem("gameProgress", jsonData);
    console.log("âœ“ é€²åº¦å·²å„²å­˜");
    return true;
  } catch (error) {
    console.error("âŒ å„²å­˜å¤±æ•—:", error.message);

    if (error.name === "QuotaExceededError") {
      alert("å„²å­˜ç©ºé–“ä¸è¶³ï¼Œè«‹æ¸…ç†ç€è¦½å™¨è³‡æ–™");
    }

    return false;
  }
}

function loadGameProgress() {
  try {
    const jsonData = localStorage.getItem("gameProgress");
    if (!jsonData) return null;

    return JSON.parse(jsonData);
  } catch (error) {
    console.error("âŒ è®€å–é€²åº¦å¤±æ•—:", error.message);
    // æ¸…é™¤æå£çš„è³‡æ–™
    localStorage.removeItem("gameProgress");
    return null;
  }
}
```

**ä¾‹3ï¼šFirebase æ“ä½œ**

```javascript
async function saveScore(playerId, score) {
  try {
    await firebase.database().ref(`scores/${playerId}`).set({
      score: score,
      timestamp: Date.now(),
    });

    console.log("âœ“ åˆ†æ•¸å·²å„²å­˜");
    return true;
  } catch (error) {
    console.error("âŒ Firebase å„²å­˜å¤±æ•—:", {
      code: error.code,
      message: error.message,
    });

    // æ ¹æ“šéŒ¯èª¤é¡å‹çµ¦äºˆä¸åŒæç¤º
    if (error.code === "PERMISSION_DENIED") {
      alert("æ¬Šé™ä¸è¶³ï¼Œè«‹å…ˆç™»å…¥");
    } else if (error.code === "NETWORK_ERROR") {
      alert("ç¶²è·¯é€£ç·šå¤±æ•—ï¼Œè«‹æª¢æŸ¥ç¶²è·¯");
    } else {
      alert("å„²å­˜å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦");
    }

    return false;
  }
}
```

**ä¾‹4ï¼šå¤šå±¤éŒ¯èª¤è™•ç†**

```javascript
async function initGame() {
  try {
    // ç¬¬ä¸€æ­¥ï¼šè¼‰å…¥è¨­å®š
    try {
      const config = await loadConfig();
      applyConfig(config);
    } catch (error) {
      console.warn("âš ï¸ ä½¿ç”¨é è¨­è¨­å®š", error);
      applyConfig(getDefaultConfig());
    }

    // ç¬¬äºŒæ­¥ï¼šé€£æ¥ Firebase
    try {
      await connectFirebase();
    } catch (error) {
      console.warn("âš ï¸ Firebase é€£ç·šå¤±æ•—ï¼Œä½¿ç”¨æœ¬åœ°æ¨¡å¼", error);
      useLocalMode();
    }

    // ç¬¬ä¸‰æ­¥ï¼šè¼‰å…¥è³‡æº
    await loadAssets();

    // ç¬¬å››æ­¥ï¼šå•Ÿå‹•éŠæˆ²
    startGame();
  } catch (error) {
    console.error("âŒ éŠæˆ²åˆå§‹åŒ–å¤±æ•—:", error);
    showErrorScreen("éŠæˆ²è¼‰å…¥å¤±æ•—ï¼Œè«‹é‡æ–°æ•´ç†é é¢");
  }
}
```

### 2. å…¨åŸŸéŒ¯èª¤ç›£è½

#### window.onerror - æ•æ‰ JavaScript éŒ¯èª¤

```javascript
// æ•æ‰æ‰€æœ‰æœªè™•ç†çš„éŒ¯èª¤
window.addEventListener("error", (event) => {
  console.error("ğŸš¨ å…¨åŸŸéŒ¯èª¤:", {
    message: event.message, // éŒ¯èª¤è¨Šæ¯
    filename: event.filename, // ç™¼ç”ŸéŒ¯èª¤çš„æª”æ¡ˆ
    lineno: event.lineno, // è¡Œè™Ÿ
    colno: event.colno, // åˆ—è™Ÿ
    error: event.error, // Error ç‰©ä»¶
    stack: event.error?.stack, // å †ç–Šè¿½è¹¤
  });

  // è¨˜éŒ„åˆ°éŒ¯èª¤è¿½è¹¤æœå‹™
  logErrorToService({
    type: "JavaScript Error",
    message: event.message,
    location: `${event.filename}:${event.lineno}:${event.colno}`,
    stack: event.error?.stack,
    timestamp: new Date().toISOString(),
  });

  // é˜²æ­¢éŒ¯èª¤é¡¯ç¤ºåœ¨ Consoleï¼ˆé¸æ“‡æ€§ï¼‰
  // event.preventDefault();
});
```

#### window.onunhandledrejection - æ•æ‰ Promise éŒ¯èª¤

```javascript
// æ•æ‰æœªè™•ç†çš„ Promise æ‹’çµ•
window.addEventListener("unhandledrejection", (event) => {
  console.error("ğŸš¨ æœªè™•ç†çš„ Promise æ‹’çµ•:", {
    reason: event.reason, // æ‹’çµ•åŸå› 
    promise: event.promise, // è¢«æ‹’çµ•çš„ Promise
  });

  // è¨˜éŒ„éŒ¯èª¤
  logErrorToService({
    type: "Unhandled Promise Rejection",
    message: event.reason?.message || String(event.reason),
    stack: event.reason?.stack,
    timestamp: new Date().toISOString(),
  });

  // é˜²æ­¢é¡¯ç¤ºåœ¨ Console
  event.preventDefault();
});
```

#### å®Œæ•´çš„éŒ¯èª¤ç›£è½ç³»çµ±

```javascript
class ErrorHandler {
  constructor() {
    this.errors = [];
    this.maxErrors = 50; // æœ€å¤šä¿å­˜ 50 å€‹éŒ¯èª¤
    this.init();
  }

  init() {
    // JavaScript éŒ¯èª¤
    window.addEventListener("error", (e) => this.handleError(e));

    // Promise éŒ¯èª¤
    window.addEventListener("unhandledrejection", (e) =>
      this.handlePromiseError(e),
    );

    // è³‡æºè¼‰å…¥éŒ¯èª¤
    window.addEventListener(
      "error",
      (e) => {
        if (e.target !== window) {
          this.handleResourceError(e);
        }
      },
      true,
    ); // ä½¿ç”¨æ•ç²éšæ®µ
  }

  handleError(event) {
    const errorInfo = {
      type: "JavaScript Error",
      message: event.message,
      filename: event.filename,
      line: event.lineno,
      column: event.colno,
      stack: event.error?.stack,
      timestamp: new Date().toISOString(),
      userAgent: navigator.userAgent,
    };

    this.logError(errorInfo);
  }

  handlePromiseError(event) {
    const errorInfo = {
      type: "Promise Rejection",
      message: event.reason?.message || String(event.reason),
      stack: event.reason?.stack,
      timestamp: new Date().toISOString(),
    };

    this.logError(errorInfo);
    event.preventDefault();
  }

  handleResourceError(event) {
    const errorInfo = {
      type: "Resource Load Error",
      element: event.target.tagName,
      source: event.target.src || event.target.href,
      timestamp: new Date().toISOString(),
    };

    this.logError(errorInfo);
  }

  logError(errorInfo) {
    // å„²å­˜åˆ°é™£åˆ—
    this.errors.push(errorInfo);
    if (this.errors.length > this.maxErrors) {
      this.errors.shift();
    }

    // è¼¸å‡ºåˆ° Console
    console.error("ğŸš¨ éŒ¯èª¤è¨˜éŒ„:", errorInfo);

    // ç™¼é€åˆ°å¾Œç«¯ï¼ˆé¸æ“‡æ€§ï¼‰
    this.sendToServer(errorInfo);

    // é¡¯ç¤ºéŒ¯èª¤é€šçŸ¥ï¼ˆé–‹ç™¼æ¨¡å¼ï¼‰
    if (DEBUG_MODE) {
      this.showErrorNotification(errorInfo);
    }
  }

  sendToServer(errorInfo) {
    // ç™¼é€åˆ°éŒ¯èª¤è¿½è¹¤æœå‹™ï¼ˆå¦‚ Sentryï¼‰
    if (window.Sentry) {
      Sentry.captureException(new Error(errorInfo.message), {
        extra: errorInfo,
      });
    }

    // æˆ–ç™¼é€åˆ°è‡ªå·±çš„å¾Œç«¯
    fetch("/api/log-error", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(errorInfo),
    }).catch(() => {
      // å¿½ç•¥éŒ¯èª¤è¨˜éŒ„çš„éŒ¯èª¤
    });
  }

  showErrorNotification(errorInfo) {
    const notification = document.createElement("div");
    notification.style.cssText = `
      position: fixed;
      top: 20px;
      right: 20px;
      background: #ff4444;
      color: white;
      padding: 15px;
      border-radius: 5px;
      z-index: 999999;
      max-width: 300px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.3);
    `;
    notification.innerHTML = `
      <strong>ğŸš¨ ${errorInfo.type}</strong><br>
      <small>${errorInfo.message}</small>
    `;
    document.body.appendChild(notification);

    setTimeout(() => notification.remove(), 5000);
  }

  getErrors() {
    return this.errors;
  }

  clearErrors() {
    this.errors = [];
  }

  exportErrors() {
    const blob = new Blob([JSON.stringify(this.errors, null, 2)], {
      type: "application/json",
    });
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
    a.download = `errors_${Date.now()}.json`;
    a.click();
  }
}

// åˆå§‹åŒ–
const errorHandler = new ErrorHandler();

// ä½¿ç”¨æ–¹å¼
// errorHandler.getErrors() - æŸ¥çœ‹æ‰€æœ‰éŒ¯èª¤
// errorHandler.exportErrors() - åŒ¯å‡ºéŒ¯èª¤æ—¥èªŒ
```

### 3. è‡ªè¨‚éŒ¯èª¤é¡åˆ¥

```javascript
// éŠæˆ²ç›¸é—œçš„è‡ªè¨‚éŒ¯èª¤
class GameError extends Error {
  constructor(message, code) {
    super(message);
    this.name = "GameError";
    this.code = code;
    this.timestamp = new Date();
  }
}

class CardNotFoundError extends GameError {
  constructor(cardId) {
    super(`æ‰¾ä¸åˆ°å¡ç‰‡: ${cardId}`, "CARD_NOT_FOUND");
    this.cardId = cardId;
  }
}

class InvalidMoveError extends GameError {
  constructor(reason) {
    super(`ç„¡æ•ˆçš„ç§»å‹•: ${reason}`, "INVALID_MOVE");
    this.reason = reason;
  }
}

class NetworkError extends GameError {
  constructor(message, originalError) {
    super(message, "NETWORK_ERROR");
    this.originalError = originalError;
  }
}

// ä½¿ç”¨ç¯„ä¾‹
function flipCard(cardId) {
  const card = cards.find((c) => c.id === cardId);

  if (!card) {
    throw new CardNotFoundError(cardId);
  }

  if (card.isFlipped) {
    throw new InvalidMoveError("å¡ç‰‡å·²ç¶“ç¿»é–‹");
  }

  // ç¿»é–‹å¡ç‰‡...
}

// æ•æ‰ç‰¹å®šéŒ¯èª¤
try {
  flipCard(123);
} catch (error) {
  if (error instanceof CardNotFoundError) {
    console.error("å¡ç‰‡ä¸å­˜åœ¨:", error.cardId);
  } else if (error instanceof InvalidMoveError) {
    console.warn("ç„¡æ•ˆæ“ä½œ:", error.reason);
  } else {
    console.error("æœªçŸ¥éŒ¯èª¤:", error);
  }
}
```

[â†‘ å›åˆ°ç›®éŒ„](#ç›®éŒ„)

---

## è‡ªè¨‚ DEBUG å·¥å…·ç³»çµ±

### å®Œæ•´çš„ DEBUG é¡åˆ¥å¯¦ä½œ

```javascript
/**
 * DEBUG å·¥å…·é¡åˆ¥
 * æä¾›çµ±ä¸€çš„é™¤éŒ¯ä»‹é¢ï¼Œæ”¯æ´é–‹é—œæ§åˆ¶ã€åˆ†é¡ã€æ™‚é–“æˆ³è¨˜ç­‰åŠŸèƒ½
 */
class DebugSystem {
  constructor(options = {}) {
    this.enabled = options.enabled !== false; // é è¨­å•Ÿç”¨
    this.level = options.level || "all"; // all, error, warn, info
    this.prefix = options.prefix || "ğŸ›";
    this.showTimestamp = options.showTimestamp !== false;
    this.showStackTrace = options.showStackTrace || false;
    this.categories = new Set();
    this.filters = new Set();
    this.logs = [];
    this.maxLogs = options.maxLogs || 1000;
  }

  /**
   * åŸºæœ¬ log
   */
  log(message, data = null, category = "general") {
    if (!this.shouldLog("log", category)) return;

    const logData = this.createLogData("log", message, data, category);
    this.output(logData, console.log);
  }

  /**
   * éŒ¯èª¤è¨Šæ¯
   */
  error(message, error = null, category = "general") {
    if (!this.shouldLog("error", category)) return;

    const logData = this.createLogData("error", message, error, category);
    this.output(logData, console.error);

    // å¦‚æœæ˜¯ Error ç‰©ä»¶ï¼Œé¡¯ç¤ºå †ç–Šè¿½è¹¤
    if (error instanceof Error) {
      console.error("Stack:", error.stack);
    }
  }

  /**
   * è­¦å‘Šè¨Šæ¯
   */
  warn(message, data = null, category = "general") {
    if (!this.shouldLog("warn", category)) return;

    const logData = this.createLogData("warn", message, data, category);
    this.output(logData, console.warn);
  }

  /**
   * è³‡è¨Šè¨Šæ¯
   */
  info(message, data = null, category = "general") {
    if (!this.shouldLog("info", category)) return;

    const logData = this.createLogData("info", message, data, category);
    this.output(logData, console.info);
  }

  /**
   * è¡¨æ ¼é¡¯ç¤º
   */
  table(data, category = "general") {
    if (!this.shouldLog("log", category)) return;

    console.log(`${this.prefix} [${category}]`, this.getTimestamp());
    console.table(data);
  }

  /**
   * è¿½è¹¤å †ç–Š
   */
  trace(label = "è¿½è¹¤", category = "general") {
    if (!this.shouldLog("log", category)) return;

    console.log(`${this.prefix} [${category}] ${label}`, this.getTimestamp());
    console.trace();
  }

  /**
   * ç¾¤çµ„é–‹å§‹
   */
  group(label, category = "general") {
    if (!this.shouldLog("log", category)) return;
    console.group(`${this.prefix} [${category}] ${label}`, this.getTimestamp());
  }

  /**
   * ç¾¤çµ„çµæŸ
   */
  groupEnd() {
    console.groupEnd();
  }

  /**
   * è¨ˆæ™‚é–‹å§‹
   */
  time(label, category = "general") {
    if (!this.shouldLog("log", category)) return;
    console.time(`${this.prefix} [${category}] ${label}`);
  }

  /**
   * è¨ˆæ™‚çµæŸ
   */
  timeEnd(label, category = "general") {
    if (!this.shouldLog("log", category)) return;
    console.timeEnd(`${this.prefix} [${category}] ${label}`);
  }

  /**
   * æ–·è¨€
   */
  assert(condition, message, data = null) {
    if (!this.enabled) return;

    if (!condition) {
      this.error(`æ–·è¨€å¤±æ•—: ${message}`, data, "assert");
    }
  }

  /**
   * å»ºç«‹ log è³‡æ–™
   */
  createLogData(level, message, data, category) {
    const logData = {
      level,
      message,
      data,
      category,
      timestamp: Date.now(),
      timestampStr: this.getTimestamp(),
    };

    // å„²å­˜ log
    this.logs.push(logData);
    if (this.logs.length > this.maxLogs) {
      this.logs.shift();
    }

    this.categories.add(category);

    return logData;
  }

  /**
   * è¼¸å‡º log
   */
  output(logData, consoleFn) {
    const parts = [this.prefix];

    if (this.showTimestamp) {
      parts.push(`[${logData.timestampStr}]`);
    }

    parts.push(`[${logData.category}]`);
    parts.push(logData.message);

    if (logData.data !== null) {
      consoleFn(parts.join(" "), logData.data);
    } else {
      consoleFn(parts.join(" "));
    }
  }

  /**
   * åˆ¤æ–·æ˜¯å¦æ‡‰è©² log
   */
  shouldLog(level, category) {
    if (!this.enabled) return false;

    // æª¢æŸ¥ level
    if (this.level !== "all") {
      const levels = ["error", "warn", "info", "log"];
      const currentLevelIndex = levels.indexOf(this.level);
      const logLevelIndex = levels.indexOf(level);
      if (logLevelIndex > currentLevelIndex) return false;
    }

    // æª¢æŸ¥ category filter
    if (this.filters.size > 0 && !this.filters.has(category)) {
      return false;
    }

    return true;
  }

  /**
   * å–å¾—æ™‚é–“æˆ³è¨˜
   */
  getTimestamp() {
    const now = new Date();
    return now.toTimeString().split(" ")[0] + "." + now.getMilliseconds();
  }

  /**
   * è¨­å®š level
   */
  setLevel(level) {
    this.level = level;
  }

  /**
   * å•Ÿç”¨/åœç”¨
   */
  enable() {
    this.enabled = true;
  }

  disable() {
    this.enabled = false;
  }

  toggle() {
    this.enabled = !this.enabled;
  }

  /**
   * è¨­å®š category filter
   */
  filterCategory(...categories) {
    this.filters = new Set(categories);
  }

  clearFilter() {
    this.filters.clear();
  }

  /**
   * å–å¾—æ‰€æœ‰ categories
   */
  getCategories() {
    return Array.from(this.categories);
  }

  /**
   * å–å¾— logs
   */
  getLogs(category = null, level = null) {
    let filtered = this.logs;

    if (category) {
      filtered = filtered.filter((log) => log.category === category);
    }

    if (level) {
      filtered = filtered.filter((log) => log.level === level);
    }

    return filtered;
  }

  /**
   * æ¸…é™¤ logs
   */
  clearLogs() {
    this.logs = [];
  }

  /**
   * åŒ¯å‡º logs
   */
  exportLogs(filename = null) {
    const data = JSON.stringify(this.logs, null, 2);
    const blob = new Blob([data], { type: "application/json" });
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
    a.download = filename || `debug-logs-${Date.now()}.json`;
    a.click();
    URL.revokeObjectURL(url);
  }

  /**
   * é¡¯ç¤ºçµ±è¨ˆ
   */
  stats() {
    const stats = {
      total: this.logs.length,
      byLevel: {},
      byCategory: {},
    };

    this.logs.forEach((log) => {
      stats.byLevel[log.level] = (stats.byLevel[log.level] || 0) + 1;
      stats.byCategory[log.category] =
        (stats.byCategory[log.category] || 0) + 1;
    });

    console.log("ğŸ“Š Debug çµ±è¨ˆ:");
    console.table(stats.byLevel);
    console.table(stats.byCategory);
  }
}

// å»ºç«‹å…¨åŸŸå¯¦ä¾‹
const DEBUG = new DebugSystem({
  enabled: true,
  showTimestamp: true,
  prefix: "ğŸ®",
});

// æ–¹ä¾¿çš„å¿«æ·å‡½å¼
window.DEBUG = DEBUG;

// å¿«æ·éµåˆ‡æ›ï¼ˆæŒ‰ Shift+Dï¼‰
document.addEventListener("keydown", (e) => {
  if (e.shiftKey && e.key === "D") {
    DEBUG.toggle();
    console.log(`Debug ${DEBUG.enabled ? "å·²å•Ÿç”¨" : "å·²åœç”¨"}`);
  }
});
```

### ä½¿ç”¨ç¯„ä¾‹

```javascript
// åŸºæœ¬ä½¿ç”¨
DEBUG.log("éŠæˆ²åˆå§‹åŒ–");
DEBUG.info("è¼‰å…¥è¨­å®š", config);
DEBUG.warn("è¨˜æ†¶é«”ä½¿ç”¨é‡åé«˜", { usage: memoryUsage });
DEBUG.error("Firebase é€£ç·šå¤±æ•—", error);

// åˆ†é¡ä½¿ç”¨
DEBUG.log("ç©å®¶åŠ å…¥", { playerId, name }, "multiplayer");
DEBUG.log("å¡ç‰‡ç¿»é–‹", { cardId, type }, "gameplay");
DEBUG.log("éŸ³æ•ˆæ’­æ”¾", { soundId }, "audio");

// è¡¨æ ¼é¡¯ç¤º
DEBUG.table(leaderboard, "scores");

// ç¾¤çµ„é¡¯ç¤º
DEBUG.group("å›åˆåˆå§‹åŒ–");
DEBUG.log("é‡ç½®å¡ç‰‡");
DEBUG.log("æ›´æ–°è¨ˆæ™‚å™¨");
DEBUG.log("åˆ‡æ›ç©å®¶");
DEBUG.groupEnd();

// è¨ˆæ™‚
DEBUG.time("è³‡æ–™è¼‰å…¥");
await loadData();
DEBUG.timeEnd("è³‡æ–™è¼‰å…¥");

// æ–·è¨€
DEBUG.assert(players.length === 2, "å¿…é ˆæœ‰2ä½ç©å®¶", { players });

// æ§åˆ¶
DEBUG.disable(); // åœç”¨æ‰€æœ‰ debug
DEBUG.enable(); // å•Ÿç”¨æ‰€æœ‰ debug
DEBUG.setLevel("error"); // åªé¡¯ç¤º error
DEBUG.filterCategory("multiplayer", "gameplay"); // åªé¡¯ç¤ºç‰¹å®šåˆ†é¡

// æŸ¥è©¢èˆ‡åŒ¯å‡º
DEBUG.stats(); // é¡¯ç¤ºçµ±è¨ˆ
DEBUG.exportLogs(); // åŒ¯å‡º log æª”æ¡ˆ
DEBUG.getLogs("gameplay"); // å–å¾—ç‰¹å®šåˆ†é¡çš„ logs
DEBUG.clearLogs(); // æ¸…é™¤æ‰€æœ‰ logs
```

### DCCS éŠæˆ²æ•´åˆ

```javascript
// åœ¨ game-logic.js é–‹é ­
const DEBUG = new DebugSystem({
  enabled: true, // é–‹ç™¼æ™‚ trueï¼Œæ­£å¼ç‰ˆæ”¹ false
  prefix: "ğŸ® DCCS",
});

// éŠæˆ²åˆå§‹åŒ–
function initGame() {
  DEBUG.group("éŠæˆ²åˆå§‹åŒ–");
  DEBUG.log("è¼‰å…¥è¨­å®š", gameConfig, "init");
  DEBUG.log("å»ºç«‹å¡ç‰‡çµ„", { totalCards: cardDeck.length }, "init");
  DEBUG.log("è¨­å®šç©å®¶", players, "init");
  DEBUG.groupEnd();
}

// å¡ç‰‡æ“ä½œ
function handleCardClick(cardId) {
  DEBUG.log("å¡ç‰‡é»æ“Š", { cardId, player: currentPlayer }, "gameplay");

  const card = findCard(cardId);
  if (!card) {
    DEBUG.error("æ‰¾ä¸åˆ°å¡ç‰‡", { cardId }, "gameplay");
    return;
  }

  DEBUG.log("å¡ç‰‡è³‡è¨Š", card, "gameplay");
  flipCard(card);
}

// é…å°æª¢æŸ¥
function checkMatch(card1, card2) {
  DEBUG.group("æª¢æŸ¥é…å°");
  DEBUG.table([card1, card2], "gameplay");

  const isMatch = card1.type === card2.type;
  DEBUG.log("é…å°çµæœ", { isMatch }, "gameplay");
  DEBUG.groupEnd();

  return isMatch;
}

// æ•ˆèƒ½ç›£æ§
function gameLoop() {
  DEBUG.time("éŠæˆ²å¾ªç’°");

  updateGameState();
  renderFrame();

  DEBUG.timeEnd("éŠæˆ²å¾ªç’°");

  requestAnimationFrame(gameLoop);
}

// Firebase æ“ä½œ
async function saveScore(playerId, score) {
  DEBUG.log("å„²å­˜åˆ†æ•¸", { playerId, score }, "firebase");

  try {
    await firebase.database().ref(`scores/${playerId}`).set(score);
    DEBUG.log("å„²å­˜æˆåŠŸ", null, "firebase");
  } catch (error) {
    DEBUG.error("å„²å­˜å¤±æ•—", error, "firebase");
  }
}
```

[â†‘ å›åˆ°ç›®éŒ„](#ç›®éŒ„)

---

## æ•ˆèƒ½ç›£æ§å·¥å…·

### 1. Performance API

```javascript
// æ¸¬é‡é é¢è¼‰å…¥æ™‚é–“
window.addEventListener("load", () => {
  const perfData = performance.timing;
  const pageLoadTime = perfData.loadEventEnd - perfData.navigationStart;
  const connectTime = perfData.responseEnd - perfData.requestStart;
  const renderTime = perfData.domComplete - perfData.domLoading;

  console.log("ğŸ“Š é é¢æ•ˆèƒ½:");
  console.log("ç¸½è¼‰å…¥æ™‚é–“:", pageLoadTime, "ms");
  console.log("ä¼ºæœå™¨å›æ‡‰æ™‚é–“:", connectTime, "ms");
  console.log("DOM æ¸²æŸ“æ™‚é–“:", renderTime, "ms");
});

// ä½¿ç”¨ Performance Observer
const observer = new PerformanceObserver((list) => {
  for (const entry of list.getEntries()) {
    console.log("â±ï¸ æ•ˆèƒ½ç´€éŒ„:", {
      name: entry.name,
      type: entry.entryType,
      startTime: entry.startTime,
      duration: entry.duration,
    });
  }
});

observer.observe({ entryTypes: ["measure", "mark"] });

// æ¨™è¨˜èˆ‡æ¸¬é‡
performance.mark("gameStart");
// ...åŸ·è¡ŒéŠæˆ²é‚è¼¯
performance.mark("gameEnd");
performance.measure("gameDuration", "gameStart", "gameEnd");
```

### 2. FPS ç›£æ§

```javascript
class FPSMonitor {
  constructor() {
    this.fps = 60;
    this.lastTime = performance.now();
    this.frames = 0;
    this.fpsHistory = [];
    this.maxHistory = 60;
  }

  update() {
    const now = performance.now();
    this.frames++;

    if (now >= this.lastTime + 1000) {
      this.fps = Math.round((this.frames * 1000) / (now - this.lastTime));
      this.frames = 0;
      this.lastTime = now;

      // è¨˜éŒ„æ­·å²
      this.fpsHistory.push(this.fps);
      if (this.fpsHistory.length > this.maxHistory) {
        this.fpsHistory.shift();
      }
    }

    return this.fps;
  }

  getFPS() {
    return this.fps;
  }

  getAverage() {
    if (this.fpsHistory.length === 0) return 60;
    const sum = this.fpsHistory.reduce((a, b) => a + b, 0);
    return Math.round(sum / this.fpsHistory.length);
  }

  getMin() {
    return Math.min(...this.fpsHistory);
  }

  getMax() {
    return Math.max(...this.fpsHistory);
  }
}

// ä½¿ç”¨
const fpsMonitor = new FPSMonitor();

function gameLoop() {
  fpsMonitor.update();

  // é¡¯ç¤º FPS
  if (visualDebug) {
    visualDebug.set("FPS", fpsMonitor.getFPS());
    visualDebug.set("å¹³å‡ FPS", fpsMonitor.getAverage());
  }

  // éŠæˆ²é‚è¼¯...

  requestAnimationFrame(gameLoop);
}
```

### 3. è¨˜æ†¶é«”ç›£æ§

```javascript
class MemoryMonitor {
  constructor() {
    this.supported = "memory" in performance;
  }

  getInfo() {
    if (!this.supported) {
      return { supported: false };
    }

    const memory = performance.memory;
    return {
      supported: true,
      used: this.formatBytes(memory.usedJSHeapSize),
      total: this.formatBytes(memory.totalJSHeapSize),
      limit: this.formatBytes(memory.jsHeapSizeLimit),
      usedMB: (memory.usedJSHeapSize / 1048576).toFixed(2),
      totalMB: (memory.totalJSHeapSize / 1048576).toFixed(2),
      percentage: (
        (memory.usedJSHeapSize / memory.jsHeapSizeLimit) *
        100
      ).toFixed(1),
    };
  }

  formatBytes(bytes) {
    if (bytes < 1024) return bytes + " B";
    if (bytes < 1048576) return (bytes / 1024).toFixed(2) + " KB";
    return (bytes / 1048576).toFixed(2) + " MB";
  }

  startMonitoring(interval = 1000) {
    return setInterval(() => {
      const info = this.getInfo();
      if (info.supported) {
        console.log("ğŸ’¾ è¨˜æ†¶é«”ä½¿ç”¨:", info);

        // è­¦å‘Šè¨˜æ†¶é«”ä½¿ç”¨éé«˜
        if (parseFloat(info.percentage) > 90) {
          console.warn("âš ï¸ è¨˜æ†¶é«”ä½¿ç”¨è¶…é 90%ï¼");
        }
      }
    }, interval);
  }
}
```

### 4. æ•ˆèƒ½åˆ†æå™¨

```javascript
class PerformanceProfiler {
  constructor() {
    this.profiles = new Map();
  }

  start(name) {
    this.profiles.set(name, {
      startTime: performance.now(),
      calls: 0,
      totalTime: 0,
      minTime: Infinity,
      maxTime: 0,
    });
  }

  end(name) {
    const profile = this.profiles.get(name);
    if (!profile) {
      console.warn(`æ²’æœ‰æ‰¾åˆ° profile: ${name}`);
      return;
    }

    const duration = performance.now() - profile.startTime;
    profile.calls++;
    profile.totalTime += duration;
    profile.minTime = Math.min(profile.minTime, duration);
    profile.maxTime = Math.max(profile.maxTime, duration);
    profile.avgTime = profile.totalTime / profile.calls;

    return duration;
  }

  measure(name, fn) {
    this.start(name);
    const result = fn();
    this.end(name);
    return result;
  }

  async measureAsync(name, fn) {
    this.start(name);
    const result = await fn();
    this.end(name);
    return result;
  }

  getProfile(name) {
    return this.profiles.get(name);
  }

  getAllProfiles() {
    return Array.from(this.profiles.entries()).map(([name, data]) => ({
      name,
      ...data,
    }));
  }

  report() {
    console.log("ğŸ“Š æ•ˆèƒ½åˆ†æå ±å‘Š:");
    console.table(this.getAllProfiles());
  }

  clear() {
    this.profiles.clear();
  }
}

// ä½¿ç”¨ç¯„ä¾‹
const profiler = new PerformanceProfiler();

// åŒæ­¥å‡½å¼
profiler.measure("shuffleCards", () => {
  shuffleArray(cardDeck);
});

// éåŒæ­¥å‡½å¼
await profiler.measureAsync("loadData", async () => {
  return await firebase.database().ref("scores").once("value");
});

// æ‰‹å‹•æ§åˆ¶
profiler.start("complexOperation");
// ...è¤‡é›œæ“ä½œ
profiler.end("complexOperation");

// æŸ¥çœ‹å ±å‘Š
profiler.report();
```

[â†‘ å›åˆ°ç›®éŒ„](#ç›®éŒ„)

---

## VS Code æ•´åˆåµéŒ¯

### 1. è¨­å®š launch.json

åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„å»ºç«‹ `.vscode/launch.json`:

```json
{
  "version": "0.2.0",
  "configurations": [
    {
      "type": "chrome",
      "request": "launch",
      "name": "åœ¨ Chrome ä¸­å•Ÿå‹•éŠæˆ²",
      "url": "http://localhost:5000",
      "webRoot": "${workspaceFolder}",
      "sourceMaps": true,
      "userDataDir": true
    },
    {
      "type": "chrome",
      "request": "attach",
      "name": "é™„åŠ åˆ° Chrome",
      "port": 9222,
      "webRoot": "${workspaceFolder}"
    }
  ]
}
```

### 2. ä½¿ç”¨æ–¹å¼

1. åœ¨ VS Code ä¸­è¨­å®šä¸­æ–·é»ï¼ˆé»æ“Šè¡Œè™Ÿå·¦å´ï¼‰
2. æŒ‰ F5 æˆ–é»é¸ã€ŒåŸ·è¡Œå’ŒåµéŒ¯ã€
3. é¸æ“‡ã€Œåœ¨ Chrome ä¸­å•Ÿå‹•éŠæˆ²ã€
4. ç¨‹å¼æœƒåœ¨ä¸­æ–·é»æš«åœï¼Œå¯ä»¥ï¼š
   - æŸ¥çœ‹è®Šæ•¸å€¼
   - é€æ­¥åŸ·è¡Œ
   - åœ¨åµéŒ¯ä¸»æ§å°åŸ·è¡Œç¨‹å¼ç¢¼

### 3. åµéŒ¯ä¸»æ§å°æŠ€å·§

```javascript
// åœ¨åµéŒ¯ä¸»æ§å°ä¸­å¯ä»¥ï¼š

// 1. æŸ¥çœ‹è®Šæ•¸
players;
scores;
gameState;

// 2. åŸ·è¡Œå‡½å¼
flipCard(1);
checkGameState();

// 3. ä¿®æ”¹è®Šæ•¸
playerScore = 100;
currentRound = 5;

// 4. åŸ·è¡Œè¤‡é›œçš„ç¨‹å¼ç¢¼
for (let i = 0; i < players.length; i++) {
  console.log(players[i].name, players[i].score);
}
```

[â†‘ å›åˆ°ç›®éŒ„](#ç›®éŒ„)

---

## é€²éšé™¤éŒ¯æŠ€å·§

### 1. Proxy ç›£æ§ç‰©ä»¶è®ŠåŒ–

ç•¶ä½ ä¸çŸ¥é“ç‰©ä»¶ä»€éº¼æ™‚å€™è¢«èª°ä¿®æ”¹æ™‚ï¼Œå¯ä»¥ä½¿ç”¨ Proxy ä¾†è¿½è¹¤ï¼š

```javascript
/**
 * ç›£æ§ç‰©ä»¶è®ŠåŒ–çš„åŒ…è£å‡½å¼
 * @param {Object} obj - è¦ç›£æ§çš„ç‰©ä»¶
 * @param {string} name - ç‰©ä»¶åç¨±ï¼ˆç”¨æ–¼è­˜åˆ¥ï¼‰
 * @returns {Proxy} - è¢«ç›£æ§çš„ç‰©ä»¶
 */
function watchObject(obj, name = "Object") {
  return new Proxy(obj, {
    set(target, property, value) {
      console.group(`ğŸ“ ${name}.${property} è¢«ä¿®æ”¹`);
      console.log("èˆŠå€¼:", target[property]);
      console.log("æ–°å€¼:", value);
      console.trace("ä¿®æ”¹ä¾†æº");
      console.groupEnd();

      target[property] = value;
      return true;
    },
    get(target, property) {
      // å¯é¸ï¼šè¿½è¹¤è®€å–æ“ä½œ
      // console.log(`ğŸ‘€ ${name}.${property} è¢«è®€å–`);
      return target[property];
    },
    deleteProperty(target, property) {
      console.warn(`ğŸ—‘ï¸ ${name}.${property} è¢«åˆªé™¤`);
      console.trace("åˆªé™¤ä¾†æº");
      delete target[property];
      return true;
    },
  });
}

// ä½¿ç”¨ç¯„ä¾‹
let gameState = watchObject(
  {
    score: 0,
    round: 1,
    currentPlayer: "player1",
  },
  "gameState",
);

gameState.score = 10; // è‡ªå‹•è¼¸å‡ºä¿®æ”¹è¨˜éŒ„
gameState.round++; // è‡ªå‹•è¿½è¹¤
```

#### DCCS éŠæˆ²æ‡‰ç”¨

```javascript
// ç›£æ§éŠæˆ²é—œéµç‹€æ…‹
let scores = watchObject({ player1: 0, player2: 0 }, "scores");
let gameConfig = watchObject(config, "gameConfig");

// é€™æ¨£ç•¶åˆ†æ•¸æ„å¤–è®ŠåŒ–æ™‚ï¼Œå¯ä»¥ç«‹å³çŸ¥é“æ˜¯å“ªæ®µç¨‹å¼ç¢¼ä¿®æ”¹çš„
```

---

### 2. æ—¥èªŒç­‰ç´šç³»çµ±

å»ºç«‹å¯æ§åˆ¶çš„æ—¥èªŒç³»çµ±ï¼Œæ­£å¼ç’°å¢ƒå¯ä»¥è¼•é¬†é—œé–‰æˆ–åªé¡¯ç¤ºéŒ¯èª¤ï¼š

```javascript
/**
 * æ—¥èªŒç­‰ç´šç³»çµ±
 * æ ¹æ“šè¨­å®šçš„ç­‰ç´šéæ¿¾æ—¥èªŒè¼¸å‡º
 */
const Logger = {
  // ç­‰ç´šè¨­å®šï¼š'debug' | 'info' | 'warn' | 'error' | 'off'
  level: "debug",

  // ç­‰ç´šå„ªå…ˆé †åº
  levels: {
    debug: 0,
    info: 1,
    warn: 2,
    error: 3,
    off: 4,
  },

  // æ¨£å¼è¨­å®š
  styles: {
    debug: "color: #9E9E9E",
    info: "color: #2196F3",
    warn: "color: #FF9800; font-weight: bold",
    error: "color: #f44336; font-weight: bold",
  },

  // åˆ¤æ–·æ˜¯å¦æ‡‰è©²è¼¸å‡º
  shouldLog(level) {
    return this.levels[level] >= this.levels[this.level];
  },

  debug(...args) {
    if (this.shouldLog("debug")) {
      console.log("%cğŸ” [DEBUG]", this.styles.debug, ...args);
    }
  },

  info(...args) {
    if (this.shouldLog("info")) {
      console.info("%câ„¹ï¸ [INFO]", this.styles.info, ...args);
    }
  },

  warn(...args) {
    if (this.shouldLog("warn")) {
      console.warn("%câš ï¸ [WARN]", this.styles.warn, ...args);
    }
  },

  error(...args) {
    if (this.shouldLog("error")) {
      console.error("%câŒ [ERROR]", this.styles.error, ...args);
    }
  },

  // è¨­å®šç­‰ç´š
  setLevel(level) {
    if (this.levels.hasOwnProperty(level)) {
      this.level = level;
      console.log(`Logger ç­‰ç´šè¨­å®šç‚º: ${level}`);
    }
  },
};

// é–‹ç™¼æ™‚ï¼šé¡¯ç¤ºæ‰€æœ‰
Logger.level = "debug";

// æ¸¬è©¦æ™‚ï¼šåªé¡¯ç¤ºè­¦å‘Šå’ŒéŒ¯èª¤
Logger.level = "warn";

// æ­£å¼ç’°å¢ƒï¼šåªé¡¯ç¤ºéŒ¯èª¤
Logger.level = "error";

// å®Œå…¨é—œé–‰
Logger.level = "off";
```

#### ä½¿ç”¨ç¯„ä¾‹

```javascript
Logger.debug("è¼‰å…¥éŠæˆ²è¨­å®š", config);
Logger.info("ç©å®¶åŠ å…¥éŠæˆ²", { playerId, name });
Logger.warn("è¨˜æ†¶é«”ä½¿ç”¨é‡åé«˜", { usage: memoryUsage });
Logger.error("Firebase é€£ç·šå¤±æ•—", error);
```

---

### 3. URL åƒæ•¸æ§åˆ¶é™¤éŒ¯æ¨¡å¼

é€é URL åƒæ•¸è¼•é¬†é–‹å•Ÿé™¤éŒ¯æ¨¡å¼ï¼Œç„¡éœ€ä¿®æ”¹ç¨‹å¼ç¢¼ï¼š

```javascript
/**
 * URL é™¤éŒ¯æ§åˆ¶
 * ä½¿ç”¨æ–¹å¼ï¼šhttps://yoursite.com?debug=true&level=info
 */
const DebugConfig = {
  init() {
    const params = new URLSearchParams(window.location.search);

    // æª¢æŸ¥é™¤éŒ¯æ¨¡å¼
    this.enabled = params.get("debug") === "true";

    // è¨­å®šæ—¥èªŒç­‰ç´š
    this.logLevel = params.get("level") || "debug";

    // é¡¯ç¤º Visual Debug é¢æ¿
    this.showPanel = params.get("panel") === "true";

    // é¡¯ç¤º FPS
    this.showFPS = params.get("fps") === "true";

    // é¡¯ç¤ºè©³ç´°éŒ¯èª¤
    this.verbose = params.get("verbose") === "true";

    if (this.enabled) {
      console.log(
        "%cğŸ› é™¤éŒ¯æ¨¡å¼å·²å•Ÿç”¨",
        "color: #4CAF50; font-size: 16px; font-weight: bold",
      );
      console.table({
        æ—¥èªŒç­‰ç´š: this.logLevel,
        é¡¯ç¤ºé¢æ¿: this.showPanel,
        "é¡¯ç¤º FPS": this.showFPS,
        è©³ç´°æ¨¡å¼: this.verbose,
      });
    }

    return this;
  },

  isEnabled() {
    return this.enabled;
  },
};

// åˆå§‹åŒ–
DebugConfig.init();

// ä½¿ç”¨
if (DebugConfig.isEnabled()) {
  visualDebug.init();
  Logger.setLevel(DebugConfig.logLevel);
}

if (DebugConfig.showFPS) {
  fpsMonitor.start();
}
```

#### å¸¸ç”¨ URL åƒæ•¸çµ„åˆ

```
# é–‹å•Ÿé™¤éŒ¯æ¨¡å¼
https://yoursite.com?debug=true

# é–‹å•Ÿé™¤éŒ¯ + åªé¡¯ç¤ºéŒ¯èª¤
https://yoursite.com?debug=true&level=error

# é–‹å•Ÿæ‰€æœ‰é™¤éŒ¯åŠŸèƒ½
https://yoursite.com?debug=true&level=debug&panel=true&fps=true&verbose=true

# æ­£å¼ç‰ˆå¿«é€Ÿé™¤éŒ¯
https://yoursite.com?debug=true&verbose=true
```

---

### 4. ç¶²è·¯è«‹æ±‚é™¤éŒ¯åŒ…è£å™¨

è‡ªå‹•è¨˜éŒ„æ‰€æœ‰ç¶²è·¯è«‹æ±‚ï¼Œæ–¹ä¾¿è¿½è¹¤ API å•é¡Œï¼š

```javascript
/**
 * Fetch è«‹æ±‚é™¤éŒ¯åŒ…è£å™¨
 * è‡ªå‹•è¨˜éŒ„æ‰€æœ‰è«‹æ±‚çš„ç‹€æ…‹ã€æ™‚é–“å’ŒéŒ¯èª¤
 */
class FetchDebugger {
  constructor() {
    this.requests = [];
    this.enabled = true;
  }

  // å•Ÿç”¨æ””æˆª
  enable() {
    const originalFetch = window.fetch;
    const self = this;

    window.fetch = async function (...args) {
      const url = args[0];
      const options = args[1] || {};
      const startTime = performance.now();
      const requestId = Date.now();

      if (self.enabled) {
        console.group(`ğŸŒ Fetch: ${url}`);
        console.log("æ–¹æ³•:", options.method || "GET");
        if (options.body) {
          console.log("è«‹æ±‚å…§å®¹:", options.body);
        }
      }

      try {
        const response = await originalFetch.apply(this, args);
        const duration = performance.now() - startTime;

        const requestLog = {
          id: requestId,
          url,
          method: options.method || "GET",
          status: response.status,
          duration: Math.round(duration),
          timestamp: new Date().toISOString(),
        };

        self.requests.push(requestLog);

        if (self.enabled) {
          if (response.ok) {
            console.log(
              `âœ… ç‹€æ…‹: ${response.status} (${duration.toFixed(0)}ms)`,
            );
          } else {
            console.warn(
              `âš ï¸ ç‹€æ…‹: ${response.status} (${duration.toFixed(0)}ms)`,
            );
          }
          console.groupEnd();
        }

        return response;
      } catch (error) {
        const duration = performance.now() - startTime;

        if (self.enabled) {
          console.error(
            `âŒ è«‹æ±‚å¤±æ•—: ${error.message} (${duration.toFixed(0)}ms)`,
          );
          console.groupEnd();
        }

        throw error;
      }
    };
  }

  // å–å¾—è«‹æ±‚è¨˜éŒ„
  getRequests() {
    return this.requests;
  }

  // é¡¯ç¤ºè«‹æ±‚çµ±è¨ˆ
  showStats() {
    console.table(this.requests);

    const avgDuration =
      this.requests.reduce((sum, r) => sum + r.duration, 0) /
      this.requests.length;
    const failedRequests = this.requests.filter((r) => r.status >= 400);

    console.log("ğŸ“Š è«‹æ±‚çµ±è¨ˆ:", {
      ç¸½è«‹æ±‚æ•¸: this.requests.length,
      å¹³å‡æ™‚é–“: Math.round(avgDuration) + "ms",
      å¤±æ•—è«‹æ±‚: failedRequests.length,
    });
  }
}

// åˆå§‹åŒ–
const fetchDebugger = new FetchDebugger();
fetchDebugger.enable();
```

---

### 5. å¿«é€Ÿæª¢æŸ¥ DOM å…ƒç´ å­˜åœ¨

åœ¨éŠæˆ²åˆå§‹åŒ–æ™‚å¿«é€Ÿé©—è­‰æ‰€æœ‰å¿…è¦çš„ DOM å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼š

```javascript
/**
 * DOM å…ƒç´ æª¢æŸ¥å·¥å…·
 */
const DOMChecker = {
  /**
   * æª¢æŸ¥å¤šå€‹å¿…è¦å…ƒç´ æ˜¯å¦å­˜åœ¨
   * @param {...string} selectors - CSS é¸æ“‡å™¨
   * @returns {boolean} - æ˜¯å¦å…¨éƒ¨å­˜åœ¨
   */
  checkRequired(...selectors) {
    const missing = [];
    const found = [];

    selectors.forEach((selector) => {
      const element = document.querySelector(selector);
      if (element) {
        found.push({ selector, element: element.tagName });
      } else {
        missing.push(selector);
      }
    });

    if (missing.length > 0) {
      console.error("âŒ æ‰¾ä¸åˆ°ä»¥ä¸‹å¿…è¦å…ƒç´ :", missing);
      console.table(missing.map((s) => ({ selector: s, status: "âŒ ç¼ºå¤±" })));
      return false;
    }

    console.log("âœ… æ‰€æœ‰å¿…è¦å…ƒç´ å·²å°±ç·’");
    console.table(found);
    return true;
  },

  /**
   * è©³ç´°æª¢æŸ¥å…ƒç´ 
   */
  inspect(selector) {
    const element = document.querySelector(selector);
    if (!element) {
      console.error(`âŒ æ‰¾ä¸åˆ°: ${selector}`);
      return null;
    }

    console.log(`ğŸ” å…ƒç´ æª¢æŸ¥: ${selector}`, {
      tagName: element.tagName,
      id: element.id,
      classes: [...element.classList],
      visible: element.offsetParent !== null,
      dimensions: {
        width: element.offsetWidth,
        height: element.offsetHeight,
      },
      styles: {
        display: getComputedStyle(element).display,
        visibility: getComputedStyle(element).visibility,
        opacity: getComputedStyle(element).opacity,
      },
    });

    return element;
  },
};

// ä½¿ç”¨ç¯„ä¾‹ - DCCS éŠæˆ²åˆå§‹åŒ–æ™‚
function initGame() {
  const elementsOK = DOMChecker.checkRequired(
    "#game-board",
    ".player-score",
    "#timer",
    "#start-button",
    ".card-container",
  );

  if (!elementsOK) {
    showError("éŠæˆ²å…ƒç´ è¼‰å…¥å¤±æ•—ï¼Œè«‹é‡æ–°æ•´ç†é é¢");
    return false;
  }

  // ç¹¼çºŒåˆå§‹åŒ–...
}
```

---

### 6. MutationObserver â€” ç¨‹å¼ç¢¼ç‰ˆ DOM ç›£æ§ ğŸ†•

æ¯” Chrome çš„ DOM æ–·é»æ›´å¼·å¤§ï¼Œå› ç‚ºå¯ä»¥**ç”¨ç¨‹å¼ç¢¼æ§åˆ¶ã€åŠ æ¢ä»¶ã€è¨˜éŒ„æ­·å²**ï¼Œä¸éœ€è¦æ‰‹å‹•åœ¨ DevTools è¨­å®šï¼š

```javascript
/**
 * ç›£æ§ DOM å…ƒç´ çš„è®ŠåŒ–
 * ç•¶å…ƒç´ è¢«æ„å¤–ä¿®æ”¹æ™‚ï¼Œè‡ªå‹•è¨˜éŒ„ä¿®æ”¹ä¾†æº
 */

// ç¯„ä¾‹ï¼šç›£æ§åˆ†æ•¸é¡¯ç¤ºæ˜¯å¦è¢«æ„å¤–ä¿®æ”¹
const scoreElement = document.querySelector(".player-score");

const observer = new MutationObserver((mutations) => {
  mutations.forEach((mutation) => {
    console.warn("ğŸ” DOM è¢«ä¿®æ”¹ï¼", {
      ç›®æ¨™å…ƒç´ : mutation.target,
      ä¿®æ”¹é¡å‹: mutation.type,
      èˆŠå€¼: mutation.oldValue,
      æ–°å€¼: mutation.target.textContent,
    });
    console.trace("ä¿®æ”¹ä¾†æº"); // é¡¯ç¤ºæ˜¯ã€Œèª°ã€æ”¹çš„
  });
});

observer.observe(scoreElement, {
  childList: true, // å­å…ƒç´ è®ŠåŒ–
  characterData: true, // æ–‡å­—å…§å®¹è®ŠåŒ–
  attributes: true, // å±¬æ€§è®ŠåŒ–ï¼ˆå¦‚ classã€styleï¼‰
  attributeOldValue: true, // è¨˜éŒ„å±¬æ€§èˆŠå€¼
  characterDataOldValue: true, // è¨˜éŒ„æ–‡å­—èˆŠå€¼
  subtree: true, // ç›£æ§æ‰€æœ‰å¾Œä»£å…ƒç´ 
});

// ä¸éœ€è¦ç›£æ§æ™‚åœæ­¢
// observer.disconnect();
```

#### DCCS éŠæˆ²æ‡‰ç”¨

```javascript
// ç›£æ§éŠæˆ²é¢æ¿çš„æ„å¤–è®ŠåŒ–
function debugWatchGameBoard() {
  const gameBoard = document.getElementById("game-board");
  if (!gameBoard) return;

  const observer = new MutationObserver((mutations) => {
    mutations.forEach((mutation) => {
      if (mutation.type === "childList") {
        console.warn("ğŸ® éŠæˆ²é¢æ¿å­å…ƒç´ è®ŠåŒ–", {
          æ–°å¢: mutation.addedNodes.length,
          ç§»é™¤: mutation.removedNodes.length,
        });
      }
      if (mutation.type === "attributes") {
        console.warn(`ğŸ® å±¬æ€§ ${mutation.attributeName} è®ŠåŒ–`, {
          èˆŠå€¼: mutation.oldValue,
          æ–°å€¼: mutation.target.getAttribute(mutation.attributeName),
        });
      }
    });
  });

  observer.observe(gameBoard, {
    childList: true,
    attributes: true,
    attributeOldValue: true,
    subtree: true,
  });

  return observer; // å›å‚³ä»¥ä¾¿ä¹‹å¾Œ disconnect
}
```

**MutationObserver vs DOM æ–·é»æ¯”è¼ƒï¼š**

| ç‰¹æ€§         | MutationObserver  | Chrome DOM æ–·é»   |
| ------------ | ----------------- | ----------------- |
| éœ€è¦å¯«ç¨‹å¼ç¢¼ | âœ… æ˜¯             | âŒ ä¸ç”¨           |
| å¯åŠ è‡ªè¨‚æ¢ä»¶ | âœ… éå¸¸éˆæ´»       | âŒ åªèƒ½é¸ä¸‰ç¨®é¡å‹ |
| è¨˜éŒ„æ­·å²     | âœ… å¯è‡ªè¡Œå„²å­˜     | âŒ åªèƒ½æš«åœç•¶æ¬¡   |
| æ­£å¼ç‰ˆå¯ç”¨   | âœ… å¯ç”¨æ–¼éŒ¯èª¤ç›£æ§ | âŒ åƒ…é™ DevTools  |
| æœƒæš«åœç¨‹å¼   | âŒ ä¸æœƒ           | âœ… æœƒæš«åœ         |

---

### 7. Async/Await é™¤éŒ¯æŠ€å·§ ğŸ†•

åœ¨ä½¿ç”¨ Firebaseï¼ˆéåŒæ­¥æ“ä½œï¼‰æ™‚ç‰¹åˆ¥é‡è¦ã€‚å¤§å¤šæ•¸ã€Œå€¼æ˜¯ undefinedã€çš„å•é¡Œéƒ½å‡ºåœ¨éåŒæ­¥è™•ç†ï¼š

#### å¸¸è¦‹é™·é˜±ï¼šå¿˜è¨˜ `await`

```javascript
// âŒ å¸¸è¦‹éŒ¯èª¤ï¼šå¿˜è¨˜ awaitï¼Œçµæœæ˜¯ Promise ç‰©ä»¶è€Œéå¯¦éš›è³‡æ–™
async function getScore() {
  const snapshot = firebase.database().ref("scores").once("value"); // å°‘äº† await!
  console.log(snapshot); // â†’ Promise {<pending>}  ä¸æ˜¯å¯¦éš›è³‡æ–™ï¼
  return snapshot; // å›å‚³çš„æ˜¯ Promiseï¼Œä¸æ˜¯å€¼
}

// âœ… æ­£ç¢ºå¯«æ³•
async function getScore() {
  const snapshot = await firebase.database().ref("scores").once("value");
  console.log(snapshot.val()); // â†’ { player1: 95, player2: 87 }
  return snapshot.val();
}
```

#### å¿«é€Ÿè¨ºæ–·æŠ€å·§

```javascript
// ğŸ’¡ åœ¨ Console çœ‹åˆ°ä»¥ä¸‹å…§å®¹ï¼Œå¹¾ä¹ 100% æ˜¯æ¼äº† awaitï¼š
// Promise {<pending>}
// [object Promise]
// undefinedï¼ˆå› ç‚º Promise é‚„æ²’ resolveï¼‰

// é™¤éŒ¯æ–¹æ³•ï¼šåœ¨å¯ç–‘çš„è®Šæ•¸å¾Œé¢åŠ é€™è¡Œ
console.log("å‹åˆ¥:", typeof result, "å€¼:", result);
// å¦‚æœé¡¯ç¤º "å‹åˆ¥: object å€¼: Promise {<pending>}" â†’ å°±æ˜¯å¿˜äº† await
```

#### éåŒæ­¥éŒ¯èª¤çš„æ­£ç¢ºæ•æ‰

```javascript
// âŒ try-catch ç„¡æ³•æ•æ‰æ²’æœ‰ await çš„ Promise éŒ¯èª¤
try {
  firebase.database().ref("scores").set({ score: 100 }); // æ²’æœ‰ await
  console.log("å„²å­˜æˆåŠŸ"); // é€™æœƒç«‹å³åŸ·è¡Œï¼Œä¸ç­‰ Firebase
} catch (error) {
  console.error(error); // æ°¸é ä¸æœƒè¢«è§¸ç™¼ï¼
}

// âœ… æ­£ç¢ºï¼šä¸€å®šè¦ await
try {
  await firebase.database().ref("scores").set({ score: 100 });
  console.log("å„²å­˜æˆåŠŸ"); // ç¢ºå¯¦ç­‰åˆ° Firebase å®Œæˆå¾Œæ‰åŸ·è¡Œ
} catch (error) {
  console.error("å„²å­˜å¤±æ•—:", error); // å¯ä»¥æ­£ç¢ºæ•æ‰éŒ¯èª¤
}
```

#### å¤šå€‹éåŒæ­¥æ“ä½œçš„é™¤éŒ¯

```javascript
// è¿½è¹¤å¤šå€‹éåŒæ­¥æ“ä½œ
async function initGame() {
  console.time("â±ï¸ ç¸½åˆå§‹åŒ–æ™‚é–“");

  console.time("â±ï¸ 1.è¼‰å…¥è¨­å®š");
  const config = await loadConfig();
  console.timeEnd("â±ï¸ 1.è¼‰å…¥è¨­å®š");

  console.time("â±ï¸ 2.Firebase é€£ç·š");
  await connectFirebase();
  console.timeEnd("â±ï¸ 2.Firebase é€£ç·š");

  console.time("â±ï¸ 3.è¼‰å…¥è³‡æº");
  await loadAssets();
  console.timeEnd("â±ï¸ 3.è¼‰å…¥è³‡æº");

  console.timeEnd("â±ï¸ ç¸½åˆå§‹åŒ–æ™‚é–“");
  // è¼¸å‡ºï¼š
  // â±ï¸ 1.è¼‰å…¥è¨­å®š: 45ms
  // â±ï¸ 2.Firebase é€£ç·š: 234ms  â† åŸä¾†æ˜¯é€™è£¡æœ€æ…¢ï¼
  // â±ï¸ 3.è¼‰å…¥è³‡æº: 89ms
  // â±ï¸ ç¸½åˆå§‹åŒ–æ™‚é–“: 368ms
}
```

**æœ€ä½³ä½¿ç”¨æ™‚æ©Ÿï¼š**

- Firebase æ“ä½œçµæœæ˜¯ `undefined`
- ç¨‹å¼ç¢¼ã€Œè·³éã€äº†æŸæ®µé‚è¼¯
- éŒ¯èª¤æ²’æœ‰è¢« `try-catch` æ•æ‰åˆ°
- Console çœ‹åˆ° `Promise {<pending>}`

---

### 8. JSON å¾ªç’°åƒè€ƒè™•ç† ğŸ†•

åœ¨ `console.log` æˆ– `JSON.stringify` è¤‡é›œç‰©ä»¶æ™‚ï¼Œæœ‰æ™‚æœƒé‡åˆ° `"Converting circular structure to JSON"` éŒ¯èª¤ï¼š

```javascript
// âŒ æœƒå‡ºéŒ¯çš„æƒ…æ³
const player = { name: "ç©å®¶A" };
const game = { player: player };
player.currentGame = game; // å¾ªç’°åƒè€ƒï¼player â†’ game â†’ player â†’ ...

JSON.stringify(player); // âŒ TypeError: Converting circular structure to JSON
```

#### è§£æ±ºæ–¹æ¡ˆï¼šå®‰å…¨çš„ JSON åºåˆ—åŒ–

```javascript
/**
 * å®‰å…¨çš„ JSON åºåˆ—åŒ–ï¼Œè‡ªå‹•è™•ç†å¾ªç’°åƒè€ƒ
 * @param {*} obj - è¦åºåˆ—åŒ–çš„ç‰©ä»¶
 * @param {number} indent - ç¸®æ’ç©ºæ ¼æ•¸
 * @returns {string} JSON å­—ä¸²
 */
function safeStringify(obj, indent = 2) {
  const seen = new WeakSet();
  return JSON.stringify(
    obj,
    (key, value) => {
      if (typeof value === "object" && value !== null) {
        if (seen.has(value)) return "[å¾ªç’°åƒè€ƒ]";
        seen.add(value);
      }
      return value;
    },
    indent,
  );
}

// ä½¿ç”¨
console.log(safeStringify(player));
// è¼¸å‡ºï¼š
// {
//   "name": "ç©å®¶A",
//   "currentGame": {
//     "player": "[å¾ªç’°åƒè€ƒ]"
//   }
// }
```

#### åœ¨é™¤éŒ¯ç³»çµ±ä¸­æ•´åˆ

```javascript
// åœ¨è‡ªè¨‚ DEBUG ç³»çµ±ä¸­ä½¿ç”¨
DEBUG.safeLog = function (label, obj) {
  try {
    console.log(label, JSON.parse(safeStringify(obj)));
  } catch (e) {
    console.log(label, obj); // é€€å›åˆ°ä¸€èˆ¬ log
  }
};

// ä½¿ç”¨
DEBUG.safeLog("éŠæˆ²ç‹€æ…‹:", complexGameState);
```

**æœ€ä½³ä½¿ç”¨æ™‚æ©Ÿï¼š**

- ç‰©ä»¶æœ‰äº’ç›¸åƒè€ƒçš„é—œä¿‚
- åŒ¯å‡ºæˆ–å‚³é€é™¤éŒ¯è³‡æ–™åˆ°å¾Œç«¯æ™‚
- ä½¿ç”¨ `localStorage` å„²å­˜è¤‡é›œç‰©ä»¶æ™‚

[â†‘ å›åˆ°ç›®éŒ„](#ç›®éŒ„)

---

## Chrome DevTools é€²éšæ–·é»

é™¤äº† `debugger` èªå¥ï¼ŒChrome DevTools æä¾›å¤šç¨®é€²éšæ–·é»åŠŸèƒ½ï¼š

### æ–·é»é¡å‹ä¸€è¦½

| æ–·é»é¡å‹           | å¦‚ä½•è¨­å®š                              | æœ€ä½³ç”¨é€”           |
| ------------------ | ------------------------------------- | ------------------ |
| **è¡Œæ–·é»**         | é»æ“Š Sources é¢æ¿çš„è¡Œè™Ÿ               | åœåœ¨ç‰¹å®šç¨‹å¼ç¢¼è¡Œ   |
| **æ¢ä»¶æ–·é»**       | å³éµè¡Œè™Ÿ â†’ Add conditional breakpoint | åªåœ¨ç‰¹å®šæ¢ä»¶æš«åœ   |
| **Logpoint**       | å³éµè¡Œè™Ÿ â†’ Add logpoint               | ä¸æš«åœï¼Œåªè¼¸å‡º log |
| **DOM è®ŠåŒ–æ–·é»**   | å³éµå…ƒç´  â†’ Break on                   | è¿½è¹¤ DOM è¢«èª°ä¿®æ”¹  |
| **XHR/Fetch æ–·é»** | Sources â†’ XHR/fetch Breakpoints       | ç›£æ§ç‰¹å®š API è«‹æ±‚  |
| **äº‹ä»¶æ–·é»**       | Sources â†’ Event Listener Breakpoints  | ç›£æ§ç‰¹å®šäº‹ä»¶è§¸ç™¼   |
| **ç•°å¸¸æ–·é»**       | Sources â†’ â¸ æŒ‰éˆ•                      | åœ¨éŒ¯èª¤ç™¼ç”Ÿæ™‚æš«åœ   |

### 1. æ¢ä»¶æ–·é»

åªåœ¨ç‰¹å®šæ¢ä»¶æ™‚æ‰æš«åœï¼š

```javascript
// å³éµè¡Œè™Ÿ â†’ Add conditional breakpoint
// è¼¸å…¥æ¢ä»¶ï¼šscore > 100
function updateScore(score) {
  playerScore = score; // <- è¨­å®šæ¢ä»¶æ–·é»ï¼šscore > 100
  updateDisplay();
}

// å…¶ä»–å¸¸ç”¨æ¢ä»¶
// playerId === 'player1'
// cardType === 'star'
// currentRound >= 5
// error !== null
```

### 2. Logpointï¼ˆä¸æš«åœçš„æ–·é»ï¼‰

åœ¨ä¸ä¿®æ”¹ç¨‹å¼ç¢¼çš„æƒ…æ³ä¸‹åŠ å…¥ logï¼š

```javascript
// å³éµè¡Œè™Ÿ â†’ Add logpoint
// è¼¸å…¥ï¼š'Score updated:', score, 'Player:', playerId

function updateScore(score, playerId) {
  // <- è¨­å®š logpointï¼Œæœƒè¼¸å‡ºä½†ä¸æš«åœ
  scores[playerId] = score;
}
```

### 3. DOM è®ŠåŒ–æ–·é»

è¿½è¹¤ DOM å…ƒç´ è¢«èª°ä¿®æ”¹ï¼š

```
æ­¥é©Ÿï¼š
1. åœ¨ Elements é¢æ¿æ‰¾åˆ°ç›®æ¨™å…ƒç´ 
2. å³éµ â†’ Break on
3. é¸æ“‡ï¼š
   - subtree modifications: å­å…ƒç´ è®ŠåŒ–æ™‚æš«åœ
   - attribute modifications: å±¬æ€§è®ŠåŒ–æ™‚æš«åœ
   - node removal: å…ƒç´ è¢«ç§»é™¤æ™‚æš«åœ
```

#### é©ç”¨å ´æ™¯

- å¡ç‰‡å…§å®¹æ„å¤–è¢«æ¸…ç©º
- åˆ†æ•¸é¡¯ç¤ºæ„å¤–è®ŠåŒ–
- æŒ‰éˆ•è«åè¢«ç¦ç”¨
- æ¨£å¼è¢«æ„å¤–è¦†è“‹

### 4. XHR/Fetch æ–·é»

ç›£æ§ç‰¹å®šçš„ç¶²è·¯è«‹æ±‚ï¼š

```
æ­¥é©Ÿï¼š
1. æ‰“é–‹ Sources é¢æ¿
2. æ‰¾åˆ° XHR/fetch Breakpoints
3. é»æ“Š + è™Ÿ
4. è¼¸å…¥ URL é—œéµå­—ï¼ˆå¦‚ 'scores' æˆ– 'firebase'ï¼‰
5. ç•¶è«‹æ±‚è©² URL æ™‚æœƒæš«åœ
```

### 5. äº‹ä»¶æ–·é»

åœ¨ç‰¹å®šäº‹ä»¶è§¸ç™¼æ™‚æš«åœï¼š

```
æ­¥é©Ÿï¼š
1. æ‰“é–‹ Sources é¢æ¿
2. å±•é–‹ Event Listener Breakpoints
3. å‹¾é¸è¦ç›£æ§çš„äº‹ä»¶ï¼š
   - Mouse â†’ click
   - Keyboard â†’ keydown
   - Touch â†’ touchstart
   - Animation â†’ animationstart
```

#### é©ç”¨å ´æ™¯

- æ‰¾å‡ºæ˜¯å“ªå€‹å…ƒç´ æ””æˆªäº†é»æ“Šäº‹ä»¶
- è¿½è¹¤éµç›¤äº‹ä»¶çš„è™•ç†æµç¨‹
- åµæ¸¬å‹•ç•«è§¸ç™¼æ™‚æ©Ÿ

### 6. Console é¢æ¿å¯†æŠ€æŒ‡ä»¤ ğŸ†•

é€™äº›æ˜¯ Chrome Console ä¸­çš„**å…§å»ºæŒ‡ä»¤**ï¼Œåªèƒ½åœ¨ Console é¢æ¿ç›´æ¥è¼¸å…¥ï¼Œä¸èƒ½å¯«åœ¨ç¨‹å¼ç¢¼ä¸­ï¼š

#### å¸¸ç”¨å¯†æŠ€ä¸€è¦½

| æŒ‡ä»¤                        | åŠŸèƒ½                               | ä½¿ç”¨æƒ…å¢ƒ             |
| --------------------------- | ---------------------------------- | -------------------- |
| `$0`                        | å–å¾— Elements é¢æ¿ä¸­ç›®å‰é¸å–çš„å…ƒç´  | å¿«é€Ÿæ“ä½œé¸å–çš„ DOM   |
| `$_`                        | å–å¾—ä¸Šä¸€å€‹ Console åŸ·è¡Œçµæœ        | ä¸²æ¥æ“ä½œ             |
| `$$('selector')`            | ç­‰åŒ `document.querySelectorAll`   | å¿«é€ŸæŸ¥è©¢å¤šå€‹å…ƒç´      |
| `$x('xpath')`               | ç”¨ XPath æŸ¥è©¢å…ƒç´                   | è¤‡é›œçš„å…ƒç´ å®šä½       |
| `copy(object)`              | æŠŠç‰©ä»¶è¤‡è£½åˆ°å‰ªè²¼ç°¿                 | åŒ¯å‡ºè³‡æ–™åˆ°æ–‡å­—ç·¨è¼¯å™¨ |
| `monitor(fn)`               | ç›£æ§å‡½å¼è¢«å‘¼å«                     | è¿½è¹¤å‡½å¼è§¸ç™¼         |
| `unmonitor(fn)`             | åœæ­¢ç›£æ§å‡½å¼                       | çµæŸè¿½è¹¤             |
| `monitorEvents(el)`         | ç›£æ§å…ƒç´ ä¸Šçš„æ‰€æœ‰äº‹ä»¶               | æ‰¾å‡ºäº‹ä»¶å•é¡Œ         |
| `unmonitorEvents(el)`       | åœæ­¢ç›£æ§äº‹ä»¶                       | çµæŸäº‹ä»¶è¿½è¹¤         |
| `getEventListeners(el)`     | åˆ—å‡ºå…ƒç´ ä¸Šæ‰€æœ‰äº‹ä»¶ç›£è½å™¨           | æ‰¾äº‹ä»¶è¡çª           |
| `keys(obj)` / `values(obj)` | åˆ—å‡ºç‰©ä»¶çš„éµ/å€¼                    | å¿«é€Ÿæª¢è¦–ç‰©ä»¶çµæ§‹     |
| `clear()`                   | æ¸…é™¤ Console                       | æ¸…ç†ç•«é¢             |

#### å¯¦éš›ä½¿ç”¨ç¯„ä¾‹

```javascript
// --- ä»¥ä¸‹éƒ½æ˜¯åœ¨ Chrome Console é¢æ¿ä¸­ç›´æ¥è¼¸å…¥ ---

// 1. $0ï¼šæ“ä½œ Elements é¢æ¿é¸å–çš„å…ƒç´ 
//    å…ˆåœ¨ Elements é¢æ¿é»é¸ä¸€å€‹å…ƒç´ ï¼Œç„¶å¾Œåˆ° Console è¼¸å…¥ï¼š
$0.style.border = "3px solid red"; // å¹«é¸å–çš„å…ƒç´ åŠ ç´…æ¡†
$0.textContent; // æŸ¥çœ‹æ–‡å­—å…§å®¹
$0.click(); // æ¨¡æ“¬é»æ“Š

// 2. $_ï¼šä½¿ç”¨ä¸Šä¸€å€‹çµæœ
2 + 3; // â†’ 5
$_ * 10; // â†’ 50ï¼ˆä½¿ç”¨ä¸Šä¸€å€‹çµæœ 5ï¼‰

// 3. $$ï¼šå¿«é€ŸæŸ¥å…ƒç´ 
$$(".card"); // å–å¾—æ‰€æœ‰å¡ç‰‡å…ƒç´ 
$$(".card").length; // æŸ¥çœ‹æœ‰å¹¾å¼µå¡ç‰‡
$$(".card.flipped").length; // æŸ¥çœ‹å·²ç¿»é–‹å¹¾å¼µ

// 4. copyï¼šè¤‡è£½åˆ°å‰ªè²¼ç°¿
copy(GameLogic.state); // æŠŠéŠæˆ²ç‹€æ…‹è¤‡è£½å‡ºä¾†
copy($$(".card").map((c) => c.id)); // è¤‡è£½æ‰€æœ‰å¡ç‰‡ ID

// 5. monitorï¼šç›£æ§å‡½å¼å‘¼å«
monitor(GameLogic.handleResponse); // ç›£æ§å›æ‡‰è™•ç†å‡½å¼
// æ¯æ¬¡è¢«å‘¼å«æ™‚æœƒè‡ªå‹•è¼¸å‡ºï¼š
// â†’ function handleResponse called with arguments: [...]

unmonitor(GameLogic.handleResponse); // åœæ­¢ç›£æ§

// 6. monitorEventsï¼šç›£æ§å…ƒç´ äº‹ä»¶
monitorEvents(document.getElementById("start-button"), "click");
// é»æ“ŠæŒ‰éˆ•æ™‚æœƒè‡ªå‹•è¼¸å‡ºäº‹ä»¶ç‰©ä»¶

// ç›£æ§å¤šç¨®äº‹ä»¶
monitorEvents($0, ["click", "mouseenter", "mouseleave"]);

unmonitorEvents($0); // åœæ­¢ç›£æ§

// 7. getEventListenersï¼šæŸ¥çœ‹äº‹ä»¶ç¶å®š
getEventListeners(document.getElementById("start-button"));
// â†’ { click: [{listener: Æ’, type: 'click', ...}] }
// å¯ä»¥çœ‹åˆ°ç¶äº†å¹¾å€‹äº‹ä»¶ã€æ˜¯å“ªå€‹å‡½å¼
```

**æœ€ä½³ä½¿ç”¨æ™‚æ©Ÿï¼š**

- æƒ³å¿«é€Ÿæ¸¬è©¦ DOM æ“ä½œä½†ä¸æƒ³æ”¹ç¨‹å¼ç¢¼
- æƒ³åŒ¯å‡ºè¤‡é›œè³‡æ–™çµæ§‹åˆ°å…¶ä»–å·¥å…·åˆ†æ
- æƒ³è¿½è¹¤ã€Œåˆ°åº•æ˜¯èª°è§¸ç™¼äº†é€™å€‹å‡½å¼ï¼Ÿã€
- æƒ³çŸ¥é“æŸå€‹å…ƒç´ ç¶äº†å“ªäº›äº‹ä»¶ç›£è½å™¨

---

### 7. Live Expressionsï¼ˆå³æ™‚é‹ç®—å¼ï¼‰ğŸ†•

**ä¸éœ€è¦å¯«ä»»ä½•ç¨‹å¼ç¢¼**å°±èƒ½å³æ™‚ç›£æ§è®Šæ•¸ï¼Œæ¯” Visual Debug é¢æ¿æ›´è¼•é‡ï¼š

#### ä½¿ç”¨æ–¹å¼

```
æ­¥é©Ÿï¼š
1. æ‰“é–‹ Console é¢æ¿
2. é»æ“Šä¸Šæ–¹çš„ ğŸ‘ï¸ åœ–ç¤ºï¼ˆCreate live expressionï¼‰
3. è¼¸å…¥è¦ç›£æ§çš„ JavaScript è¡¨é”å¼
4. è©²è¡¨é”å¼çš„å€¼æœƒæŒçºŒå³æ™‚æ›´æ–°
```

#### æ¨è–¦ç›£æ§çš„è¡¨é”å¼

```javascript
// ğŸ® éŠæˆ²ç‹€æ…‹ç›£æ§
GameLogic.state.currentRound; // å³æ™‚çœ‹åˆ°ç›®å‰å›åˆ
GameLogic.state.score; // å³æ™‚çœ‹åˆ°åˆ†æ•¸
GameLogic.state.isPlaying; // æ˜¯å¦éŠæˆ²ä¸­
GameLogic.state.currentStimulus; // ç›®å‰åˆºæ¿€ç‰©

// ğŸ“ DOM ç‹€æ…‹ç›£æ§
document.activeElement; // ç›®å‰ç„¦é»åœ¨å“ªå€‹å…ƒç´ 
document
  .querySelectorAll(".card")
  .length(
    // å¡ç‰‡æ•¸é‡

    // ğŸ’¾ è¨˜æ†¶é«”ç›£æ§
    performance.memory.usedJSHeapSize / 1048576,
  )
  .toFixed(1) + " MB";

// â±ï¸ æ™‚é–“ç›£æ§
new Date().toLocaleTimeString(); // å³æ™‚æ™‚é˜
```

**Live Expressions vs Visual Debug é¢æ¿æ¯”è¼ƒï¼š**

| ç‰¹æ€§         | Live Expressions        | Visual Debug é¢æ¿         |
| ------------ | ----------------------- | ------------------------- |
| éœ€è¦å¯«ç¨‹å¼ç¢¼ | âŒ å®Œå…¨ä¸ç”¨             | âœ… éœ€è¦å»ºç«‹é¢æ¿å’Œæ›´æ–°é‚è¼¯ |
| é®æ“‹éŠæˆ²ç•«é¢ | âŒ åªåœ¨ DevTools ä¸­é¡¯ç¤º | âœ… æœƒæµ®åœ¨ç•«é¢ä¸Š           |
| å¯è‡ªè¨‚æ¨£å¼   | âŒ ä¸è¡Œ                 | âœ… å®Œå…¨å¯è‡ªè¨‚             |
| é—œé–‰å¾Œä¿ç•™   | âŒ é‡é–‹ DevTools éœ€é‡è¨­ | âœ… å¯«åœ¨ç¨‹å¼ç¢¼ä¸­æœƒä¿ç•™     |
| é©åˆå°è±¡     | é–‹ç™¼è€…è‡ªå·±é™¤éŒ¯          | é–‹ç™¼è€… + æ¸¬è©¦å“¡           |

[â†‘ å›åˆ°ç›®éŒ„](#ç›®éŒ„)

---

## é™¤éŒ¯æ€ç¶­æ–¹æ³•è«– ğŸ†•

é™¤äº†å·¥å…·ä¹‹å¤–ï¼Œ**æ€è€ƒç­–ç•¥**å¾€å¾€æ¯”ä»»ä½•å·¥å…·éƒ½æ›´å¿«æ‰¾åˆ°å•é¡Œï¼š

### 1. ğŸ¦† æ©¡çš®é´¨é™¤éŒ¯æ³•ï¼ˆRubber Duck Debuggingï¼‰

æŠŠå•é¡Œ**ä¸€æ­¥ä¸€æ­¥èªªå‡ºä¾†**ï¼ˆå°æ©¡çš®é´¨ã€å°åŒå­¸ã€å° AIï¼‰ï¼Œåœ¨è§£é‡‹çš„éç¨‹ä¸­ä½ ç¶“å¸¸æœƒçªç„¶ç™¼ç¾å•é¡Œåœ¨å“ªã€‚

```
ä½¿ç”¨æ–¹å¼ï¼š
1. æº–å‚™ä¸€éš»æ©¡çš®é´¨ï¼ˆæˆ–ä»»ä½•ç‰©å“ï¼Œç”šè‡³æƒ³åƒçš„ä¹Ÿè¡Œï¼‰
2. å‘å®ƒè§£é‡‹ä½ çš„ç¨‹å¼ç¢¼ã€Œæ‡‰è©²ã€è¦åšä»€éº¼
3. é€è¡Œè§£é‡‹ä½ çš„ç¨‹å¼ç¢¼ã€Œå¯¦éš›ä¸Šã€åœ¨åšä»€éº¼
4. ç•¶è§£é‡‹å’Œå¯¦éš›æœ‰å·®ç•°æ™‚ â†’ é‚£å°±æ˜¯ bug æ‰€åœ¨ï¼
```

**ç‚ºä»€éº¼æœ‰æ•ˆï¼š**

- å¯«ç¨‹å¼æ™‚å¤§è…¦å¸¸èµ°ã€Œæ·å¾‘ã€è·³éé‚è¼¯
- ç”¨èªè¨€è§£é‡‹æœƒå¼·è¿«ä½ ã€Œæ…¢ä¸‹ä¾†ã€é€æ­¥æ€è€ƒ
- å¾ˆå¤šæ™‚å€™å•é¡Œåœ¨ä½ èªªå‡ºä¾†çš„é‚£ä¸€åˆ»å°±è‡ªå·±æ‰¾åˆ°äº†

**å¯¦éš›ç¯„ä¾‹ï¼š**

```
ï¼ˆä½ å°æ©¡çš®é´¨èªªï¼‰
ã€Œé€™å€‹ handleResponse å‡½å¼ï¼Œç•¶ç©å®¶æŒ‰ä¸‹æŒ‰éˆ•æ™‚...
  é¦–å…ˆæˆ‘æª¢æŸ¥ isPlaying æ˜¯å¦ç‚º true...
  ç„¶å¾Œæˆ‘ç”¨ Date.now() æ¸›å» startTime ç®—åæ‡‰æ™‚é–“...
  ç­‰ç­‰ï¼ŒstartTime æ˜¯ä»€éº¼æ™‚å€™è¨­å®šçš„ï¼Ÿ
  å®ƒæ˜¯åœ¨ showStimulus è£¡è¨­å®šçš„...
  ä½†å¦‚æœç©å®¶æŒ‰å¤ªå¿«ï¼ŒshowStimulus é‚„æ²’åŸ·è¡Œå®Œ...
  å•Šï¼æ‰¾åˆ°äº†ï¼startTime å¯èƒ½æ˜¯ 0ï¼ã€
```

---

### 2. ğŸ” äºŒåˆ†æ³•é™¤éŒ¯ï¼ˆBinary Search Debuggingï¼‰

ç•¶ä½ **å®Œå…¨ä¸çŸ¥é“å•é¡Œåœ¨å“ª**æ™‚ï¼Œé€™æ˜¯æœ€æœ‰æ•ˆç‡çš„ç³»çµ±åŒ–æ–¹æ³•ã€‚ç‰¹åˆ¥é©åˆå¤§å‹æª”æ¡ˆï¼ˆå¦‚ 2000+ è¡Œçš„ç¨‹å¼ç¢¼ï¼‰ï¼š

```
åŸç†ï¼š
å°±åƒåœ¨å­—å…¸è£¡æŸ¥å­—ä¸€æ¨£ï¼Œä¸è¦å¾ç¬¬ä¸€é ç¿»åˆ°æœ€å¾Œä¸€é ï¼Œ
è€Œæ˜¯æ¯æ¬¡ç¿»åˆ°ã€Œä¸­é–“ã€ï¼Œåˆ¤æ–·ç›®æ¨™åœ¨å‰åŠé‚„æ˜¯å¾ŒåŠã€‚

æ­¥é©Ÿï¼š
1. åœ¨ç¨‹å¼ç¢¼ã€Œä¸­é–“ã€ä½ç½®åŠ  console.log('===== ä¸­é–“é» =====');
2. åŸ·è¡Œç¨‹å¼ï¼Œçœ‹éŒ¯èª¤æ˜¯åœ¨ä¸­é–“é»ä¹‹å‰é‚„æ˜¯ä¹‹å¾Œ
3. åœ¨ç¢ºèªæœ‰å•é¡Œçš„é‚£ä¸€åŠçš„ã€Œä¸­é–“ã€å†åŠ  console.log
4. é‡è¤‡æ­¥é©Ÿ 2-3ï¼Œç›´åˆ°ç¸®å°åˆ°å¹¾è¡Œ

æ•ˆç‡åˆ†æï¼š
- 2000 è¡Œçš„ç¨‹å¼ç¢¼
- ç¬¬ 1 æ¬¡ï¼šç¸®å°åˆ° 1000 è¡Œ
- ç¬¬ 2 æ¬¡ï¼šç¸®å°åˆ° 500 è¡Œ
- ç¬¬ 3 æ¬¡ï¼šç¸®å°åˆ° 250 è¡Œ
- ...
- ç¬¬ 11 æ¬¡ï¼šç¸®å°åˆ° 1 è¡Œï¼
- åªéœ€è¦ 11 æ¬¡å°±èƒ½åœ¨ 2000 è¡Œä¸­æ‰¾åˆ°å•é¡Œè¡Œ
```

#### å¯¦éš›æ“ä½œç¯„ä¾‹

```javascript
// game-logic.js æœ‰ 2460 è¡Œï¼ŒéŠæˆ²å•Ÿå‹•æ™‚å‡ºéŒ¯ä½†ä¸çŸ¥é“åœ¨å“ª

// ç¬¬ 1 æ­¥ï¼šåœ¨ç¬¬ 1230 è¡Œé™„è¿‘åŠ 
console.log("===== åˆ°é”ä¸­é–“é» =====");

// åŸ·è¡Œ â†’ Console æœ‰é¡¯ç¤ºã€Œåˆ°é”ä¸­é–“é»ã€â†’ å•é¡Œåœ¨å¾ŒåŠéƒ¨ï¼ˆ1230-2460 è¡Œï¼‰

// ç¬¬ 2 æ­¥ï¼šåœ¨ç¬¬ 1845 è¡Œé™„è¿‘åŠ 
console.log("===== åˆ°é” 3/4 é» =====");

// åŸ·è¡Œ â†’ Console æ²’æœ‰é¡¯ç¤º â†’ å•é¡Œåœ¨ 1230-1845 è¡Œä¹‹é–“

// ç¬¬ 3 æ­¥ï¼šåœ¨ç¬¬ 1538 è¡Œé™„è¿‘åŠ 
console.log("===== åˆ°é” 5/8 é» =====");

// ... é‡è¤‡ç›´åˆ°æ‰¾åˆ°å‡ºéŒ¯çš„é‚£ä¸€è¡Œ
```

---

### 3. ğŸ”™ git bisect â€” æ‰¾å‡ºã€Œæ˜¯å“ªæ¬¡ä¿®æ”¹å¼„å£çš„ã€

ç•¶ç¨‹å¼çªç„¶å£äº†ï¼Œä½†ä½ ä¸ç¢ºå®šæ˜¯å“ªæ¬¡ä¿®æ”¹é€ æˆçš„ã€‚`git bisect` æœƒç”¨äºŒåˆ†æ³•è‡ªå‹•å¹«ä½ æ‰¾åˆ°æœ‰å•é¡Œçš„ commitï¼š

```bash
# é–‹å§‹ bisect
git bisect start

# æ¨™è¨˜ç›®å‰ç‰ˆæœ¬æœ‰å•é¡Œ
git bisect bad

# æ¨™è¨˜ä½ è¨˜å¾—æ­£å¸¸çš„èˆŠç‰ˆæœ¬ï¼ˆç”¨ commit hash æˆ– tagï¼‰
git bisect good abc123

# Git æœƒè‡ªå‹•åˆ‡æ›åˆ°ä¸­é–“çš„ commit
# ä½ æ¸¬è©¦ä¸€ä¸‹é€™å€‹ç‰ˆæœ¬æ˜¯å¦æ­£å¸¸ï¼Œç„¶å¾Œå›ç­”ï¼š
git bisect good   # é€™å€‹ç‰ˆæœ¬æ˜¯å¥½çš„
# æˆ–
git bisect bad    # é€™å€‹ç‰ˆæœ¬ä¹Ÿæœ‰å•é¡Œ

# Git ç¹¼çºŒäºŒåˆ†æœå°‹ï¼Œæ¯æ¬¡å•ä½ ...
# æœ€å¾Œæœƒå‘Šè¨´ä½ ï¼š
# "abc456 is the first bad commit"
# æ‰¾åˆ°äº†ï¼å°±æ˜¯é€™æ¬¡ commit å¼„å£çš„

# çµæŸ bisectï¼Œå›åˆ°åŸæœ¬çš„åˆ†æ”¯
git bisect reset
```

#### ä½¿ç”¨æ™‚æ©Ÿ

```
âœ… é©åˆï¼š
- ã€Œæ˜¨å¤©é‚„å¥½å¥½çš„ï¼Œä»Šå¤©çªç„¶å£äº†ã€
- ã€Œä¸çŸ¥é“æ˜¯å“ªå€‹æ”¹å‹•é€ æˆçš„ã€
- æœ‰å¤šæ¬¡ commit çš„å°ˆæ¡ˆ

âŒ ä¸é©åˆï¼š
- å…¨æ–°çš„ç¨‹å¼ç¢¼ï¼ˆæ²’æœ‰èˆŠç‰ˆæœ¬å¯æ¯”è¼ƒï¼‰
- å•é¡Œå¾ä¸€é–‹å§‹å°±å­˜åœ¨
```

---

### 4. ğŸ”„ æœ€å°é‡ç¾æ³•ï¼ˆMinimal Reproductionï¼‰

ç•¶ bug å¾ˆè¤‡é›œï¼Œç‰½æ¶‰å¾ˆå¤šæª”æ¡ˆæ™‚ï¼Œå˜—è©¦ç”¨**æœ€å°‘çš„ç¨‹å¼ç¢¼**é‡ç¾å•é¡Œï¼š

```
æ­¥é©Ÿï¼š
1. å»ºç«‹ä¸€å€‹ä¹¾æ·¨çš„ HTML æª”æ¡ˆ
2. åªè¤‡è£½ä½ æ‡·ç–‘æœ‰å•é¡Œçš„é‚£éƒ¨åˆ†ç¨‹å¼ç¢¼
3. ç”¨æœ€ç°¡å–®çš„å‡è³‡æ–™æ¸¬è©¦
4. å¦‚æœèƒ½é‡ç¾ â†’ å•é¡Œå°±åœ¨é€™æ®µç¨‹å¼ç¢¼
5. å¦‚æœä¸èƒ½é‡ç¾ â†’ å•é¡Œåœ¨å…¶ä»–åœ°æ–¹ï¼ˆç’°å¢ƒã€è³‡æ–™ã€ç›¸ä¾æ€§ï¼‰
```

```html
<!-- æœ€å°é‡ç¾ç¯„ä¾‹ -->
<!DOCTYPE html>
<html>
  <body>
    <div id="test">æ¸¬è©¦</div>
    <script>
      // åªæ”¾ä½ æ‡·ç–‘æœ‰å•é¡Œçš„ç¨‹å¼ç¢¼
      // ç”¨æœ€ç°¡å–®çš„å‡è³‡æ–™
      const fakeData = { score: 100, round: 3 };

      // æ¸¬è©¦æœ‰å•é¡Œçš„å‡½å¼
      function suspectFunction(data) {
        // ... å¾å°ˆæ¡ˆä¸­è¤‡è£½éä¾†
      }

      suspectFunction(fakeData);
    </script>
  </body>
</html>
```

**ç‚ºä»€éº¼æœ‰æ•ˆï¼š**

- æ’é™¤ä¸ç›¸é—œçš„ç¨‹å¼ç¢¼å¹²æ“¾
- æ›´å®¹æ˜“èšç„¦åœ¨æ ¸å¿ƒå•é¡Œ
- æ–¹ä¾¿æ‹¿å»å•åˆ¥äººæˆ–æŸ¥è³‡æ–™

[â†‘ å›åˆ°ç›®éŒ„](#ç›®éŒ„)

---

## é™¤éŒ¯æ–¹æ³•æ¯”è¼ƒè¡¨

| æ–¹æ³•                    | å­¸ç¿’æˆæœ¬ | é™¤éŒ¯æ•ˆç‡   | é©ç”¨å ´æ™¯        | å½±éŸ¿åŸ·è¡Œ | æ­£å¼ç‰ˆè™•ç†   |
| ----------------------- | -------- | ---------- | --------------- | -------- | ------------ |
| **console.log**         | â­       | â­â­       | å¿«é€Ÿé©—è­‰è®Šæ•¸    | âŒ       | éœ€æ‰‹å‹•ç§»é™¤   |
| **console.error/warn**  | â­       | â­â­â­     | éŒ¯èª¤/è­¦å‘Š       | âŒ       | éœ€æ‰‹å‹•ç§»é™¤   |
| **console.table**       | â­       | â­â­â­â­   | é™£åˆ—/ç‰©ä»¶è³‡æ–™   | âŒ       | éœ€æ‰‹å‹•ç§»é™¤   |
| **debugger**            | â­â­     | â­â­â­â­â­ | è¤‡é›œé‚è¼¯        | âœ… æš«åœ  | å¿…é ˆç§»é™¤     |
| **Visual Debug**        | â­â­     | â­â­â­â­   | éŠæˆ²ç‹€æ…‹ç›£æ§    | âŒ       | éœ€ç§»é™¤ç¨‹å¼ç¢¼ |
| **Network Tab**         | â­â­     | â­â­â­â­   | ç¶²è·¯å•é¡Œ        | âŒ       | ç„¡éœ€è™•ç†     |
| **Try-Catch**           | â­â­     | â­â­â­     | éŒ¯èª¤è™•ç†        | âŒ       | æ‡‰ä¿ç•™       |
| **å…¨åŸŸéŒ¯èª¤ç›£è½**        | â­â­â­   | â­â­â­â­   | æ•æ‰æ‰€æœ‰éŒ¯èª¤    | âŒ       | æ‡‰ä¿ç•™       |
| **è‡ªè¨‚ DEBUG**          | â­â­â­   | â­â­â­â­â­ | ç³»çµ±åŒ–é™¤éŒ¯      | âŒ       | ä¸€éµé—œé–‰     |
| **Performance API**     | â­â­â­   | â­â­â­â­   | æ•ˆèƒ½å„ªåŒ–        | âŒ       | å¯ä¿ç•™       |
| **VS Code Debug**       | â­â­â­   | â­â­â­â­â­ | é–‹ç™¼éšæ®µ        | âœ… æš«åœ  | ç„¡éœ€è™•ç†     |
| **Proxy ç›£æ§** ğŸ†•       | â­â­â­   | â­â­â­â­   | è¿½è¹¤ç‰©ä»¶è®ŠåŒ–    | âŒ       | éœ€ç§»é™¤       |
| **æ—¥èªŒç­‰ç´šç³»çµ±** ğŸ†•     | â­â­     | â­â­â­â­   | å¯æ§åˆ¶æ—¥èªŒ      | âŒ       | èª¿æ•´ç­‰ç´šå³å¯ |
| **URL åƒæ•¸æ§åˆ¶** ğŸ†•     | â­       | â­â­â­â­   | å¿«é€Ÿé–‹é—œé™¤éŒ¯    | âŒ       | ç„¡éœ€è™•ç†     |
| **æ¢ä»¶æ–·é»** ğŸ†•         | â­â­     | â­â­â­â­â­ | ç‰¹å®šæ¢ä»¶é™¤éŒ¯    | âœ… æš«åœ  | ç„¡éœ€è™•ç†     |
| **DOM æ–·é»** ğŸ†•         | â­â­     | â­â­â­â­   | è¿½è¹¤ DOM è®ŠåŒ–   | âœ… æš«åœ  | ç„¡éœ€è™•ç†     |
| **Fetch åŒ…è£å™¨** ğŸ†•     | â­â­â­   | â­â­â­â­   | API è«‹æ±‚è¿½è¹¤    | âŒ       | éœ€ç§»é™¤       |
| **console.count** ğŸ†•    | â­       | â­â­â­     | è¨ˆç®—å‘¼å«æ¬¡æ•¸    | âŒ       | éœ€æ‰‹å‹•ç§»é™¤   |
| **console.dir** ğŸ†•      | â­       | â­â­â­     | DOM å±¬æ€§æª¢è¦–    | âŒ       | éœ€æ‰‹å‹•ç§»é™¤   |
| **Console å¯†æŠ€** ğŸ†•     | â­       | â­â­â­â­â­ | å¿«é€Ÿ DOM/äº‹ä»¶   | âŒ       | ç„¡éœ€è™•ç†     |
| **Live Expressions** ğŸ†• | â­       | â­â­â­â­   | å³æ™‚è®Šæ•¸ç›£æ§    | âŒ       | ç„¡éœ€è™•ç†     |
| **MutationObserver** ğŸ†• | â­â­â­   | â­â­â­â­   | ç¨‹å¼åŒ– DOM ç›£æ§ | âŒ       | éœ€ç§»é™¤       |
| **Async/Await é™¤éŒ¯** ğŸ†• | â­â­     | â­â­â­â­â­ | Firebase éåŒæ­¥ | âŒ       | èª¿æ•´å³å¯     |
| **äºŒåˆ†æ³•é™¤éŒ¯** ğŸ†•       | â­       | â­â­â­â­â­ | å¿«é€Ÿå®šä½å•é¡Œè¡Œ  | âŒ       | éœ€ç§»é™¤ log   |
| **git bisect** ğŸ†•       | â­â­     | â­â­â­â­â­ | æ‰¾å•é¡Œ commit   | âŒ       | ç„¡éœ€è™•ç†     |

### å•é¡Œé¡å‹å°æ‡‰é™¤éŒ¯æ–¹æ³•é€ŸæŸ¥è¡¨ ğŸ†•

| é‡åˆ°çš„å•é¡Œ              | å„ªå…ˆä½¿ç”¨æ–¹æ³•                          | å‚™ç”¨æ–¹æ³•           |
| ----------------------- | ------------------------------------- | ------------------ | --- |
| ä¸çŸ¥é“éŒ¯èª¤åœ¨å“ª          | å…¨åŸŸéŒ¯èª¤ç›£è½                          | Console éŒ¯èª¤è¨Šæ¯   |
| è®Šæ•¸å€¼ä¸å°              | `console.table` + `debugger`          | Proxy ç›£æ§         |
| ä¸çŸ¥é“èª°å‘¼å«å‡½å¼        | `console.trace()`                     | äº‹ä»¶æ–·é»           |
| ç‰©ä»¶è¢«æ„å¤–ä¿®æ”¹          | Proxy ç›£æ§                            | DOM æ–·é»           |
| DOM è¢«æ„å¤–æ”¹è®Š          | DOM è®ŠåŒ–æ–·é»                          | `MutationObserver` |
| API è«‹æ±‚å•é¡Œ            | Network Tab + Fetch åŒ…è£å™¨            | XHR æ–·é»           |
| æ•ˆèƒ½å¤ªæ…¢                | `console.time()` + Performance API    | FPS ç›£æ§           |
| åªåœ¨ç‰¹å®šæƒ…æ³å‡ºéŒ¯        | æ¢ä»¶æ–·é»                              | Logpoint           |
| æ­£å¼ç’°å¢ƒå‡ºéŒ¯            | URL åƒæ•¸æ§åˆ¶ + æ—¥èªŒç­‰ç´šç³»çµ±           | å…¨åŸŸéŒ¯èª¤ç›£è½       |
| äº‹ä»¶è¢«é‡è¤‡è§¸ç™¼          | `console.count()` + `monitor(fn)`     | äº‹ä»¶æ–·é»           |
| ä¸çŸ¥é“å…ƒç´ ç¶äº†ä»€éº¼äº‹ä»¶  | `getEventListeners($0)`               | Chrome äº‹ä»¶æ–·é»    |
| Firebase å›å‚³ undefined | Async/Await é™¤éŒ¯æŠ€å·§                  | `console.log` å‹åˆ¥ |
| æ˜¨å¤©æ­£å¸¸ä»Šå¤©å£äº†        | `git bisect`                          | äºŒåˆ†æ³•é™¤éŒ¯         |
| å®Œå…¨æ‰¾ä¸åˆ°æ–¹å‘          | æ©¡çš®é´¨é™¤éŒ¯æ³• + äºŒåˆ†æ³•                 | æœ€å°é‡ç¾æ³•         |
| JSON åºåˆ—åŒ–å‡ºéŒ¯         | `safeStringify` å¾ªç’°åƒè€ƒè™•ç†          | `console.dir()`    |
| CSS è®Šæ•¸/ä¸»é¡Œä¸å°       | Elements â†’ Computed + data-theme æª¢æŸ¥ | Force State        | ğŸ†•  |
| localStorage è³‡æ–™ç•°å¸¸   | Application Tab + Console JSON.parse  | é‡ç½®æ¸¬è©¦           | ğŸ†•  |
| iPad ä¸ŠéŸ³æ•ˆä¸æ’­         | AudioContext.state æª¢æŸ¥               | Safari Inspector   | ğŸ†•  |
| è§¸æ§å€åŸŸå¤ªå°            | checkTouchTargets() å‡½å¼              | Device Mode        | ğŸ†•  |
| å¤šäººåŒæ­¥ä¸ä¸€è‡´          | firebase.database.enableLogging(true) | å¤š Tab æ¸¬è©¦        | ğŸ†•  |
| å‹•ç•«ä¸æ’­æ”¾              | Animations é¢æ¿ + Styles æª¢æŸ¥         | Force State        | ğŸ†•  |
| CSS è®Šæ•¸/ä¸»é¡Œä¸å°       | Elements â†’ Computed + data-theme æª¢æŸ¥ | Force State        | ğŸ†•  |
| localStorage è³‡æ–™ç•°å¸¸   | Application Tab + Console JSON.parse  | é‡ç½®æ¸¬è©¦           | ğŸ†•  |
| iPad ä¸ŠéŸ³æ•ˆä¸æ’­         | AudioContext.state æª¢æŸ¥               | Safari Inspector   | ğŸ†•  |
| è§¸æ§å€åŸŸå¤ªå°            | checkTouchTargets() å‡½å¼              | Device Mode        | ğŸ†•  |
| å¤šäººåŒæ­¥ä¸ä¸€è‡´          | firebase.database.enableLogging(true) | å¤š Tab æ¸¬è©¦        | ğŸ†•  |
| å‹•ç•«ä¸æ’­æ”¾              | Animations é¢æ¿ + Styles æª¢æŸ¥         | Force State        | ğŸ†•  |

[â†‘ å›åˆ°ç›®éŒ„](#ç›®éŒ„)

---

## DCCS éŠæˆ²å°ˆç”¨é™¤éŒ¯ç­–ç•¥

> âš ï¸ v2.0 é‡å¯«ï¼ˆ2026/02/13ï¼‰ï¼šä½¿ç”¨æ­£ç¢ºçš„éŠæˆ²æ¦‚å¿µï¼ˆcombo/stimuli/æ¢ç´¢é»/WMï¼‰ï¼Œå–ä»£èˆŠç‰ˆå¡ç‰‡é…å°ç¯„ä¾‹

### é–‹ç™¼éšæ®µé…ç½®

```javascript
// åœ¨ game-config.js ä¸­åŠ å…¥
const DEV_MODE = window.location.hostname === "localhost";

// è¨­å®š DEBUG
const DEBUG = new DebugSystem({
  enabled: DEV_MODE,
  showTimestamp: true,
  prefix: "ğŸ® EFGame",
});

// è¨­å®š Visual Debug
const visualDebug = new VisualDebugger();
if (DEV_MODE) {
  visualDebug.init();
  visualDebug.startAutoUpdate(() => {
    visualDebug.update({
      æ¨¡å¼: DEV_MODE ? "é–‹ç™¼" : "æ­£å¼",
      éŠæˆ²å ´: gameState.currentField,
      è¦å‰‡: gameState.currentRule,
      "ç•¶å‰ Combo": `${gameState.currentComboIndex + 1} / ${gameState.totalCombos}`,
      ç•¶å‰é¡Œç›®: `${gameState.currentQuestion + 1} / ${gameState.questionsInCombo}`,
      å¾—åˆ†: gameState.score,
      æ­£ç¢ºç‡: `${(gameState.accuracy * 100).toFixed(0)}%`,
      "WM æ¨¡å¼": gameState.enableWM ? "é–‹å•Ÿ" : "é—œé–‰",
      åœ°åœ–é€²åº¦: `Map ${gameState.currentMapIndex + 1} / Point ${gameState.currentPointIndex + 1}`,
      FPS: Math.round(fpsMonitor.getFPS()),
    });
  }, 100);
}

// è¨­å®šå…¨åŸŸéŒ¯èª¤è™•ç†
const errorHandler = new ErrorHandler();
```

### é™¤éŒ¯æª¢æŸ¥æ¸…å–®

#### ğŸš€ éŠæˆ²å•Ÿå‹•æª¢æŸ¥

```
â–¡ Console ç„¡ç´…è‰²éŒ¯èª¤
â–¡ Network Tab æ‰€æœ‰è³‡æºè¼‰å…¥æˆåŠŸ (200)
â–¡ Firebase åŒ¿åç™»å…¥æˆåŠŸï¼ˆAuth Tab é¡¯ç¤º uidï¼‰
â–¡ stimuli-config.js è¼‰å…¥ï¼ˆåˆºæ¿€ç‰©è¨­å®šå¯ç”¨ï¼‰
â–¡ adventure-maps-config.js è¼‰å…¥ï¼ˆåœ°åœ–è¨­å®šå¯ç”¨ï¼‰
â–¡ éŸ³æ•ˆæª”æ¡ˆè¼‰å…¥ï¼ˆNetwork â†’ Media filterï¼‰
â–¡ CSS ä¸»é¡Œè¼‰å…¥ï¼ˆdata-theme æ­£ç¢ºï¼‰
â–¡ localStorage æœ‰ playerProfile å’Œ adventureProgress
```

#### ğŸ® æ ¸å¿ƒéŠæˆ²é‚è¼¯æª¢æŸ¥

```
â–¡ åˆºæ¿€ç‰©æ¸²æŸ“æ­£ç¢ºï¼ˆSVG å„ªå…ˆã€emoji fallbackï¼‰
â–¡ æ¢ä»¶æç¤ºæ­£ç¢ºï¼ˆæœ‰äºº/æ²’äºº æˆ– ç™½å¤©/æ™šä¸Šï¼‰
â–¡ Go/No-Go åˆ¤æ–·æ­£ç¢ºï¼ˆcorrectAction æ¨å°ï¼‰
â–¡ åæ‡‰æ™‚é–“è¨ˆç®—æ­£ç¢ºï¼ˆstartTime è¨­å®šæ™‚æ©Ÿï¼‰
â–¡ èªéŸ³åŒæ­¥è§¸ç™¼ï¼ˆä¸å½±éŸ¿éŠæˆ²è¨ˆæ™‚ï¼‰
â–¡ å›é¥‹å‹•ç•«æ’­æ”¾ï¼ˆpulse-green / shake-redï¼‰
â–¡ Combo æ¨é€²æ­£å¸¸ï¼ˆcurrentComboIndex éå¢ï¼‰
â–¡ WM æ¸¬é©—è§¸ç™¼æ­£ç¢ºï¼ˆå¶æ•¸æ¢ç´¢é»æ‰æœ‰ï¼‰
â–¡ åˆ†æ•¸è¨ˆç®—èˆ‡æ˜Ÿæ˜Ÿç­‰ç´šæ­£ç¢º
```

#### ğŸ—ºï¸ æ¢éšªåœ°åœ–æª¢æŸ¥

```
â–¡ æ¢ç´¢é»ç‹€æ…‹æ­£ç¢ºï¼ˆğŸ”’ / ğŸŸ¡ / âœ…ï¼‰
â–¡ é€šé—œå¾Œè§£é–ä¸‹ä¸€å€‹æ¢ç´¢é»
â–¡ fieldRuleRecords æ­£ç¢ºè¨˜éŒ„
â–¡ å…¨éƒ¨é€šé—œå¾Œè§£é–è‡ªç”±é¸æ“‡
â–¡ adventureProgress æ­£ç¢ºå„²å­˜åˆ° localStorage
```

#### ğŸ”¥ Firebase åŠŸèƒ½æª¢æŸ¥

```
â–¡ åŒ¿åç™»å…¥æˆåŠŸ
â–¡ æˆ¿é–“å»ºç«‹/åŠ å…¥æ­£å¸¸ï¼ˆRTDB rooms/ï¼‰
â–¡ gameCombos åŒæ­¥æ­£ç¢º
â–¡ comboStatus å³æ™‚æ›´æ–°
â–¡ onDisconnect æ¸…ç†ç”Ÿæ•ˆ
â–¡ allCompleted å»£æ’­è§¸ç™¼
â–¡ liveLeaderboards ä¸Šå‚³æˆåŠŸï¼ˆFirestoreï¼‰
```

#### âš¡ æ•ˆèƒ½èˆ‡è£ç½®æª¢æŸ¥

```
â–¡ FPS ç¶­æŒåœ¨ 60ï¼ˆiPad Safari æ¸¬è©¦ï¼‰
â–¡ è¨˜æ†¶é«”ä½¿ç”¨åˆç† (< 100MB)
â–¡ é é¢è¼‰å…¥ < 3 ç§’
â–¡ è§¸æ§å€åŸŸ â‰¥ 48Ã—48px
â–¡ å‹•ç•«æµæš¢ï¼ˆAnimation é¢æ¿æª¢æŸ¥ï¼‰
â–¡ éŸ¿æ‡‰å¼ä½ˆå±€æ­£å¸¸ï¼ˆDevice Mode æ¸¬è©¦ï¼‰
```

### å¸¸è¦‹å•é¡Œé™¤éŒ¯æµç¨‹

#### å•é¡Œ 1ï¼šåˆºæ¿€ç‰©æ²’æœ‰å‡ºç¾

```javascript
// é™¤éŒ¯æ­¥é©Ÿï¼š
// 1. ç¢ºèª stimuli-config.js å·²è¼‰å…¥
// 2. æª¢æŸ¥ currentPack å’Œ gameField æ˜¯å¦æ­£ç¢º
// 3. è¿½è¹¤ renderStimulus çš„å‘¼å«

function renderStimulus(stimulusType, gameField) {
  DEBUG.group("ğŸ¯ æ¸²æŸ“åˆºæ¿€ç‰©");
  DEBUG.log("åˆºæ¿€ç‰©é¡å‹", stimulusType, "gameplay");
  DEBUG.log("éŠæˆ²å ´", gameField, "gameplay");

  const pack = STIMULI_PACKS[currentPack];
  DEBUG.log("åˆºæ¿€ç‰©åŒ…", pack ? "âœ… æ‰¾åˆ°" : "âŒ æœªæ‰¾åˆ°", "gameplay");

  if (!pack) {
    DEBUG.error("STIMULI_PACKS ä¸­æ‰¾ä¸åˆ°åŒ…", { currentPack }, "gameplay");
    return;
  }

  const field = pack[gameField];
  DEBUG.log("éŠæˆ²å ´è³‡æ–™", field ? "âœ… æ‰¾åˆ°" : "âŒ æœªæ‰¾åˆ°", "gameplay");

  const stimulus = field?.goStimulus;
  DEBUG.log("SVG è·¯å¾‘", stimulus?.svgFile, "gameplay");
  DEBUG.log("Emoji fallback", stimulus?.emoji, "gameplay");
  DEBUG.groupEnd();
}
```

#### å•é¡Œ 2ï¼šGo/No-Go åˆ¤æ–·éŒ¯èª¤

```javascript
// é™¤éŒ¯æ­¥é©Ÿï¼š
// 1. å°å‡º context + stimulus çš„çµ„åˆ
// 2. ç¢ºèª correctAction çš„æ¨å°é‚è¼¯
// 3. æª¢æŸ¥ ruleType æ˜¯å¦æ­£ç¢º

function checkCorrectAction(context, stimulusType, ruleType) {
  DEBUG.group("ğŸ¯ åˆ¤æ–·æ­£ç¢ºå‹•ä½œ");
  DEBUG.log("æ¢ä»¶æç¤º", context, "gameplay"); // æœ‰äºº/æ²’äºº æˆ– ç™½å¤©/æ™šä¸Š
  DEBUG.log("åˆºæ¿€ç‰©", stimulusType, "gameplay"); // cheese/cat æˆ– fish/shark
  DEBUG.log("è¦å‰‡é¡å‹", ruleType, "gameplay"); // rule1/rule2/mixed

  // æ¨å°æ­£ç¢ºå‹•ä½œ
  const isGo = determineGoOrNoGo(context, stimulusType, ruleType);
  DEBUG.log("æ­£ç¢ºå‹•ä½œ", isGo ? "GOï¼ˆæŒ‰ï¼‰" : "NO-GOï¼ˆä¸æŒ‰ï¼‰", "gameplay");

  // Go:No-Go æ¯”ä¾‹æª¢æŸ¥
  // å°è€é¼ å ´ï¼š75:25ï¼ˆGo è¼ƒå¤šï¼‰
  // é‡£é­šå ´ï¼š80:20ï¼ˆGo è¼ƒå¤šï¼‰
  DEBUG.groupEnd();
  return isGo;
}
```

#### å•é¡Œ 3ï¼šCombo æ¨é€²ç•°å¸¸

```javascript
// é™¤éŒ¯æ­¥é©Ÿï¼š
// 1. è¿½è¹¤ currentComboIndex çš„è®ŠåŒ–
// 2. ç¢ºèª combo å®Œæˆæ¢ä»¶
// 3. æª¢æŸ¥ WM æ¸¬é©—æ˜¯å¦å½±éŸ¿æ¨é€²

function onComboComplete(comboIndex) {
  DEBUG.group(`ğŸ“¦ Combo ${comboIndex} å®Œæˆ`);
  DEBUG.log("combo çµæ§‹", gameCombos[comboIndex], "gameplay");
  DEBUG.log("åˆ†æ•¸", comboStatus[`combo_${comboIndex}`].score, "gameplay");
  DEBUG.log(
    "æ­£ç¢ºæ•¸",
    comboStatus[`combo_${comboIndex}`].correctCount,
    "gameplay",
  );

  // æ˜¯å¦æœ‰ WM æ¸¬é©—
  const hasWM = gameCombos[comboIndex].enableWM;
  DEBUG.log("éœ€è¦ WM æ¸¬é©—", hasWM, "gameplay");

  if (hasWM) {
    DEBUG.log(
      "WM æ–¹å‘",
      gameCombos[comboIndex].workingMemoryTest.direction,
      "gameplay",
    );
    DEBUG.log(
      "WM é¡Œæ•¸",
      gameCombos[comboIndex].workingMemoryTest.testCount,
      "gameplay",
    );
  }

  // ä¸‹ä¸€æ­¥
  const nextIndex = comboIndex + 1;
  const isAllDone = nextIndex >= gameCombos.length;
  DEBUG.log("ä¸‹ä¸€å€‹ combo", isAllDone ? "å…¨éƒ¨å®Œæˆï¼" : nextIndex, "gameplay");
  DEBUG.groupEnd();
}
```

#### å•é¡Œ 4ï¼šFirebase å¤šäººåŒæ­¥ç•°å¸¸

```javascript
// é™¤éŒ¯æ­¥é©Ÿï¼š
// 1. é–‹å•Ÿ Firebase Console â†’ Realtime Database â†’ å³æ™‚æª¢è¦–
// 2. é–‹ 2-3 å€‹ Tab æ¨¡æ“¬å¤šç©å®¶
// 3. ç”¨ firebase.database.enableLogging(true) è¿½è¹¤

// å•Ÿç”¨ Firebase å…§å»º debug log
firebase.database.enableLogging(true);

// è¿½è¹¤æˆ¿é–“ç‹€æ…‹è®ŠåŒ–
function debugRoomSync(roomCode) {
  const roomRef = firebase.database().ref(`rooms/${roomCode}`);

  // ç›£è½ç‹€æ…‹è®ŠåŒ–
  roomRef.child("status").on("value", (snap) => {
    DEBUG.log("æˆ¿é–“ç‹€æ…‹", snap.val(), "firebase");
    // waiting â†’ playing â†’ finished
  });

  // ç›£è½ç©å®¶è®ŠåŒ–
  roomRef.child("players").on("child_changed", (snap) => {
    DEBUG.log(`ç©å®¶ ${snap.key} æ›´æ–°`, snap.val(), "firebase");
  });

  // ç›£è½å…¨å“¡å®Œæˆ
  roomRef.child("allCompleted").on("value", (snap) => {
    if (snap.val()) {
      DEBUG.log("ğŸ å…¨å“¡å®Œæˆï¼", null, "firebase");
    }
  });
}

// å¤š Tab æ¸¬è©¦æ­¥é©Ÿï¼š
// Tab 1ï¼šå»ºç«‹æˆ¿é–“ï¼ˆæˆ¿ä¸»ï¼‰
// Tab 2ï¼šåŠ å…¥æˆ¿é–“ï¼ˆç©å®¶ Aï¼‰
// Tab 3ï¼šåŠ å…¥æˆ¿é–“ï¼ˆç©å®¶ Bï¼‰
// â†’ è§€å¯Ÿ RTDB ä¸­çš„å³æ™‚è®ŠåŒ–

// æ–·ç·šæ¸¬è©¦ï¼š
// 1. é—œé–‰æˆ¿ä¸» Tab â†’ è§€å¯Ÿ onDisconnect æ˜¯å¦è§¸ç™¼æˆ¿ä¸»è½‰ç§»
// 2. Network â†’ Offline â†’ è§€å¯Ÿæ–·ç·šé‡é€£ï¼ˆ5ç§’ Ã— 6æ¬¡ï¼‰
```

#### å•é¡Œ 5ï¼šWM å·¥ä½œè¨˜æ†¶æ¸¬é©—å‡ºéŒ¯

```javascript
function debugWMTest(direction, sequence) {
  DEBUG.group("ğŸ§  WM æ¸¬é©—é™¤éŒ¯");
  DEBUG.log("æ–¹å‘", direction, "wm"); // 'forward' æˆ– 'reverse'
  DEBUG.log("åŸå§‹åºåˆ—", sequence, "wm");

  const expectedAnswer =
    direction === "reverse" ? [...sequence].reverse() : sequence;

  DEBUG.log("é æœŸç­”æ¡ˆ", expectedAnswer, "wm");
  DEBUG.log("åºåˆ—é•·åº¦", sequence.length, "wm");
  DEBUG.groupEnd();
}
```

### æ­£å¼ç‰ˆéƒ¨ç½²å‰æª¢æŸ¥

```javascript
// ç¢ºä¿æ­£å¼ç‰ˆé—œé–‰æ‰€æœ‰é™¤éŒ¯åŠŸèƒ½
const RELEASE_CHECKLIST = {
  "ç§»é™¤æ‰€æœ‰ debugger": false,
  "ç§»é™¤æ‰€æœ‰ console.log": false,
  "é—œé–‰ DEBUG ç³»çµ±": false,
  "ç§»é™¤ Visual Debug é¢æ¿": false,
  ç§»é™¤æ¸¬è©¦ç”¨ç¨‹å¼ç¢¼: false,
  "é©—è­‰ Firebase è¦å‰‡ï¼ˆRTDB + Firestoreï¼‰": false,
  "é©—è­‰ CSP è¨­å®š": false,
  "æ¸¬è©¦æ‰€æœ‰åŠŸèƒ½ï¼ˆChrome + Safari + iPadï¼‰": false,
  æ•ˆèƒ½æ¸¬è©¦é€šé: false,
  è§¸æ§æ“ä½œå…¨æµç¨‹æ¸¬è©¦: false,
};

// è‡ªå‹•åŒ–æª¢æŸ¥è…³æœ¬
function checkRelease() {
  const errors = [];

  // æª¢æŸ¥ç¨‹å¼ç¢¼ä¸­æ˜¯å¦æœ‰ debugger
  if (document.body.innerHTML.includes("debugger")) {
    errors.push("ç™¼ç¾ debugger èªå¥");
  }

  // æª¢æŸ¥ DEBUG æ˜¯å¦é—œé–‰
  if (typeof DEBUG !== "undefined" && DEBUG.enabled) {
    errors.push("DEBUG ç³»çµ±æœªé—œé–‰");
  }

  // æª¢æŸ¥ Visual Debug æ˜¯å¦å­˜åœ¨
  if (document.getElementById("debug-panel")) {
    errors.push("Visual Debug é¢æ¿æœªç§»é™¤");
  }

  // æª¢æŸ¥ Firebase logging
  if (firebase.database.INTERNAL?.logger_?.logLevel === "DEBUG") {
    errors.push("Firebase debug logging æœªé—œé–‰");
  }

  if (errors.length > 0) {
    console.error("âŒ ç™¼å¸ƒå‰æª¢æŸ¥å¤±æ•—:", errors);
    return false;
  }

  console.log("âœ“ ç™¼å¸ƒå‰æª¢æŸ¥é€šé");
  return true;
}

// ESLint å»ºè­°è¨­å®šï¼ˆé–‹ç™¼æ™‚ï¼‰ï¼š
// åœ¨ .eslintrc ä¸­åŠ å…¥ï¼š
// "rules": {
//   "no-console": ["warn", { "allow": ["warn", "error"] }],
//   "no-debugger": "warn"
// }
```

[â†‘ å›åˆ°ç›®éŒ„](#ç›®éŒ„)

---

## é™„éŒ„ï¼šå¿«é€Ÿåƒè€ƒ

### Console API é€ŸæŸ¥è¡¨

```javascript
console.log(message, data); // ä¸€èˆ¬è¨Šæ¯
console.error(message, error); // éŒ¯èª¤è¨Šæ¯ï¼ˆç´…è‰²ï¼‰
console.warn(message, data); // è­¦å‘Šè¨Šæ¯ï¼ˆé»ƒè‰²ï¼‰
console.info(message, data); // è³‡è¨Šè¨Šæ¯ï¼ˆè—è‰²ï¼‰
console.table(array); // è¡¨æ ¼é¡¯ç¤º
console.group(label); // ç¾¤çµ„é–‹å§‹
console.groupEnd(); // ç¾¤çµ„çµæŸ
console.time(label); // è¨ˆæ™‚é–‹å§‹
console.timeEnd(label); // è¨ˆæ™‚çµæŸ
console.trace(); // å †ç–Šè¿½è¹¤
console.assert(condition, msg); // æ–·è¨€
console.count(label); // è¨ˆç®—å‘¼å«æ¬¡æ•¸ ğŸ†•
console.countReset(label); // é‡ç½®è¨ˆæ•¸å™¨ ğŸ†•
console.dir(element); // ä»¥ç‰©ä»¶æ–¹å¼é¡¯ç¤º DOM ğŸ†•
console.clear(); // æ¸…é™¤ console
```

### Chrome Console å¯†æŠ€é€ŸæŸ¥è¡¨ ğŸ†•

```javascript
$0; // Elements é¢æ¿é¸å–çš„å…ƒç´ 
$_; // ä¸Šä¸€å€‹ Console åŸ·è¡Œçµæœ
$$("selector"); // querySelectorAll çš„ç°¡å¯«
copy(object); // è¤‡è£½ç‰©ä»¶åˆ°å‰ªè²¼ç°¿
monitor(fn); // ç›£æ§å‡½å¼å‘¼å«
unmonitor(fn); // åœæ­¢ç›£æ§å‡½å¼
monitorEvents(el, type); // ç›£æ§å…ƒç´ äº‹ä»¶
unmonitorEvents(el); // åœæ­¢ç›£æ§äº‹ä»¶
getEventListeners(el); // åˆ—å‡ºå…ƒç´ çš„äº‹ä»¶ç›£è½å™¨
keys(obj) / values(obj); // åˆ—å‡ºç‰©ä»¶çš„éµ/å€¼
```

### å¿«æ·éµé€ŸæŸ¥è¡¨

```
F12                 é–‹å•Ÿé–‹ç™¼è€…å·¥å…·
Ctrl/Cmd + Shift + C  æª¢æŸ¥å…ƒç´ 
Ctrl/Cmd + Shift + J  æ‰“é–‹ Console
F5                  é‡æ–°æ•´ç†é é¢
Ctrl/Cmd + Shift + R  å¼·åˆ¶é‡æ–°æ•´ç†ï¼ˆæ¸…é™¤å¿«å–ï¼‰
F8                  ç¹¼çºŒåŸ·è¡Œï¼ˆdebugger æš«åœæ™‚ï¼‰
F10                 Step Over
F11                 Step Into
Shift + F11         Step Out
```

### å¸¸ç”¨é™¤éŒ¯æ¨¡å¼

```javascript
// 1. å¿«é€Ÿé©—è­‰
console.log("è®Šæ•¸å€¼:", variable);

// 2. è©³ç´°æª¢æŸ¥
console.group("åŠŸèƒ½åç¨±");
console.log("æ­¥é©Ÿ1", data1);
console.log("æ­¥é©Ÿ2", data2);
console.groupEnd();

// 3. æ•ˆèƒ½æ¸¬é‡
console.time("æ“ä½œ");
operation();
console.timeEnd("æ“ä½œ");

// 4. äº’å‹•å¼é™¤éŒ¯
debugger;

// 5. éŒ¯èª¤æ•æ‰
try {
  riskyOperation();
} catch (error) {
  console.error("éŒ¯èª¤:", error);
}
```

[â†‘ å›åˆ°ç›®éŒ„](#ç›®éŒ„)

---

## ç¸½çµ

é™¤éŒ¯æ˜¯é–‹ç™¼éç¨‹ä¸­æœ€é‡è¦çš„æŠ€èƒ½ä¹‹ä¸€ã€‚é¸æ“‡é©åˆçš„é™¤éŒ¯æ–¹æ³•å¯ä»¥å¤§å¹…æå‡é–‹ç™¼æ•ˆç‡ï¼š

- **å¿«é€Ÿé©—è­‰**ï¼šä½¿ç”¨ `console.log`ã€`console.table`ã€`console.count`
- **è¤‡é›œé‚è¼¯**ï¼šä½¿ç”¨ `debugger` å’Œ VS Code åµéŒ¯
- **éŠæˆ²é–‹ç™¼**ï¼šä½¿ç”¨ Visual Debug é¢æ¿
- **ç¶²è·¯å•é¡Œ**ï¼šä½¿ç”¨ Network Tab
- **ç³»çµ±åŒ–**ï¼šä½¿ç”¨è‡ªè¨‚ DEBUG å·¥å…·ç³»çµ±
- **æ­£å¼ç‰ˆ**ï¼šä½¿ç”¨å…¨åŸŸéŒ¯èª¤ç›£è½å’ŒéŒ¯èª¤å›å ±æœå‹™
- **DOM ç›£æ§**ï¼šä½¿ç”¨ MutationObserver å’Œ Chrome DOM æ–·é»
- **éåŒæ­¥å•é¡Œ**ï¼šæ³¨æ„ Async/Await é™·é˜±ï¼Œæª¢æŸ¥æ˜¯å¦æ¼äº† `await`
- **å¿«é€Ÿå®šä½**ï¼šä½¿ç”¨äºŒåˆ†æ³•é™¤éŒ¯å’Œ `git bisect`
- **æ€è€ƒç­–ç•¥**ï¼šç”¨æ©¡çš®é´¨é™¤éŒ¯æ³•å’Œæœ€å°é‡ç¾æ³•é‡æ¸…æ€è·¯
- **Chrome å¯†æŠ€**ï¼šå–„ç”¨ `$0`ã€`monitor()`ã€`getEventListeners()` ç­‰æŒ‡ä»¤
- **CSS / ä¸»é¡Œ**ï¼šä½¿ç”¨ Elements Tabï¼ˆStyles + Computed + Animation é¢æ¿ï¼‰ğŸ†•
- **å„²å­˜ç©ºé–“**ï¼šä½¿ç”¨ Application Tabï¼ˆlocalStorage æª¢è¦–/ç·¨è¼¯ï¼‰ğŸ†•
- **éŸ³è¨Šå•é¡Œ**ï¼šæª¢æŸ¥ AudioContext ç‹€æ…‹ + è‡ªå‹•æ’­æ”¾æ”¿ç­– ğŸ†•
- **è¡Œå‹•è£ç½®**ï¼šä½¿ç”¨ Device Mode + Safari Web Inspector ğŸ†•
- **å¤šäººåŒæ­¥**ï¼šä½¿ç”¨ `firebase.database.enableLogging(true)` + å¤š Tab æ¸¬è©¦ ğŸ†•

è¨˜ä½ï¼š**é™¤éŒ¯ä¸æ˜¯æ‰¾éŒ¯èª¤ï¼Œè€Œæ˜¯ç†è§£ç¨‹å¼å¦‚ä½•é‹ä½œ**ã€‚å–„ç”¨é€™äº›å·¥å…·å’Œç­–ç•¥ï¼Œå¯ä»¥è®“ä½ æ›´å¿«é€Ÿåœ°ç™¼ç¾å•é¡Œä¸¦è§£æ±ºå®ƒå€‘ã€‚
